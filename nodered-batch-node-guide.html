<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Batchãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-split {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-batch {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-join {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-template {
            background-color: #d4b8a0;
            color: #333;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .node-switch {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-delay {
            background-color: #e6bcbe;
            color: #333;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            white-space: pre-wrap;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .copy-button svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #e2d96e;
            color: #333;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #b8a830;
            margin-top: 0;
        }
        
        .mode-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-count {
            background-color: #17a2b8;
            color: white;
        }
        
        .badge-interval {
            background-color: #28a745;
            color: white;
        }
        
        .badge-concat {
            background-color: #6f42c1;
            color: white;
        }
        
        .data-flow {
            background-color: #f0f0f0;
            border: 2px dashed #999;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .data-flow .before {
            background-color: #ffcccc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .after {
            background-color: #ccffcc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .arrow-down {
            display: block;
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
        
        .batch-visual {
            background-color: #e8e8e8;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        
        .batch-visual .msg {
            display: inline-block;
            padding: 5px 10px;
            margin: 2px;
            border-radius: 4px;
            font-size: 12px;
        }
        
        .batch-visual .group1 {
            background-color: #ffcccb;
        }
        
        .batch-visual .group2 {
            background-color: #90EE90;
        }
        
        .batch-visual .group3 {
            background-color: #87CEEB;
        }
        
        .batch-visual .overlap {
            background: linear-gradient(135deg, #ffcccb 50%, #90EE90 50%);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¦ Node-RED Batchãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Batchãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Batchãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€ŒBatchã€ã£ã¦ä½•?</h3>
        <p>
            Batchãƒãƒ¼ãƒ‰ã¯ã€<strong>é€£ç¶šã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹</strong>ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>å·¥å ´ã®ãƒ™ãƒ«ãƒˆã‚³ãƒ³ãƒ™ã‚¢ã§è£½å“ã‚’ç®±è©°ã‚ã™ã‚‹ä½œæ¥­</strong>ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
        </p>
        
        <div class="important">
            <p><strong>ğŸ“¦ å·¥å ´ã®ç®±è©°ã‚ãƒ©ã‚¤ãƒ³ã«ä¾‹ãˆã‚‹ã¨:</strong></p>
            <ul>
                <li>ğŸ­ <strong>è£½å“ãŒ1ã¤ãšã¤æµã‚Œã¦ãã‚‹</strong> = å€‹åˆ¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒåˆ°ç€</li>
                <li>ğŸ“¦ <strong>5å€‹ãšã¤ç®±ã«è©°ã‚ã‚‹</strong> = æ•°é‡ãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆcountãƒ¢ãƒ¼ãƒ‰ï¼‰</li>
                <li>â±ï¸ <strong>10ç§’é–“ã«å±Šã„ãŸåˆ†ã‚’1ç®±ã«</strong> = æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆintervalãƒ¢ãƒ¼ãƒ‰ï¼‰</li>
                <li>ğŸ”— <strong>è¤‡æ•°ãƒ©ã‚¤ãƒ³ã®è£½å“ã‚’é †ç•ªã«1ç®±ã«</strong> = é€£çµãƒ¢ãƒ¼ãƒ‰ï¼ˆconcatãƒ¢ãƒ¼ãƒ‰ï¼‰</li>
            </ul>
        </div>
        
        <h3>ğŸ“¦ åŸºæœ¬çš„ãªå‹•ä½œ</h3>
        <div class="node-example">
            <span class="node node-function">Function<br><small>(é€ä¿¡)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-batch">Batch</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p>
            Batchãƒãƒ¼ãƒ‰ã¯ã€é€£ç¶šã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚Šã€æŒ‡å®šã—ãŸæ¡ä»¶ã§<strong>ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</strong>ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚
            å‡ºåŠ›ã•ã‚Œã‚‹ã®ã¯msg.partsã‚’æŒã¤ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãªã®ã§ã€Joinãƒãƒ¼ãƒ‰ã¨çµ„ã¿åˆã‚ã›ã¦é…åˆ—ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
        </p>
        
        <div class="data-flow">
            <div class="before">
                <strong>å…¥åŠ›ï¼ˆ30å€‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰</strong><br>
                0 â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ 6 â†’ ... â†’ 29
            </div>
            <span class="arrow-down">â†“ Batchï¼ˆ5å€‹ãšã¤ï¼‰ â†“</span>
            <div class="after">
                <strong>å‡ºåŠ›ï¼ˆ6ã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰</strong><br>
                [0,1,2,3,4] â†’ [5,6,7,8,9] â†’ ... â†’ [25,26,27,28,29]
            </div>
        </div>
        
        <h2>âš™ï¸ 2. Batchãƒãƒ¼ãƒ‰ã®3ã¤ã®ãƒ¢ãƒ¼ãƒ‰</h2>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-count">æ•°é‡</span> æ•°é‡ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰</h4>
                <p>æŒ‡å®šã—ãŸæ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</p>
                <div class="code-block">Nå€‹ãšã¤ã¾ã¨ã‚ã¦
ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ä½œæˆ
ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—å¯èƒ½</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-interval">æ™‚é–“</span> æ™‚é–“ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰</h4>
                <p>æŒ‡å®šæ™‚é–“å†…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</p>
                <div class="code-block">Nç§’é–“ã«å±Šã„ãŸ
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã‚°ãƒ«ãƒ¼ãƒ—ã«</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-concat">é€£çµ</span> é€£çµãƒ¢ãƒ¼ãƒ‰</h4>
                <p>è¤‡æ•°ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’çµåˆ</p>
                <div class="code-block">ãƒˆãƒ”ãƒƒã‚¯åˆ¥ã®
ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’é †ç•ªã«é€£çµ</div>
            </div>
        </div>
        
        <h3>ğŸ“‹ è¨­å®šé …ç›®ä¸€è¦§</h3>
        
        <table>
            <tr>
                <th>è¨­å®šé …ç›®</th>
                <th>èª¬æ˜</th>
                <th>ä½¿ç”¨ãƒ¢ãƒ¼ãƒ‰</th>
            </tr>
            <tr>
                <td><strong>ãƒ¢ãƒ¼ãƒ‰</strong></td>
                <td>æ•°é‡/æ™‚é–“/é€£çµã‹ã‚‰é¸æŠ</td>
                <td>å…¨ãƒ¢ãƒ¼ãƒ‰å…±é€š</td>
            </tr>
            <tr>
                <td><strong>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°</strong></td>
                <td>1ã‚°ãƒ«ãƒ¼ãƒ—ã«ã¾ã¨ã‚ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°</td>
                <td>æ•°é‡ãƒ™ãƒ¼ã‚¹</td>
            </tr>
            <tr>
                <td><strong>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—</strong></td>
                <td>éš£æ¥ã‚°ãƒ«ãƒ¼ãƒ—é–“ã§å…±æœ‰ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°</td>
                <td>æ•°é‡ãƒ™ãƒ¼ã‚¹</td>
            </tr>
            <tr>
                <td><strong>msg.partsã‚’ä½¿ç”¨</strong></td>
                <td>å—ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®msg.partsã‚’è€ƒæ…®ã™ã‚‹</td>
                <td>æ•°é‡ãƒ™ãƒ¼ã‚¹</td>
            </tr>
            <tr>
                <td><strong>é–“éš”ï¼ˆç§’ï¼‰</strong></td>
                <td>ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹æ™‚é–“é–“éš”</td>
                <td>æ™‚é–“ãƒ™ãƒ¼ã‚¹</td>
            </tr>
            <tr>
                <td><strong>ç©ºã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¨±å¯</strong></td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãªã„å ´åˆã‚‚ç©ºã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’å‡ºåŠ›</td>
                <td>æ™‚é–“ãƒ™ãƒ¼ã‚¹</td>
            </tr>
            <tr>
                <td><strong>ãƒˆãƒ”ãƒƒã‚¯</strong></td>
                <td>é€£çµã™ã‚‹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ãƒˆãƒ”ãƒƒã‚¯é †åº</td>
                <td>é€£çµãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
        </table>
        
        <h3>ğŸ¯ ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã®å‹•ä½œ</h3>
        
        <p>æ•°é‡ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ã‚°ãƒ«ãƒ¼ãƒ—é–“ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…±æœ‰ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ï¼‰ã§ãã¾ã™ã€‚</p>
        
        <div class="batch-visual">
            <p><strong>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ãªã—ï¼ˆoverlap=0ï¼‰:</strong></p>
            <span class="msg group1">0</span>
            <span class="msg group1">1</span>
            <span class="msg group1">2</span>
            <span class="msg group1">3</span>
            <span class="msg group1">4</span>
            |
            <span class="msg group2">5</span>
            <span class="msg group2">6</span>
            <span class="msg group2">7</span>
            <span class="msg group2">8</span>
            <span class="msg group2">9</span>
            |
            <span class="msg group3">10</span>...
            <br><br>
            <p><strong>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã‚ã‚Šï¼ˆoverlap=1ï¼‰:</strong></p>
            <span class="msg group1">0</span>
            <span class="msg group1">1</span>
            <span class="msg group1">2</span>
            <span class="msg group1">3</span>
            <span class="msg overlap">4</span>
            <span class="msg group2">5</span>
            <span class="msg group2">6</span>
            <span class="msg group2">7</span>
            <span class="msg overlap">8</span>
            <span class="msg group3">9</span>...
            <br>
            <small>ã‚°ãƒ«ãƒ¼ãƒ—1: [0,1,2,3,4] â†’ ã‚°ãƒ«ãƒ¼ãƒ—2: [4,5,6,7,8] â†’ ã‚°ãƒ«ãƒ¼ãƒ—3: [8,9,10,11,12]...</small>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã®æ´»ç”¨ä¾‹:</strong></p>
            <ul>
                <li><strong>ç§»å‹•å¹³å‡ã®è¨ˆç®—</strong>: ç›´è¿‘5ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã§å¹³å‡ã‚’å–ã‚Šã€1ä»¶ãšã¤ã‚¹ãƒ©ã‚¤ãƒ‰</li>
                <li><strong>ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º</strong>: å‰å¾Œã®æ–‡è„ˆã‚’å«ã‚ãŸãƒ‡ãƒ¼ã‚¿åˆ†æ</li>
                <li><strong>ç•°å¸¸æ¤œçŸ¥</strong>: é€£ç¶šã—ãŸãƒ‡ãƒ¼ã‚¿ã®å¤‰åŒ–ç‚¹ã‚’æ¤œå‡º</li>
            </ul>
        </div>
        
        <h2>ğŸ¯ 3. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <div class="important">
            <p><strong>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹æ³•:</strong></p>
            <ol>
                <li>ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONã‚’ã‚³ãƒ”ãƒ¼</li>
                <li>Node-REDã‚¨ãƒ‡ã‚£ã‚¿ã§ <strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ èª­ã¿è¾¼ã¿</strong> ã‚’é¸æŠ</li>
                <li>JSONã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã€Œèª­ã¿è¾¼ã¿ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
            <p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>
        
        <details>
            <summary>ğŸ“‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <p style="margin: 10px 0; color: #666;"><small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small></p>
            <div class="flow-json">[
    {
        "id": "batch_sample_tab",
        "type": "tab",
        "label": "Batch Sample",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "batch_count_inject",
        "type": "inject",
        "z": "batch_sample_tab",
        "name": "å®Ÿè¡Œ",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["batch_count_func"]]
    },
    {
        "id": "batch_count_func",
        "type": "function",
        "z": "batch_sample_tab",
        "name": "send: 0-29",
        "func": "for(var x = 0; x < 30; x++) {\n    node.send({payload: x});\n}",
        "outputs": 1,
        "x": 250,
        "y": 100,
        "wires": [["batch_count_node"]]
    },
    {
        "id": "batch_count_node",
        "type": "batch",
        "z": "batch_sample_tab",
        "name": "5å€‹ãšã¤",
        "mode": "count",
        "count": "5",
        "overlap": 0,
        "interval": 10,
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 400,
        "y": 100,
        "wires": [["batch_count_join"]]
    },
    {
        "id": "batch_count_join",
        "type": "join",
        "z": "batch_sample_tab",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 550,
        "y": 100,
        "wires": [["batch_count_debug"]]
    },
    {
        "id": "batch_count_debug",
        "type": "debug",
        "z": "batch_sample_tab",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 690,
        "y": 100,
        "wires": []
    },
    {
        "id": "batch_overlap_inject",
        "type": "inject",
        "z": "batch_sample_tab",
        "name": "å®Ÿè¡Œ",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 200,
        "wires": [["batch_overlap_func"]]
    },
    {
        "id": "batch_overlap_func",
        "type": "function",
        "z": "batch_sample_tab",
        "name": "send: 0-14",
        "func": "for(var x = 0; x < 15; x++) {\n    node.send({payload: x});\n}",
        "outputs": 1,
        "x": 250,
        "y": 200,
        "wires": [["batch_overlap_node"]]
    },
    {
        "id": "batch_overlap_node",
        "type": "batch",
        "z": "batch_sample_tab",
        "name": "5å€‹(overlap=2)",
        "mode": "count",
        "count": "5",
        "overlap": "2",
        "interval": 10,
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 420,
        "y": 200,
        "wires": [["batch_overlap_join"]]
    },
    {
        "id": "batch_overlap_join",
        "type": "join",
        "z": "batch_sample_tab",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 570,
        "y": 200,
        "wires": [["batch_overlap_debug"]]
    },
    {
        "id": "batch_overlap_debug",
        "type": "debug",
        "z": "batch_sample_tab",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 710,
        "y": 200,
        "wires": []
    },
    {
        "id": "batch_interval_inject",
        "type": "inject",
        "z": "batch_sample_tab",
        "name": "å®Ÿè¡Œ",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 320,
        "wires": [["batch_interval_func"]]
    },
    {
        "id": "batch_interval_func",
        "type": "function",
        "z": "batch_sample_tab",
        "name": "send: 0-9",
        "func": "for(var x = 0; x < 10; x++) {\n    node.send({payload: x});\n}",
        "outputs": 1,
        "x": 250,
        "y": 320,
        "wires": [["batch_interval_delay"]]
    },
    {
        "id": "batch_interval_delay",
        "type": "delay",
        "z": "batch_sample_tab",
        "name": "1msg/sec",
        "pauseType": "rate",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 400,
        "y": 320,
        "wires": [["batch_interval_node"]]
    },
    {
        "id": "batch_interval_node",
        "type": "batch",
        "z": "batch_sample_tab",
        "name": "3ç§’é–“éš”",
        "mode": "interval",
        "count": 10,
        "overlap": 0,
        "interval": "3",
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 540,
        "y": 320,
        "wires": [["batch_interval_join"]]
    },
    {
        "id": "batch_interval_join",
        "type": "join",
        "z": "batch_sample_tab",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 670,
        "y": 320,
        "wires": [["batch_interval_debug"]]
    },
    {
        "id": "batch_interval_debug",
        "type": "debug",
        "z": "batch_sample_tab",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 810,
        "y": 320,
        "wires": []
    }
]</div>
        </details>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ•°é‡ãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</h3>
        <p><strong>ç”¨é€”:</strong> é€£ç¶šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ‡å®šæ•°ãšã¤ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">Function<br><small>(0-29é€ä¿¡)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-batch">Batch<br><small>(count=5)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>Functionãƒãƒ¼ãƒ‰ã§0ã€œ29ã®30ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€£ç¶šé€ä¿¡</li>
                <li>Batchãƒãƒ¼ãƒ‰ãŒ5ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãšã¤ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</li>
                <li>6ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’å‡ºåŠ›ï¼ˆå„5ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰</li>
                <li>Joinãƒãƒ¼ãƒ‰ã§ãã‚Œãã‚Œã‚’JSONé…åˆ—ã«å¤‰æ›</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ•°é‡ãƒ™ãƒ¼ã‚¹
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 5
ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—: 0

å…¥åŠ›: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, ... , 29 (30ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
å‡ºåŠ›: [0,1,2,3,4], [5,6,7,8,9], ... , [25,26,27,28,29] (6ã‚°ãƒ«ãƒ¼ãƒ—)</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ä»˜ãã‚°ãƒ«ãƒ¼ãƒ—åŒ–</h3>
        <p><strong>ç”¨é€”:</strong> éš£æ¥ã‚°ãƒ«ãƒ¼ãƒ—ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…±æœ‰ï¼ˆç§»å‹•å¹³å‡ãªã©ï¼‰</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">Function<br><small>(0-29é€ä¿¡)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-batch">Batch<br><small>(count=5, overlap=1)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã®åŠ¹æœ:</strong></p>
            <ul>
                <li>overlap=1ã®å ´åˆã€å„ã‚°ãƒ«ãƒ¼ãƒ—ã®æœ€å¾Œã®1ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ¬¡ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚‚å«ã¾ã‚Œã‚‹</li>
                <li>30ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ â†’ 7ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ãªã—ãªã‚‰6ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ•°é‡ãƒ™ãƒ¼ã‚¹
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 5
ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—: 1

å…¥åŠ›: 0, 1, 2, ..., 29 (30ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
å‡ºåŠ›: 
  ã‚°ãƒ«ãƒ¼ãƒ—1: [0,1,2,3,4]
  ã‚°ãƒ«ãƒ¼ãƒ—2: [4,5,6,7,8]    â† 4ãŒå…±æœ‰
  ã‚°ãƒ«ãƒ¼ãƒ—3: [8,9,10,11,12] â† 8ãŒå…±æœ‰
  ...</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</h3>
        <p><strong>ç”¨é€”:</strong> ä¸€å®šæ™‚é–“å†…ã«å±Šã„ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã¾ã¨ã‚ã‚‹</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">Function</span>
            <span class="arrow">â†’</span>
            <span class="node node-delay">Delay<br><small>(1msg/sec)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-batch">Batch<br><small>(5ç§’é–“éš”)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li>Delayãƒãƒ¼ãƒ‰ã§1ç§’ã«1ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãšã¤é€ä¿¡</li>
                <li>Batchãƒãƒ¼ãƒ‰ãŒ5ç§’ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å‡ºåŠ›</li>
                <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã¯å¯å¤‰ï¼ˆ5ç§’é–“ã«å±Šã„ãŸæ•°ã ã‘ï¼‰</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ™‚é–“ãƒ™ãƒ¼ã‚¹
é–“éš”: 5ç§’
ç©ºã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¨±å¯: OFF

å…¥åŠ›: 1ç§’é–“éš”ã§ 0, 1, 2, 3, ... , 29
å‡ºåŠ›: 5ç§’ã”ã¨ã«
  [0,1,2,3,4] â†’ [5,6,7,8,9] â†’ ...</div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å¿œç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆé€£çµãƒ¢ãƒ¼ãƒ‰ï¼‰:</strong></p>
            <p>é€£çµãƒ¢ãƒ¼ãƒ‰ã¯ã€ç•°ãªã‚‹ãƒˆãƒ”ãƒƒã‚¯ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’é †ç•ªã«çµåˆã™ã‚‹é«˜åº¦ãªæ©Ÿèƒ½ã§ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªç”¨é€”ã§æ´»ç”¨ã§ãã¾ã™ï¼š</p>
            <ul>
                <li><strong>ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®é€£çµ</strong>: åŒã˜ãƒˆãƒ”ãƒƒã‚¯ã®è¤‡æ•°ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’é †ç•ªã«çµåˆ</li>
                <li><strong>ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¾Œã®å†æ§‹æˆ</strong>: Switchã§åˆ†å²ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒˆãƒ”ãƒƒã‚¯åˆ¥ã«å†çµåˆ</li>
                <li><strong>ãƒ‡ãƒ¼ã‚¿ã®åˆ†é¡ã¨çµ±åˆ</strong>: æ­£è² ã®å€¤ã‚’åˆ†é›¢ã—ã¦ã€è² â†’æ­£ã®é †ã«ä¸¦ã¹æ›¿ãˆ</li>
            </ul>
        </div>
        
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªã‚°ãƒ«ãƒ¼ãƒ—åŒ–<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>1ã€œ12ã®æ•°å€¤ã‚’3ã¤ãšã¤ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Functionã€Batchã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: 1, 2, 3, ..., 12ï¼ˆ12ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰</li>
                <li>å‡ºåŠ›: [1,2,3], [4,5,6], [7,8,9], [10,11,12]ï¼ˆ4ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ 4ã¤ã®é…åˆ—ãŒDebugã«è¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚³ãƒ¼ãƒ‰ä¾‹:<br>
                    <code>for(var i = 1; i <= 12; i++) {</code><br>
                    <code>    node.send({payload: i});</code><br>
                    <code>}</code></li>
                </ul>
                <p><strong>Batchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ•°é‡ãƒ™ãƒ¼ã‚¹</li>
                    <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 3</li>
                    <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—: 0</li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: è‡ªå‹•</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex1_function"]]
    },
    {
        "id": "ex1_function",
        "type": "function",
        "name": "1-12é€ä¿¡",
        "func": "for(var i = 1; i <= 12; i++) {\n    node.send({payload: i});\n}",
        "outputs": 1,
        "x": 260,
        "y": 100,
        "wires": [["ex1_batch"]]
    },
    {
        "id": "ex1_batch",
        "type": "batch",
        "name": "3å€‹ãšã¤",
        "mode": "count",
        "count": "3",
        "overlap": "0",
        "interval": 10,
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 400,
        "y": 100,
        "wires": [["ex1_join"]]
    },
    {
        "id": "ex1_join",
        "type": "join",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 550,
        "y": 100,
        "wires": [["ex1_debug"]]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 690,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ç§»å‹•ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®å®Ÿè£…<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã‚’ä½¿ã£ã¦3è¦ç´ ã®ç§»å‹•ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Functionã€Batchã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: 1, 2, 3, 4, 5, 6ï¼ˆ6ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰</li>
                <li>å‡ºåŠ›: [1,2,3], [2,3,4], [3,4,5], [4,5,6]ï¼ˆ4ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>å„ã‚°ãƒ«ãƒ¼ãƒ—ãŒ2è¦ç´ ãšã¤ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã™ã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>1ã€œ6ã®6ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡</li>
                </ul>
                <p><strong>Batchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ•°é‡ãƒ™ãƒ¼ã‚¹</li>
                    <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 3</li>
                    <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—: 2ï¼ˆ3-1=2ã§1è¦ç´ ãšã¤ã‚¹ãƒ©ã‚¤ãƒ‰ï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex2_function"]]
    },
    {
        "id": "ex2_function",
        "type": "function",
        "name": "1-6é€ä¿¡",
        "func": "for(var i = 1; i <= 6; i++) {\n    node.send({payload: i});\n}",
        "outputs": 1,
        "x": 260,
        "y": 100,
        "wires": [["ex2_batch"]]
    },
    {
        "id": "ex2_batch",
        "type": "batch",
        "name": "3å€‹(overlap=2)",
        "mode": "count",
        "count": "3",
        "overlap": "2",
        "interval": 10,
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 420,
        "y": 100,
        "wires": [["ex2_join"]]
    },
    {
        "id": "ex2_join",
        "type": "join",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 570,
        "y": 100,
        "wires": [["ex2_debug"]]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 710,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: æ™‚é–“ãƒ™ãƒ¼ã‚¹ã®é›†ç´„<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>2ç§’ã”ã¨ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Functionã€Delayã€Batchã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: 0.5ç§’é–“éš”ã§10ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
                <li>å‡ºåŠ›: 2ç§’é–“ã«å±Šã„ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é…åˆ—åŒ–</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>ç´„4ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãšã¤ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒè¤‡æ•°å‡ºåŠ›ã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>0ã€œ9ã®10ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡</li>
                </ul>
                <p><strong>Delayãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ¢ãƒ¼ãƒ‰</li>
                    <li>2ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸/ç§’ï¼ˆ0.5ç§’é–“éš”ï¼‰</li>
                </ul>
                <p><strong>Batchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ™‚é–“ãƒ™ãƒ¼ã‚¹</li>
                    <li>é–“éš”: 2ç§’</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex3_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 100,
        "wires": [["ex3_function"]]
    },
    {
        "id": "ex3_function",
        "type": "function",
        "name": "0-9é€ä¿¡",
        "func": "for(var i = 0; i < 10; i++) {\n    node.send({payload: i});\n}",
        "outputs": 1,
        "x": 220,
        "y": 100,
        "wires": [["ex3_delay"]]
    },
    {
        "id": "ex3_delay",
        "type": "delay",
        "name": "2msg/sec",
        "pauseType": "rate",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "2",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 360,
        "y": 100,
        "wires": [["ex3_batch"]]
    },
    {
        "id": "ex3_batch",
        "type": "batch",
        "name": "2ç§’é–“éš”",
        "mode": "interval",
        "count": 10,
        "overlap": 0,
        "interval": "2",
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 500,
        "y": 100,
        "wires": [["ex3_join"]]
    },
    {
        "id": "ex3_join",
        "type": "join",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 630,
        "y": 100,
        "wires": [["ex3_debug"]]
    },
    {
        "id": "ex3_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 770,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ç§»å‹•å¹³å‡<span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚»ãƒ³ã‚µãƒ¼å€¤ã®3ç‚¹ç§»å‹•å¹³å‡ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Splitã€Batchã€Joinã€Functionã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: [10, 20, 30, 40, 50]</li>
                <li>å‡ºåŠ›: å„3ç‚¹ã®å¹³å‡å€¤ï¼ˆ20, 30, 40ï¼‰</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>3ç‚¹ãšã¤ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§å¹³å‡ã‚’è¨ˆç®—</li>
                <li>(10+20+30)/3=20, (20+30+40)/3=30, (30+40+50)/3=40</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: JSON</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: [10, 20, 30, 40, 50]</li>
                </ul>
                <p><strong>Splitãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>é…åˆ—ã‚’å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«åˆ†å‰²</li>
                </ul>
                <p><strong>Batchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ•°é‡ãƒ™ãƒ¼ã‚¹</li>
                    <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 3</li>
                    <li>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—: 2</li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: è‡ªå‹•ï¼ˆé…åˆ—ã«çµåˆï¼‰</li>
                </ul>
                <p><strong>Functionãƒãƒ¼ãƒ‰ï¼ˆå¹³å‡è¨ˆç®—ï¼‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>é…åˆ—ã®å¹³å‡ã‚’è¨ˆç®—ã—ã¦msg.payloadã«è¨­å®š</li>
                    <li>ã‚³ãƒ¼ãƒ‰ä¾‹: <code>msg.payload = msg.payload.reduce((a,b)=>a+b) / msg.payload.length;</code></li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex4_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 100,
        "wires": [["ex4_template"]]
    },
    {
        "id": "ex4_template",
        "type": "template",
        "name": "ã‚»ãƒ³ã‚µãƒ¼å€¤",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[10, 20, 30, 40, 50]",
        "output": "json",
        "x": 220,
        "y": 100,
        "wires": [["ex4_split"]]
    },
    {
        "id": "ex4_split",
        "type": "split",
        "name": "åˆ†å‰²",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 350,
        "y": 100,
        "wires": [["ex4_batch"]]
    },
    {
        "id": "ex4_batch",
        "type": "batch",
        "name": "3ç‚¹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦",
        "mode": "count",
        "count": "3",
        "overlap": "2",
        "interval": 10,
        "allowEmptySequence": false,
        "honourParts": false,
        "topics": [],
        "x": 480,
        "y": 100,
        "wires": [["ex4_join"]]
    },
    {
        "id": "ex4_join",
        "type": "join",
        "name": "é…åˆ—åŒ–",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "x": 610,
        "y": 100,
        "wires": [["ex4_avg"]]
    },
    {
        "id": "ex4_avg",
        "type": "function",
        "name": "å¹³å‡è¨ˆç®—",
        "func": "msg.payload = msg.payload.reduce((a,b) => a+b) / msg.payload.length;\nreturn msg;",
        "outputs": 1,
        "x": 740,
        "y": 100,
        "wires": [["ex4_debug"]]
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 870,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Batchãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>3ã¤ã®ãƒ¢ãƒ¼ãƒ‰</strong>: æ•°é‡ãƒ™ãƒ¼ã‚¹ã€æ™‚é–“ãƒ™ãƒ¼ã‚¹ã€é€£çµãƒ¢ãƒ¼ãƒ‰</li>
                <li>âœ… <strong>æ•°é‡ãƒ™ãƒ¼ã‚¹</strong>: Nå€‹ãšã¤ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—è¨­å®šå¯èƒ½</li>
                <li>âœ… <strong>æ™‚é–“ãƒ™ãƒ¼ã‚¹</strong>: æŒ‡å®šç§’æ•°ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—ã‚’å‡ºåŠ›</li>
                <li>âœ… <strong>é€£çµãƒ¢ãƒ¼ãƒ‰</strong>: ãƒˆãƒ”ãƒƒã‚¯åˆ¥ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’é †ç•ªã«çµåˆ</li>
                <li>âœ… <strong>Joinã¨ã®é€£æº</strong>: å‡ºåŠ›ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’Joinã§é…åˆ—åŒ–ã™ã‚‹ã®ãŒä¸€èˆ¬çš„</li>
            </ul>
        </div>
        
        <div class="warning">
            <h3>âš ï¸ ã‚ˆãã‚ã‚‹é–“é•ã„</h3>
            <ul>
                <li><strong>Joinãƒãƒ¼ãƒ‰ã®å¿˜ã‚Œ</strong>: Batchã®å‡ºåŠ›ã¯ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã€é…åˆ—ã«ã™ã‚‹ã«ã¯JoinãŒå¿…è¦</li>
                <li><strong>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ã®è¨ˆç®—ãƒŸã‚¹</strong>: overlap = count - ã‚¹ãƒ©ã‚¤ãƒ‰å¹…</li>
                <li><strong>æ™‚é–“ãƒ¢ãƒ¼ãƒ‰ã§ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°</strong>: æœ€åˆã®å‡ºåŠ›ã¯æŒ‡å®šç§’æ•°å¾Œ</li>
                <li><strong>é€£çµãƒ¢ãƒ¼ãƒ‰ã®ãƒˆãƒ”ãƒƒã‚¯æœªè¨­å®š</strong>: msg.topicãŒè¨­å®šã•ã‚Œã¦ã„ãªã„ã¨å‹•ä½œã—ãªã„</li>
                <li><strong>ç©ºã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®æ‰±ã„</strong>: æ™‚é–“ãƒ¢ãƒ¼ãƒ‰ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãªã„å ´åˆã®å‹•ä½œã‚’ç¢ºèª</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Batchãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Splitãƒãƒ¼ãƒ‰</strong>: é…åˆ—ã‚’å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«åˆ†å‰²</li>
                <li><strong>Joinãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’çµåˆ</li>
                <li><strong>Sortãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä¸¦ã¹æ›¿ãˆ</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>ã‚°ãƒ«ãƒ¼ãƒ—ãŒå‡ºåŠ›ã•ã‚Œãªã„</td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ãŒè¶³ã‚Šãªã„</td>
                <td>countæ•°ä»¥ä¸Šã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ã‹ã€æ™‚é–“ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨</td>
            </tr>
            <tr>
                <td>é…åˆ—ã«ãªã‚‰ãªã„</td>
                <td>Joinãƒãƒ¼ãƒ‰ãŒãªã„</td>
                <td>Batchã®å¾Œã«Joinãƒãƒ¼ãƒ‰ã‚’è¿½åŠ </td>
            </tr>
            <tr>
                <td>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ãŒæƒ³å®šã¨é•ã†</td>
                <td>ã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—å€¤ã®ç†è§£ãƒŸã‚¹</td>
                <td>overlap = count - ç§»å‹•å¹… ã§è¨ˆç®—</td>
            </tr>
            <tr>
                <td>é€£çµãƒ¢ãƒ¼ãƒ‰ãŒå‹•ã‹ãªã„</td>
                <td>msg.topicãŒæœªè¨­å®š</td>
                <td>Changeãƒãƒ¼ãƒ‰ã§topicã‚’è¨­å®š</td>
            </tr>
            <tr>
                <td>æ™‚é–“ãƒ¢ãƒ¼ãƒ‰ã§ç©ºã‚°ãƒ«ãƒ¼ãƒ—</td>
                <td>ç©ºã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¨±å¯ãŒON</td>
                <td>å¿…è¦ã«å¿œã˜ã¦è¨­å®šã‚’å¤‰æ›´</td>
            </tr>
            <tr>
                <td>ã‚°ãƒ«ãƒ¼ãƒ—ã‚µã‚¤ã‚ºãŒä¸å‡ä¸€</td>
                <td>æ™‚é–“ãƒ¢ãƒ¼ãƒ‰ä½¿ç”¨ä¸­</td>
                <td>æ•°é‡ãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´ã™ã‚‹ã‹ã€æƒ³å®šå†…ã¨ã—ã¦å¯¾å¿œ</td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ç§»å‹•å¹³å‡</h3>
        <div class="code-block">æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰1ç§’ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿å—ä¿¡
â†“
Batchï¼ˆcount=5, overlap=4ï¼‰
â†“
5ç‚¹ç§»å‹•å¹³å‡ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
â†“
Join â†’ Functionï¼ˆå¹³å‡è¨ˆç®—ï¼‰
â†“
ãƒã‚¤ã‚ºã‚’é™¤å»ã—ãŸæ¸©åº¦å€¤</div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: ãƒ­ã‚°ã®å®šæœŸãƒãƒƒãƒå‡¦ç†</h3>
        <div class="code-block">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ãŒéšæ™‚åˆ°ç€
â†“
Batchï¼ˆinterval=60ç§’ï¼‰
â†“
1åˆ†é–“ã®ãƒ­ã‚°ã‚’ã¾ã¨ã‚ã‚‹
â†“
Join â†’ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¸€æ‹¬ä¿å­˜</div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: APIãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–</h3>
        <div class="code-block">å¤§é‡ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ
â†“
Batchï¼ˆcount=10ï¼‰
â†“
10ä»¶ãšã¤ã¾ã¨ã‚ã‚‹
â†“
ãƒãƒ«ã‚¯APIã§ä¸€æ‹¬é€ä¿¡
â†“
APIå‘¼ã³å‡ºã—å›æ•°ã‚’1/10ã«å‰Šæ¸›</div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: IoTãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿é›†ç´„</h3>
        <div class="code-block">è¤‡æ•°ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆç•°ãªã‚‹topicï¼‰
â†“
Batchï¼ˆconcat mode: temp, humidity, pressureï¼‰
â†“
ã‚»ãƒ³ã‚µãƒ¼ç¨®åˆ¥ã”ã¨ã«é †åºä»˜ã‘ã¦çµåˆ
â†“
çµ±åˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ</div>
        
        <h2>ğŸ”— 8. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/messages" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ“ä½œ</a></li>
            <li><a href="https://nodered.org/docs/user-guide/nodes#batch" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Batchãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://cookbook.nodered.org/" target="_blank">Node-RED Cookbook</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Batchãƒãƒ¼ãƒ‰ã¯ãƒ‡ãƒ¼ã‚¿é›†ç´„ãƒ»ç§»å‹•å¹³å‡è¨ˆç®—ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</small><br>
            <small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            var codeBlocks = document.querySelectorAll('.flow-json');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                var button = document.createElement('button');
                button.className = 'copy-button';
                button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ï¼ˆãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’é™¤å¤–ï¼‰
                    var code = block.textContent.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';" title="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ </a>
</body>
</html>
