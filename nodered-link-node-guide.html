<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Link ãƒãƒ¼ãƒ‰å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.8; max-width: 1000px; margin: 0 auto; padding: 20px; background-color: #f5f5f5; color: #333; }
        h1 { color: #b92d5d; border-bottom: 3px solid #b92d5d; padding-bottom: 10px; }
        h2 { color: #d33682; margin-top: 40px; border-left: 5px solid #d33682; padding-left: 15px; }
        h3 { color: #555; margin-top: 25px; }
        .container { background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .node-example { background-color: #2d3133; padding: 20px; border-radius: 5px; margin: 20px 0; color: white; font-family: 'Courier New', monospace; display: flex; align-items: center; flex-wrap: wrap; gap: 5px; }
        .node { display: inline-block; padding: 8px 15px; border-radius: 4px; margin: 5px; font-weight: bold; font-size: 14px; }
        .node-inject { background-color: #3fadb5; color: white; }
        .node-debug { background-color: #87a48d; color: white; }
        .node-function { background-color: #e8a658; color: white; }
        .node-link-in { background-color: #ddd; color: #333; border-left: 4px solid #3fadb5; }
        .node-link-out { background-color: #ddd; color: #333; border-right: 4px solid #87a48d; }
        .node-link-call { background-color: #ddd; color: #333; border: 2px solid #e8a658; }
        .arrow { color: #999; font-size: 20px; margin: 0 10px; }
        .arrow-dashed { color: #666; font-size: 16px; margin: 0 10px; font-style: italic; }
        .important { background-color: #fce4ec; border-left: 4px solid #b92d5d; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .tip { background-color: #e8f5e9; border-left: 4px solid #4caf50; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .warning { background-color: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .code-block { background-color: #2d3133; color: #f8f8f2; padding: 15px; border-radius: 5px; margin: 15px 0; overflow-x: auto; font-family: 'Courier New', Consolas, monospace; font-size: 14px; white-space: pre; }
        .flow-json { background-color: #1a1a2e; color: #a6e22e; padding: 15px; border-radius: 5px; font-family: 'Courier New', Consolas, monospace; font-size: 12px; overflow-x: auto; white-space: pre; position: relative; max-height: 400px; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #b92d5d; color: white; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .exercise { background-color: #e3f2fd; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #2196f3; }
        .exercise h3 { color: #1976d2; margin-top: 0; }
        .difficulty { display: inline-block; padding: 3px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; margin-left: 10px; }
        .difficulty-easy { background-color: #c8e6c9; color: #2e7d32; }
        .difficulty-medium { background-color: #fff9c4; color: #f57f17; }
        .difficulty-hard { background-color: #ffcdd2; color: #c62828; }
        details { background-color: #f5f5f5; padding: 10px 15px; border-radius: 5px; margin: 10px 0; }
        details summary { cursor: pointer; font-weight: bold; color: #1976d2; }
        details[open] summary { margin-bottom: 10px; }
        .toc { background-color: #fafafa; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 20px 0; }
        .toc h3 { margin-top: 0; color: #b92d5d; }
        .toc ul { list-style: none; padding-left: 0; }
        .toc li { padding: 5px 0; }
        .toc a { color: #1976d2; text-decoration: none; }
        .toc a:hover { text-decoration: underline; }
        .copy-btn { position: absolute; top: 5px; right: 5px; background-color: #666; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 12px; }
        .copy-btn:hover { background-color: #888; }
        .node-compare { display: flex; gap: 20px; flex-wrap: wrap; margin: 20px 0; }
        .node-card { background: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; flex: 1; min-width: 200px; }
        .node-card h4 { margin-top: 0; color: #b92d5d; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”— Node-RED Link ãƒãƒ¼ãƒ‰å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <div class="toc">
            <h3>ğŸ“š ç›®æ¬¡</h3>
            <ul>
                <li><a href="#section1">1. æ¦‚è¦</a></li>
                <li><a href="#section2">2. 3ç¨®é¡ã®Linkãƒãƒ¼ãƒ‰</a></li>
                <li><a href="#section3">3. è¨­å®šè©³ç´°</a></li>
                <li><a href="#section4">4. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</a></li>
                <li><a href="#section5">5. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</a></li>
                <li><a href="#section6">6. æ¼”ç¿’å•é¡Œ</a></li>
                <li><a href="#section7">7. ã¾ã¨ã‚</a></li>
                <li><a href="#section8">8. å®Ÿå‹™æ´»ç”¨ä¾‹</a></li>
            </ul>
        </div>
        
        <h2 id="section1">ğŸ“– 1. æ¦‚è¦</h2>
        
        <p><strong>Link ãƒãƒ¼ãƒ‰</strong>ã¯ã€ãƒ•ãƒ­ãƒ¼å†…ã‚„ãƒ•ãƒ­ãƒ¼é–“ã§ã€Œä»®æƒ³çš„ãªãƒ¯ã‚¤ãƒ¤ãƒ¼ã€ã‚’ä½œæˆã™ã‚‹ãƒãƒ¼ãƒ‰ã§ã™ã€‚ç‰©ç†çš„ãªãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’å¼•ã‹ãšã«ãƒãƒ¼ãƒ‰åŒå£«ã‚’æ¥ç¶šã§ãã€è¤‡é›‘ãªãƒ•ãƒ­ãƒ¼ã‚’æ•´ç†ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚</p>
        
        <p>ğŸ“ <strong>å†…ç·šé›»è©±ã«ä¾‹ãˆã‚‹ã¨</strong>ï¼šLink ãƒãƒ¼ãƒ‰ã¯ä¼šç¤¾ã®å†…ç·šé›»è©±ã‚·ã‚¹ãƒ†ãƒ ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚é›¢ã‚ŒãŸéƒ¨ç½²ï¼ˆåˆ¥ã®ãƒ•ãƒ­ãƒ¼ã‚¿ãƒ–ï¼‰ã«ã„ã‚‹äººã§ã‚‚ã€å†…ç·šç•ªå·ï¼ˆLinkåï¼‰ã‚’ä½¿ãˆã°ç›´æ¥ã¤ãªãŒã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
        
        <div class="tip">
            <p><strong>ğŸ’¡ Link ãƒãƒ¼ãƒ‰ã‚’ä½¿ã†ãƒ¡ãƒªãƒƒãƒˆ:</strong></p>
            <ul>
                <li>ãƒ¯ã‚¤ãƒ¤ãƒ¼ã®äº¤å·®ã‚’æ¸›ã‚‰ã—ã¦ãƒ•ãƒ­ãƒ¼ã‚’è¦‹ã‚„ã™ãã™ã‚‹</li>
                <li>ç•°ãªã‚‹ã‚¿ãƒ–ï¼ˆãƒ•ãƒ­ãƒ¼ï¼‰é–“ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€å—ä¿¡</li>
                <li>å…±é€šå‡¦ç†ã‚’å†åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹</li>
                <li>ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³ã®ã‚ˆã†ãªå‘¼ã³å‡ºã—ãŒå¯èƒ½ï¼ˆLink Callï¼‰</li>
            </ul>
        </div>
        
        <h2 id="section2">ğŸ”§ 2. 3ç¨®é¡ã®Linkãƒãƒ¼ãƒ‰</h2>
        
        <div class="node-compare">
            <div class="node-card">
                <h4>ğŸ“¥ Link In</h4>
                <div class="node-example" style="justify-content: center;">
                    <span class="node node-link-in">Link In</span>
                </div>
                <p><strong>å½¹å‰²:</strong> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å—ä¿¡å£</p>
                <p><strong>ç‰¹å¾´:</strong></p>
                <ul>
                    <li>Link Out ã¾ãŸã¯ Link Call ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚‹</li>
                    <li>è¤‡æ•°ã® Link Out ã‹ã‚‰å—ä¿¡å¯èƒ½</li>
                </ul>
            </div>
            
            <div class="node-card">
                <h4>ğŸ“¤ Link Out</h4>
                <div class="node-example" style="justify-content: center;">
                    <span class="node node-link-out">Link Out</span>
                </div>
                <p><strong>å½¹å‰²:</strong> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡å£</p>
                <p><strong>ç‰¹å¾´:</strong></p>
                <ul>
                    <li>Link In ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡</li>
                    <li>è¤‡æ•°ã® Link In ã«åŒæ™‚é€ä¿¡å¯èƒ½</li>
                </ul>
            </div>
            
            <div class="node-card">
                <h4>ğŸ“ Link Call</h4>
                <div class="node-example" style="justify-content: center;">
                    <span class="node node-link-call">Link Call</span>
                </div>
                <p><strong>å½¹å‰²:</strong> ã‚µãƒ–ãƒ•ãƒ­ãƒ¼ã‚’å‘¼ã³å‡ºã—ã¦çµæœã‚’å—ã‘å–ã‚‹</p>
                <p><strong>ç‰¹å¾´:</strong></p>
                <ul>
                    <li>Link In ã‚’å‘¼ã³å‡ºã—ã€Link Outï¼ˆreturnï¼‰ã§çµæœã‚’å—ã‘å–ã‚‹</li>
                    <li>é–¢æ•°å‘¼ã³å‡ºã—ã®ã‚ˆã†ãªå‹•ä½œ</li>
                </ul>
            </div>
        </div>
        
        <h3>Link Out ã¨ Link Call ã®é•ã„</h3>
        <table>
            <tr><th>ç‰¹å¾´</th><th>Link Outï¼ˆé€šå¸¸ãƒ¢ãƒ¼ãƒ‰ï¼‰</th><th>Link Call</th></tr>
            <tr><td>å‹•ä½œ</td><td>é€ã‚Šã£ã±ãªã—ï¼ˆFire and Forgetï¼‰</td><td>çµæœã‚’å¾…ã£ã¦å—ã‘å–ã‚‹</td></tr>
            <tr><td>æˆ»ã‚Šå€¤</td><td>ãªã—</td><td>ã‚ã‚Šï¼ˆLink Out returnçµŒç”±ï¼‰</td></tr>
            <tr><td>ç”¨é€”</td><td>é€šçŸ¥ã€ãƒ­ã‚°è¨˜éŒ²ã€åˆ†å²</td><td>å…±é€šå‡¦ç†ã®å‘¼ã³å‡ºã—</td></tr>
            <tr><td>æ¥ç¶šå…ˆ</td><td>Link In</td><td>Link Inï¼ˆreturnç”¨Link Outå¿…é ˆï¼‰</td></tr>
        </table>
        
        <h2 id="section3">âš™ï¸ 3. è¨­å®šè©³ç´°</h2>
        
        <h3>Link In ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h3>
        <table>
            <tr><th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th><th>èª¬æ˜</th></tr>
            <tr><td><strong>Name</strong></td><td>ãƒªãƒ³ã‚¯ã®è­˜åˆ¥åï¼ˆä»–ã®Linkã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰</td></tr>
        </table>
        
        <h3>Link Out ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h3>
        <table>
            <tr><th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th><th>èª¬æ˜</th></tr>
            <tr><td><strong>Mode</strong></td><td>é€ä¿¡å…ˆã® Link In ã‚’é¸æŠ / Return ãƒ¢ãƒ¼ãƒ‰ï¼ˆLink Callç”¨ï¼‰</td></tr>
            <tr><td><strong>Name</strong></td><td>ãƒªãƒ³ã‚¯ã®è­˜åˆ¥å</td></tr>
            <tr><td><strong>Links</strong></td><td>æ¥ç¶šå…ˆã® Link In ãƒãƒ¼ãƒ‰ã‚’é¸æŠ</td></tr>
        </table>
        
        <h3>Link Call ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h3>
        <table>
            <tr><th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th><th>èª¬æ˜</th></tr>
            <tr><td><strong>Link</strong></td><td>å‘¼ã³å‡ºã™ Link In ãƒãƒ¼ãƒ‰ã‚’é¸æŠ</td></tr>
            <tr><td><strong>Timeout</strong></td><td>å¿œç­”å¾…ã¡ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰</td></tr>
            <tr><td><strong>Name</strong></td><td>ãƒãƒ¼ãƒ‰ã®è­˜åˆ¥å</td></tr>
        </table>
        
        <h2 id="section4">ğŸ”§ 4. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: åŸºæœ¬çš„ãª Link Out â†’ Link In</h3>
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-link-out">Link Out</span>
            <span class="arrow-dashed">- - -</span>
            <span class="node node-link-in">Link In</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        <p><strong>ç”¨é€”:</strong> ãƒ•ãƒ­ãƒ¼å†…ã§ãƒ¯ã‚¤ãƒ¤ãƒ¼ã®äº¤å·®ã‚’é¿ã‘ã‚‹ã€åˆ¥ã‚¿ãƒ–ã¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹</p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: è¤‡æ•°ã®é€ä¿¡å…ˆ</h3>
        <div class="node-example">
            <span class="node node-link-out">Link Out</span>
            <span class="arrow-dashed">- - -</span>
            <span class="node node-link-in">Logå‡¦ç†</span>
        </div>
        <div class="node-example" style="margin-top: -10px;">
            <span style="width: 100px;"></span>
            <span class="arrow-dashed">- - -</span>
            <span class="node node-link-in">DBä¿å­˜</span>
        </div>
        <p><strong>ç”¨é€”:</strong> 1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°ã®å‡¦ç†ã«é€ã‚‹ï¼ˆãƒ­ã‚°è¨˜éŒ²ã€ãƒ‡ãƒ¼ã‚¿ä¿å­˜ãªã©ï¼‰</p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: Link Callï¼ˆã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å‘¼ã³å‡ºã—ï¼‰</h3>
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-link-call">Link Call</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">çµæœ</span>
        </div>
        <div class="node-example" style="background-color: #1a3a3a;">
            <span style="color: #888;">ã€å‘¼ã³å‡ºã—å…ˆã€‘</span>
            <span class="node node-link-in">å…±é€šå‡¦ç†</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">å‡¦ç†</span>
            <span class="arrow">â†’</span>
            <span class="node node-link-out" style="border: 2px solid #4caf50;">Return</span>
        </div>
        <p><strong>ç”¨é€”:</strong> å…±é€šå‡¦ç†ã‚’åˆ¥ãƒ•ãƒ­ãƒ¼ã«åˆ‡ã‚Šå‡ºã—ã¦å†åˆ©ç”¨</p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³4: ã‚¯ãƒ­ã‚¹ã‚¿ãƒ–é€šä¿¡</h3>
        <div class="code-block">ã€ã‚¿ãƒ–A: ã‚»ãƒ³ã‚µãƒ¼å…¥åŠ›ã€‘
  Inject â†’ å‡¦ç† â†’ Link Out("sensor-data")

ã€ã‚¿ãƒ–B: ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã€‘
  Link In("sensor-data") â†’ åŠ å·¥ â†’ Link Out("processed")

ã€ã‚¿ãƒ–C: è¡¨ç¤ºã€‘
  Link In("processed") â†’ Dashboard</div>
        <p><strong>ç”¨é€”:</strong> æ©Ÿèƒ½ã”ã¨ã«ã‚¿ãƒ–ã‚’åˆ†ã‘ã¦ã€Link ã§é€£æº</p>
        
        <h2 id="section5">ğŸ“¥ 5. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</h2>
        
        <details>
            <summary>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <div class="flow-json">[
    {
        "id": "link_sample_tab",
        "type": "tab",
        "label": "Link ã‚µãƒ³ãƒ—ãƒ«",
        "disabled": false,
        "info": ""
    },
    {
        "id": "link_comment1",
        "type": "comment",
        "z": "link_sample_tab",
        "name": "â”â”â” åŸºæœ¬: Link Out â†’ Link In â”â”â”",
        "info": "",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "inject_basic",
        "type": "inject",
        "z": "link_sample_tab",
        "name": "é€ä¿¡",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Hello via Link!",
        "payloadType": "str",
        "x": 130,
        "y": 100,
        "wires": [["link_out_basic"]]
    },
    {
        "id": "link_out_basic",
        "type": "link out",
        "z": "link_sample_tab",
        "name": "é€ä¿¡å£",
        "mode": "link",
        "links": ["link_in_basic"],
        "x": 295,
        "y": 100,
        "wires": []
    },
    {
        "id": "link_in_basic",
        "type": "link in",
        "z": "link_sample_tab",
        "name": "å—ä¿¡å£",
        "links": ["link_out_basic"],
        "x": 435,
        "y": 100,
        "wires": [["debug_basic"]]
    },
    {
        "id": "debug_basic",
        "type": "debug",
        "z": "link_sample_tab",
        "name": "å—ä¿¡ç¢ºèª",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 590,
        "y": 100,
        "wires": []
    },
    {
        "id": "link_comment2",
        "type": "comment",
        "z": "link_sample_tab",
        "name": "â”â”â” Link Callï¼ˆã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å‘¼ã³å‡ºã—ï¼‰â”â”â”",
        "info": "",
        "x": 210,
        "y": 180,
        "wires": []
    },
    {
        "id": "inject_call",
        "type": "inject",
        "z": "link_sample_tab",
        "name": "æ•°å€¤å…¥åŠ›",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 140,
        "y": 240,
        "wires": [["link_call_double"]]
    },
    {
        "id": "link_call_double",
        "type": "link call",
        "z": "link_sample_tab",
        "name": "2å€å‡¦ç†ã‚’å‘¼ã³å‡ºã—",
        "links": ["link_in_double"],
        "linkType": "static",
        "timeout": "30",
        "x": 350,
        "y": 240,
        "wires": [["debug_call_result"]]
    },
    {
        "id": "debug_call_result",
        "type": "debug",
        "z": "link_sample_tab",
        "name": "çµæœ: 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 560,
        "y": 240,
        "wires": []
    },
    {
        "id": "link_comment3",
        "type": "comment",
        "z": "link_sample_tab",
        "name": "ã€å…±é€šå‡¦ç†ã€‘2å€ã«ã™ã‚‹",
        "info": "",
        "x": 160,
        "y": 300,
        "wires": []
    },
    {
        "id": "link_in_double",
        "type": "link in",
        "z": "link_sample_tab",
        "name": "2å€å‡¦ç†å…¥å£",
        "links": [],
        "x": 155,
        "y": 360,
        "wires": [["func_double"]]
    },
    {
        "id": "func_double",
        "type": "function",
        "z": "link_sample_tab",
        "name": "Ã—2",
        "func": "msg.payload = msg.payload * 2;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 360,
        "wires": [["link_out_return"]]
    },
    {
        "id": "link_out_return",
        "type": "link out",
        "z": "link_sample_tab",
        "name": "çµæœã‚’è¿”ã™",
        "mode": "return",
        "links": [],
        "x": 455,
        "y": 360,
        "wires": []
    },
    {
        "id": "link_comment4",
        "type": "comment",
        "z": "link_sample_tab",
        "name": "â”â”â” è¤‡æ•°ã®é€ä¿¡å…ˆ â”â”â”",
        "info": "",
        "x": 160,
        "y": 440,
        "wires": []
    },
    {
        "id": "inject_multi",
        "type": "inject",
        "z": "link_sample_tab",
        "name": "ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"event\": \"button_click\", \"time\": \"2024-01-15\"}",
        "payloadType": "json",
        "x": 150,
        "y": 500,
        "wires": [["link_out_multi"]]
    },
    {
        "id": "link_out_multi",
        "type": "link out",
        "z": "link_sample_tab",
        "name": "è¤‡æ•°é€ä¿¡",
        "mode": "link",
        "links": ["link_in_log", "link_in_notify"],
        "x": 315,
        "y": 500,
        "wires": []
    },
    {
        "id": "link_in_log",
        "type": "link in",
        "z": "link_sample_tab",
        "name": "ãƒ­ã‚°å‡¦ç†",
        "links": ["link_out_multi"],
        "x": 445,
        "y": 480,
        "wires": [["debug_log"]]
    },
    {
        "id": "debug_log",
        "type": "debug",
        "z": "link_sample_tab",
        "name": "ğŸ“ ãƒ­ã‚°è¨˜éŒ²",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 590,
        "y": 480,
        "wires": []
    },
    {
        "id": "link_in_notify",
        "type": "link in",
        "z": "link_sample_tab",
        "name": "é€šçŸ¥å‡¦ç†",
        "links": ["link_out_multi"],
        "x": 445,
        "y": 520,
        "wires": [["debug_notify"]]
    },
    {
        "id": "debug_notify",
        "type": "debug",
        "z": "link_sample_tab",
        "name": "ğŸ”” é€šçŸ¥é€ä¿¡",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 590,
        "y": 520,
        "wires": []
    }
]</div>
        </details>
        
        <h2 id="section6">ğŸ“ 6. æ¼”ç¿’å•é¡Œ</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªLinkæ¥ç¶š <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> Link Out ã¨ Link In ã‚’ä½¿ã£ã¦ã€ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’å¼•ã‹ãšã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>1. Link Out ãƒãƒ¼ãƒ‰ã®è¨­å®šã§ã€æ¥ç¶šå…ˆã® Link In ã‚’é¸æŠã—ã¾ã™</p>
                <p>2. åå‰ã‚’åˆ†ã‹ã‚Šã‚„ã™ãã¤ã‘ã‚‹ã¨ç®¡ç†ã—ã‚„ã™ããªã‚Šã¾ã™</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex1_tab", "type": "tab", "label": "æ¼”ç¿’1"},
    {"id": "ex1_inject", "type": "inject", "z": "ex1_tab", "name": "é€ä¿¡", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "LinkçµŒç”±ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", "payloadType": "str", "x": 130, "y": 100, "wires": [["ex1_link_out"]]},
    {"id": "ex1_link_out", "type": "link out", "z": "ex1_tab", "name": "é€ä¿¡å£", "mode": "link", "links": ["ex1_link_in"], "x": 275, "y": 100, "wires": []},
    {"id": "ex1_link_in", "type": "link in", "z": "ex1_tab", "name": "å—ä¿¡å£", "links": ["ex1_link_out"], "x": 435, "y": 100, "wires": [["ex1_debug"]]},
    {"id": "ex1_debug", "type": "debug", "z": "ex1_tab", "name": "ç¢ºèª", "active": true, "tosidebar": true, "console": false, "tostatus": true, "complete": "payload", "targetType": "msg", "statusVal": "payload", "statusType": "auto", "x": 570, "y": 100, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: è¤‡æ•°ã®å—ä¿¡å…ˆ <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> 1ã¤ã® Link Out ã‹ã‚‰2ã¤ã® Link In ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>Link Out ãƒãƒ¼ãƒ‰ã®è¨­å®šã§ã€è¤‡æ•°ã® Link In ã‚’é¸æŠã§ãã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex2_tab", "type": "tab", "label": "æ¼”ç¿’2"},
    {"id": "ex2_inject", "type": "inject", "z": "ex2_tab", "name": "ã‚¤ãƒ™ãƒ³ãƒˆ", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "å…±é€šãƒ‡ãƒ¼ã‚¿", "payloadType": "str", "x": 140, "y": 140, "wires": [["ex2_link_out"]]},
    {"id": "ex2_link_out", "type": "link out", "z": "ex2_tab", "name": "åˆ†å²é€ä¿¡", "mode": "link", "links": ["ex2_link_in1", "ex2_link_in2"], "x": 295, "y": 140, "wires": []},
    {"id": "ex2_link_in1", "type": "link in", "z": "ex2_tab", "name": "å‡¦ç†A", "links": ["ex2_link_out"], "x": 435, "y": 100, "wires": [["ex2_debug1"]]},
    {"id": "ex2_debug1", "type": "debug", "z": "ex2_tab", "name": "å‡¦ç†Aå®Ÿè¡Œ", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 590, "y": 100, "wires": []},
    {"id": "ex2_link_in2", "type": "link in", "z": "ex2_tab", "name": "å‡¦ç†B", "links": ["ex2_link_out"], "x": 435, "y": 180, "wires": [["ex2_debug2"]]},
    {"id": "ex2_debug2", "type": "debug", "z": "ex2_tab", "name": "å‡¦ç†Bå®Ÿè¡Œ", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 590, "y": 180, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: Link Call ã®åŸºæœ¬ <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> Link Call ã‚’ä½¿ã£ã¦ã€Œå…¥åŠ›å€¤ã‚’3å€ã«ã™ã‚‹ã€å…±é€šå‡¦ç†ã‚’ä½œæˆã—ã€å‘¼ã³å‡ºã™ãƒ•ãƒ­ãƒ¼ã‚’ä½œã£ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>1. å…±é€šå‡¦ç†: Link In â†’ Functionï¼ˆÃ—3ï¼‰ â†’ Link Outï¼ˆreturnãƒ¢ãƒ¼ãƒ‰ï¼‰</p>
                <p>2. å‘¼ã³å‡ºã—å´: Inject â†’ Link Call â†’ Debug</p>
                <p>3. Link Out ã®ãƒ¢ãƒ¼ãƒ‰ã‚’ã€Œreturnã€ã«è¨­å®šã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex3_tab", "type": "tab", "label": "æ¼”ç¿’3"},
    {"id": "ex3_comment", "type": "comment", "z": "ex3_tab", "name": "â”â”â” å‘¼ã³å‡ºã—å´ â”â”â”", "info": "", "x": 140, "y": 40, "wires": []},
    {"id": "ex3_inject", "type": "inject", "z": "ex3_tab", "name": "7ã‚’å…¥åŠ›", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "7", "payloadType": "num", "x": 140, "y": 100, "wires": [["ex3_call"]]},
    {"id": "ex3_call", "type": "link call", "z": "ex3_tab", "name": "3å€å‡¦ç†å‘¼ã³å‡ºã—", "links": ["ex3_link_in"], "linkType": "static", "timeout": "30", "x": 340, "y": 100, "wires": [["ex3_debug"]]},
    {"id": "ex3_debug", "type": "debug", "z": "ex3_tab", "name": "çµæœ: 21", "active": true, "tosidebar": true, "console": false, "tostatus": true, "complete": "payload", "targetType": "msg", "statusVal": "payload", "statusType": "auto", "x": 530, "y": 100, "wires": []},
    {"id": "ex3_comment2", "type": "comment", "z": "ex3_tab", "name": "â”â”â” å…±é€šå‡¦ç†ï¼ˆ3å€ï¼‰ â”â”â”", "info": "", "x": 160, "y": 180, "wires": []},
    {"id": "ex3_link_in", "type": "link in", "z": "ex3_tab", "name": "3å€å‡¦ç†", "links": [], "x": 135, "y": 240, "wires": [["ex3_func"]]},
    {"id": "ex3_func", "type": "function", "z": "ex3_tab", "name": "Ã—3", "func": "msg.payload = msg.payload * 3;\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 290, "y": 240, "wires": [["ex3_return"]]},
    {"id": "ex3_return", "type": "link out", "z": "ex3_tab", "name": "çµæœã‚’è¿”ã™", "mode": "return", "links": [], "x": 435, "y": 240, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: å†åˆ©ç”¨å¯èƒ½ãªæ¤œè¨¼å‡¦ç† <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> ã€Œå…¥åŠ›å€¤ãŒæ­£ã®æ•°ã‹ã©ã†ã‹ã‚’æ¤œè¨¼ã™ã‚‹ã€å…±é€šå‡¦ç†ã‚’ Link Call ã§ä½œæˆã—ã€è¤‡æ•°ç®‡æ‰€ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚</p>
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>æ­£ã®æ•°: msg.valid = true, msg.payload = å…ƒã®å€¤</li>
                <li>è² ã®æ•°ã¾ãŸã¯0: msg.valid = false, msg.error = "æ­£ã®æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"</li>
            </ul>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>Function ãƒãƒ¼ãƒ‰ã§æ¡ä»¶åˆ†å²ã‚’è¡Œã„ã€çµæœã‚’ msg ã«è¨­å®šã—ã¦è¿”ã—ã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex4_tab", "type": "tab", "label": "æ¼”ç¿’4"},
    {"id": "ex4_comment1", "type": "comment", "z": "ex4_tab", "name": "â”â”â” ãƒ†ã‚¹ãƒˆå‘¼ã³å‡ºã— â”â”â”", "info": "", "x": 150, "y": 40, "wires": []},
    {"id": "ex4_inject1", "type": "inject", "z": "ex4_tab", "name": "æ­£ã®æ•°: 10", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "10", "payloadType": "num", "x": 150, "y": 100, "wires": [["ex4_call"]]},
    {"id": "ex4_inject2", "type": "inject", "z": "ex4_tab", "name": "è² ã®æ•°: -5", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "-5", "payloadType": "num", "x": 150, "y": 140, "wires": [["ex4_call"]]},
    {"id": "ex4_call", "type": "link call", "z": "ex4_tab", "name": "æ­£ã®æ•°ãƒã‚§ãƒƒã‚¯", "links": ["ex4_validate_in"], "linkType": "static", "timeout": "30", "x": 360, "y": 120, "wires": [["ex4_debug"]]},
    {"id": "ex4_debug", "type": "debug", "z": "ex4_tab", "name": "æ¤œè¨¼çµæœ", "active": true, "tosidebar": true, "console": false, "tostatus": true, "complete": "true", "targetType": "full", "statusVal": "valid", "statusType": "msg", "x": 550, "y": 120, "wires": []},
    {"id": "ex4_comment2", "type": "comment", "z": "ex4_tab", "name": "â”â”â” æ¤œè¨¼å‡¦ç†ï¼ˆå…±é€šï¼‰ â”â”â”", "info": "", "x": 160, "y": 220, "wires": []},
    {"id": "ex4_validate_in", "type": "link in", "z": "ex4_tab", "name": "æ­£ã®æ•°æ¤œè¨¼", "links": [], "x": 145, "y": 280, "wires": [["ex4_validate_func"]]},
    {"id": "ex4_validate_func", "type": "function", "z": "ex4_tab", "name": "æ¤œè¨¼", "func": "if (msg.payload > 0) {\n    msg.valid = true;\n} else {\n    msg.valid = false;\n    msg.error = \"æ­£ã®æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\";\n}\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 310, "y": 280, "wires": [["ex4_return"]]},
    {"id": "ex4_return", "type": "link out", "z": "ex4_tab", "name": "çµæœã‚’è¿”ã™", "mode": "return", "links": [], "x": 455, "y": 280, "wires": []}
]</div>
            </details>
        </div>
        
        <h2 id="section7">âœ… 7. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <p><strong>ğŸ¯ é‡è¦ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li><strong>Link Out â†’ Link In</strong>: ãƒ¯ã‚¤ãƒ¤ãƒ¼ãªã—ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ï¼ˆä¸€æ–¹å‘ï¼‰</li>
                <li><strong>Link Call</strong>: ã‚µãƒ–ãƒ«ãƒ¼ãƒãƒ³å‘¼ã³å‡ºã—ã®ã‚ˆã†ã«çµæœã‚’å—ã‘å–ã‚Œã‚‹</li>
                <li>ç•°ãªã‚‹ã‚¿ãƒ–é–“ã§ã‚‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€å—ä¿¡å¯èƒ½</li>
                <li>è¤‡é›‘ãªãƒ•ãƒ­ãƒ¼ã‚’æ•´ç†ã—ã¦ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã‚’å‘ä¸Š</li>
            </ul>
        </div>
        
        <div class="warning">
            <p><strong>âš ï¸ æ³¨æ„äº‹é …:</strong></p>
            <ul>
                <li>Link Call ã‚’ä½¿ã†å ´åˆã€å‘¼ã³å‡ºã—å…ˆã« Link Outï¼ˆreturnãƒ¢ãƒ¼ãƒ‰ï¼‰ãŒå¿…è¦</li>
                <li>å¾ªç’°å‚ç…§ï¼ˆAâ†’Bâ†’Aï¼‰ã‚’ä½œã‚‰ãªã„ã‚ˆã†æ³¨æ„</li>
                <li>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã‚’é©åˆ‡ã«è¡Œã†ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ30ç§’ï¼‰</li>
                <li>åå‰ã‚’åˆ†ã‹ã‚Šã‚„ã™ãã¤ã‘ã¦ç®¡ç†ã—ã‚„ã™ãã™ã‚‹</li>
            </ul>
        </div>
        
        <h2 id="section8">ğŸ­ 8. å®Ÿå‹™æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: ãƒ­ã‚°è¨˜éŒ²ã®å…±é€šåŒ–</h3>
        <p>å„å‡¦ç†ã‹ã‚‰ãƒ­ã‚°è¨˜éŒ²ç”¨ã® Link In ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã€ãƒ­ã‚°å‡¦ç†ã‚’ä¸€å…ƒç®¡ç†ã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹2: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h3>
        <p>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«å…±é€šã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ•ãƒ­ãƒ¼ã¸ Link ã§è»¢é€ã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹3: æ©Ÿèƒ½åˆ¥ã®ã‚¿ãƒ–åˆ†å‰²</h3>
        <p>å…¥åŠ›å‡¦ç†ã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€å‡ºåŠ›å‡¦ç†ã‚’ã‚¿ãƒ–ã§åˆ†ã‘ã¦ Link ã§é€£æºã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹4: å…±é€šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</h3>
        <p>Link Call ã§å…¥åŠ›æ¤œè¨¼ã‚’å‘¼ã³å‡ºã—ã€çµæœã«å¿œã˜ã¦å‡¦ç†ã‚’åˆ†å²ã€‚</p>
        
        <p style="margin-top: 40px;"><a href="https://nodered.org/docs/" target="_blank">ğŸ“š Node-RED å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></p>
    </div>
    
    <script>
        document.querySelectorAll('.flow-json').forEach(function(block) {
            var btn = document.createElement('button');
            btn.className = 'copy-btn';
            btn.textContent = 'ã‚³ãƒ”ãƒ¼';
            btn.onclick = function() {
                navigator.clipboard.writeText(block.textContent).then(function() {
                    btn.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†!';
                    setTimeout(function() { btn.textContent = 'ã‚³ãƒ”ãƒ¼'; }, 2000);
                });
            };
            block.style.position = 'relative';
            block.appendChild(btn);
        });
    </script>
</body>
</html>
