<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Triggerãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-trigger {
            background-color: #c9b6d5;
            color: white;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #8f0000;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #c9b6d5;
            margin-top: 0;
        }
        
        .mode-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-basic {
            background-color: #c9b6d5;
            color: white;
        }
        
        .badge-extend {
            background-color: #17a2b8;
            color: white;
        }
        
        .badge-reset {
            background-color: #ffc107;
            color: #333;
        }
        
        .badge-watchdog {
            background-color: #dc3545;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>â²ï¸ Node-RED Triggerãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Triggerãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Triggerãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€Œãƒˆãƒªã‚¬ãƒ¼ã€ã£ã¦ä½•?</h3>
        <p>
            Triggerãƒãƒ¼ãƒ‰ã¯ã€1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã£ãŸã‚‰<strong>2ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ™‚é–“å·®ã§é€ä¿¡ã™ã‚‹</strong>ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>æ´—æ¿¯æ©Ÿã®ã‚¿ã‚¤ãƒãƒ¼</strong>ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
        </p>
        
        <div class="important">
            <p><strong>ğŸ§º æ´—æ¿¯æ©Ÿã®ã‚¿ã‚¤ãƒãƒ¼ã«ä¾‹ãˆã‚‹ã¨:</strong></p>
            <ul>
                <li>ğŸ‘• <strong>æ´—æ¿¯ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™</strong> = å…¥åŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
                <li>ğŸ’§ <strong>ã™ãã«æ´—æ¿¯é–‹å§‹</strong> = 1ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡</li>
                <li>â° <strong>30åˆ†å¾Œã«è‡ªå‹•åœæ­¢</strong> = 2ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡</li>
                <li>ğŸ”„ <strong>è¿½åŠ ã®æ´—æ¿¯ç‰©ã§ã‚¿ã‚¤ãƒãƒ¼å»¶é•·</strong> = Extendãƒ¢ãƒ¼ãƒ‰</li>
            </ul>
        </div>
        
        <h3>ğŸ“¦ åŸºæœ¬çš„ãªå‹•ä½œ</h3>
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-trigger">Trigger</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p>
            Triggerãƒãƒ¼ãƒ‰ã¯ã€å…¥åŠ›ã‚’å—ã‘ã‚‹ã¨å³åº§ã«1ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã€æŒ‡å®šã—ãŸæ™‚é–“ãŒçµŒéã—ãŸå¾Œã«2ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã™ã€‚
            <strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ã‚„ã‚¦ã‚©ãƒƒãƒãƒ‰ãƒƒã‚°ã‚¿ã‚¤ãƒãƒ¼</strong>ãªã©ã«æ´»ç”¨ã§ãã¾ã™ã€‚
        </p>
        
        <h2>âš™ï¸ 2. Triggerãƒãƒ¼ãƒ‰ã®è¨­å®š</h2>
        
        <h3>ğŸ”§ åŸºæœ¬è¨­å®šé …ç›®</h3>
        
        <table>
            <tr>
                <th>è¨­å®šé …ç›®</th>
                <th>èª¬æ˜</th>
                <th>ä¾‹</th>
            </tr>
            <tr>
                <td><strong>Send</strong></td>
                <td>æœ€åˆã«é€ä¿¡ã™ã‚‹å€¤</td>
                <td>"1", msg.payload, timestamp</td>
            </tr>
            <tr>
                <td><strong>then</strong></td>
                <td>æŒ‡å®šæ™‚é–“å¾Œã«é€ä¿¡ã™ã‚‹å€¤</td>
                <td>"0", "timeout", nothing</td>
            </tr>
            <tr>
                <td><strong>wait for</strong></td>
                <td>1ã¤ç›®ã¨2ã¤ç›®ã®é–“ã®å¾…æ©Ÿæ™‚é–“</td>
                <td>2ç§’, 5åˆ†, 1æ™‚é–“</td>
            </tr>
            <tr>
                <td><strong>extend if new message arrives</strong></td>
                <td>æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚¿ã‚¤ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ</td>
                <td>âœ“ = ã‚¦ã‚©ãƒƒãƒãƒ‰ãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>handle each topic separately</strong></td>
                <td>ãƒˆãƒ”ãƒƒã‚¯ã”ã¨ã«å€‹åˆ¥ã‚¿ã‚¤ãƒãƒ¼ç®¡ç†</td>
                <td>è¤‡æ•°ã‚»ãƒ³ã‚µãƒ¼ã®å€‹åˆ¥ç›£è¦–</td>
            </tr>
        </table>
        
        <h3>ğŸ“‹ é€ä¿¡å€¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³</h3>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-basic">String/Number</span> å›ºå®šå€¤</h4>
                <p>æŒ‡å®šã—ãŸå›ºå®šå€¤ã‚’é€ä¿¡</p>
                <div class="code-block">Send: "1"
then: "0"

â†’ LEDã®ON/OFFåˆ¶å¾¡</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-basic">msg.payload</span> å…¥åŠ›å€¤</h4>
                <p>å—ã‘å–ã£ãŸå€¤ã‚’ãã®ã¾ã¾é€ä¿¡</p>
                <div class="code-block">Send: the payload of the message
then: "timeout"

â†’ å…ƒã®å€¤ â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆé€šçŸ¥</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-basic">timestamp</span> ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—</h4>
                <p>ç¾åœ¨æ™‚åˆ»ã‚’é€ä¿¡</p>
                <div class="code-block">Send: timestamp
then: nothing

â†’ ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚åˆ»ã‚’è¨˜éŒ²</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-basic">nothing</span> é€ä¿¡ã—ãªã„</h4>
                <p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ãªã„</p>
                <div class="code-block">Send: nothing
then: "done"

â†’ å¾…æ©Ÿå¾Œã«ã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡</div>
            </div>
        </div>
        
        <h3>ğŸ¯ å‹•ä½œãƒ¢ãƒ¼ãƒ‰ã®ç¨®é¡</h3>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-basic">åŸºæœ¬ãƒ¢ãƒ¼ãƒ‰</span></h4>
                <p>ã‚·ãƒ³ãƒ—ãƒ«ãªæ™‚é–“å·®é€ä¿¡</p>
                <ul>
                    <li>âœ… å…¥åŠ›ã‚’å—ã‘ãŸã‚‰å³åº§ã«1ã¤ç›®ã‚’é€ä¿¡</li>
                    <li>âœ… æŒ‡å®šæ™‚é–“å¾Œã«2ã¤ç›®ã‚’é€ä¿¡</li>
                    <li>âœ… Extend: OFF</li>
                    <li>ğŸ“Œ ç”¨é€”: LEDç‚¹æ»…ã€ä¸€æ™‚çš„ãªçŠ¶æ…‹å¤‰æ›´</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-extend">Extendãƒ¢ãƒ¼ãƒ‰</span></h4>
                <p>æ–°ã—ã„å…¥åŠ›ã§ã‚¿ã‚¤ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ</p>
                <ul>
                    <li>ğŸ”„ æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ¥ã‚‹ãŸã³ã‚¿ã‚¤ãƒãƒ¼å»¶é•·</li>
                    <li>ğŸ”„ å…¥åŠ›ãŒé€”åˆ‡ã‚Œã¦ã‹ã‚‰æŒ‡å®šæ™‚é–“å¾Œã«2ã¤ç›®ã‚’é€ä¿¡</li>
                    <li>âœ… Extend: ON</li>
                    <li>ğŸ“Œ ç”¨é€”: å‹•ä½œæ¤œçŸ¥ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãƒ‡ãƒ¼ã‚¿é€”çµ¶æ¤œçŸ¥</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-reset">Resetãƒ¢ãƒ¼ãƒ‰</span></h4>
                <p>ç‰¹å®šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚­ãƒ£ãƒ³ã‚»ãƒ«</p>
                <ul>
                    <li>ğŸ›‘ reset messageã§å¾…æ©Ÿä¸­ã®ã‚¿ã‚¤ãƒãƒ¼ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«</li>
                    <li>ğŸ›‘ 2ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯é€ä¿¡ã•ã‚Œãªã„</li>
                    <li>âœ… reset: msg.reset (ã¾ãŸã¯æŒ‡å®šå€¤)</li>
                    <li>ğŸ“Œ ç”¨é€”: æ‰‹å‹•ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€æ¡ä»¶ä»˜ãã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-watchdog">2å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰</span></h4>
                <p>é€šå¸¸å‡¦ç†ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ã‚’åˆ†é›¢</p>
                <ul>
                    <li>ğŸ“¤ 1ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å‡ºåŠ›1ã‹ã‚‰é€ä¿¡</li>
                    <li>ğŸ“¤ 2ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å‡ºåŠ›2ã‹ã‚‰é€ä¿¡</li>
                    <li>âœ… "send second message to separate output"</li>
                    <li>ğŸ“Œ ç”¨é€”: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ¤œçŸ¥ã€ä¸¦åˆ—å‡¦ç†</li>
                </ul>
            </div>
        </div>
        
        <h2>ğŸ¯ 3. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: 2ã¤ã®å€¤ã‚’æ™‚é–“é–“éš”ã‚’ãŠã„ã¦å‡ºåŠ›</h3>
        <p><strong>ç”¨é€”:</strong> Raspberry Pi GPIOãƒ”ãƒ³ã«æ¥ç¶šã•ã‚ŒãŸLEDã‚’ç‚¹æ»…ã•ã›ã‚‹</p>
        
        <div class="code-block pattern-explanation">
Inject â†’ Trigger â†’ Debug(ã¾ãŸã¯GPIOå‡ºåŠ›)

Triggerè¨­å®š:
- Send: "1" (æ–‡å­—åˆ—)
- then: "0" (æ–‡å­—åˆ—)  
- wait for: 2ç§’

å‹•ä½œãƒ•ãƒ­ãƒ¼:
1. Injectãƒœã‚¿ãƒ³ã‚’æŠ¼ã™
2. å³åº§ã« "1" ã‚’å‡ºåŠ› â†’ LEDç‚¹ç¯
3. 2ç§’é–“å¾…æ©Ÿ
4. "0" ã‚’å‡ºåŠ› â†’ LEDæ¶ˆç¯

ğŸ“Œ ç‰¹å¾´: ã‚·ãƒ³ãƒ—ãƒ«ãªæ™‚é–“å·®é€ä¿¡ã€‚ä¸€å®šæ™‚é–“å¾Œã«è‡ªå‹•çš„ã«çŠ¶æ…‹ã‚’æˆ»ã™ã€‚
        </div>
        
        <p><strong>å®Ÿä¾‹:</strong> ãƒ‰ã‚¢ãƒ™ãƒ«ã‚’æŠ¼ã™ã¨2ç§’é–“LEDãŒå…‰ã‚‹ã€è­¦å‘Šç¯ã‚’ä¸€æ™‚çš„ã«ç‚¹ç¯ã•ã›ã‚‹ã€ãªã©ã€‚</p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: å®šç¾©ã•ã‚ŒãŸæ™‚é–“å†…ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã‹ãªã„å ´åˆã®ãƒ•ãƒ­ãƒ¼ãƒˆãƒªã‚¬ãƒ¼</h3>
        <p><strong>ç”¨é€”:</strong> æŒ‡å®šæ™‚é–“ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã‹ãªã‹ã£ãŸã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹(ã‚¦ã‚©ãƒƒãƒãƒ‰ãƒƒã‚°ã‚¿ã‚¤ãƒãƒ¼)</p>
        
        <div class="code-block pattern-explanation">
ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ â†’ Trigger(Extend:ON) â†’ Debug

Triggerè¨­å®š:
- Send: nothing (ä½•ã‚‚é€ä¿¡ã—ãªã„)
- then: "timeout" (æ–‡å­—åˆ—)
- wait for: 5ç§’
- Extend: âœ“ (é‡è¦!)

å‹•ä½œãƒ•ãƒ­ãƒ¼:
1. ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡ â†’ ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹(ã¾ãŸã¯å†ã‚¹ã‚¿ãƒ¼ãƒˆ)
2. 5ç§’ä»¥å†…ã«æ¬¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ â†’ ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ(ä½•ã‚‚å‡ºåŠ›ã—ãªã„)
3. 5ç§’ä»¥å†…ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã— â†’ "timeout"ã‚’å‡ºåŠ›

ğŸ“Œ ç‰¹å¾´: Extendãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã‚Šã€æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ¥ã‚‹ãŸã³ã«ã‚¿ã‚¤ãƒãƒ¼ãŒ
         ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€”åˆ‡ã‚ŒãŸã¨ãã ã‘æ¤œçŸ¥ã€‚
        </div>
        
        <p><strong>å®Ÿä¾‹:</strong> IoTãƒ‡ãƒã‚¤ã‚¹ã®ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆç›£è¦–ã€é€šä¿¡åˆ‡æ–­æ¤œçŸ¥ã€å®šæœŸå®Ÿè¡Œã‚¿ã‚¹ã‚¯ã®ç•°å¸¸æ¤œçŸ¥ã€‚</p>
        <p><strong>Node-RED Cookbookå‚è€ƒ:</strong> <a href="https://cookbook.nodered.org/basic/trigger-timeout" target="_blank">ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†</a></p>
        
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒåœæ­¢ã—ãŸã¨ãã«ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡</h3>
        <p><strong>ç”¨é€”:</strong> ãƒ‡ãƒ¼ã‚¿ãŒé€”åˆ‡ã‚ŒãŸã¨ãã«ä»£æ›¿ãƒ‡ãƒ¼ã‚¿(ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼)ã‚’å®šæœŸçš„ã«é€ä¿¡</p>
        
        <div class="code-block pattern-explanation">
ãƒ‡ãƒ¼ã‚¿æº â†’ Trigger1(æ¤œçŸ¥ç”¨) â†’ Trigger2(é€ä¿¡ç”¨) â†’ å‡ºåŠ›
           â†“
      ãƒ‡ãƒ¼ã‚¿é€”åˆ‡ã‚Œæ¤œçŸ¥
           â†“
    ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®šæœŸé€ä¿¡é–‹å§‹

ã€Trigger1è¨­å®šã€‘(ãƒ‡ãƒ¼ã‚¿é€”çµ¶æ¤œçŸ¥ç”¨)
- Send: "reset" (æ–‡å­—åˆ—)
- then: true (boolean)
- wait for: 2ç§’
- Extend: âœ“

ã€Trigger2è¨­å®šã€‘(ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼é€ä¿¡ç”¨)
- Send: "placeholder" (æ–‡å­—åˆ—)
- then: "placeholder" (æ–‡å­—åˆ—)
- wait for: -2ç§’ (è² ã®å€¤ = ç„¡é™ãƒ«ãƒ¼ãƒ—ã§2ç§’ã”ã¨é€ä¿¡)
- reset: "reset" (Trigger1ã‹ã‚‰ã®resetã§åœæ­¢)

å‹•ä½œãƒ•ãƒ­ãƒ¼:
1. é€šå¸¸æ™‚: ãƒ‡ãƒ¼ã‚¿å—ä¿¡ â†’ Trigger1ãŒ"reset"é€ä¿¡ â†’ Trigger2åœæ­¢
2. ãƒ‡ãƒ¼ã‚¿é€”çµ¶(2ç§’): Trigger1ãŒtrueé€ä¿¡ â†’ Trigger2èµ·å‹•
3. Trigger2ãŒ2ç§’ã”ã¨ã«"placeholder"ã‚’é€£ç¶šé€ä¿¡
4. ãƒ‡ãƒ¼ã‚¿å†é–‹: Trigger1ãŒ"reset"é€ä¿¡ â†’ Trigger2åœæ­¢

ğŸ“Œ ç‰¹å¾´: 2ã¤ã®Triggerãƒãƒ¼ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã®é€”çµ¶ã‚’æ¤œçŸ¥ã—ã€
         é€”çµ¶ä¸­ã¯ä»£æ›¿ãƒ‡ãƒ¼ã‚¿ã‚’å®šæœŸçš„ã«é€ä¿¡ã—ç¶šã‘ã‚‹ã€‚
        </div>
        
        <p><strong>å®Ÿä¾‹:</strong> ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ã‚°ãƒ©ãƒ•è¡¨ç¤ºã®é€£ç¶šæ€§ç¢ºä¿ã€é€šä¿¡åˆ‡æ–­æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤é€ä¿¡ã€‚</p>
        <p><strong>Node-RED Cookbookå‚è€ƒ:</strong> <a href="https://cookbook.nodered.org/basic/trigger-placeholder" target="_blank">ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</a></p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³4: Triggerãƒãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†</h3>
        <p><strong>ç”¨é€”:</strong> å‡¦ç†ãŒæŒ‡å®šæ™‚é–“å†…ã«å®Œäº†ã—ãªã„å ´åˆã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¨ã—ã¦æ‰±ã†</p>
        
        <div class="important">
            <p><strong>ğŸ”‘ ä»•çµ„ã¿ã®æ¦‚è¦:</strong></p>
            <p>2ã¤ã®Triggerãƒãƒ¼ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã€Œå‡¦ç†ãŒæ™‚é–“å†…ã«å®Œäº†ã€ã¨ã€Œã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ã®ã©ã¡ã‚‰ã‹<strong>å…ˆã«ç™ºç”Ÿã—ãŸæ–¹ã ã‘</strong>ã‚’å‡ºåŠ›ã™ã‚‹é«˜åº¦ãªåˆ¶å¾¡ã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
        </div>
        
        <div class="code-block pattern-explanation">
Inject â†’ Trigger1(2å‡ºåŠ›) â†’ å‡ºåŠ›1 â†’ å‡¦ç†å®Ÿè¡Œ â†’ Trigger2 â†’ æœ€çµ‚çµæœ
                         â†“
                      å‡ºåŠ›2 â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç† â†’ Trigger2 â†’ æœ€çµ‚çµæœ

ã€Trigger1è¨­å®šã€‘(å‡¦ç†é–‹å§‹ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç›£è¦–)
- Send: the payload (å…¥åŠ›å€¤ã‚’ãã®ã¾ã¾)
- then: "0" ã¾ãŸã¯ "timeout"
- wait for: 3ç§’
- âœ… send second message to separate output (2å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰)
- outputs: 2

âš™ï¸ Trigger1ã®å‹•ä½œ:
  - å‡ºåŠ›1(ä¸Š): å…¥åŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å³åº§ã«é€ä¿¡ â†’ å‡¦ç†å®Ÿè¡Œã¸
  - å‡ºåŠ›2(ä¸‹): 3ç§’å¾Œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ã¸

ã€å‡¦ç†ãƒãƒ¼ãƒ‰ã€‘(Functionãƒãƒ¼ãƒ‰ä¾‹)
- æŒ‡å®šç§’æ•°ã ã‘å¾…æ©Ÿã—ã¦ã‹ã‚‰çµæœã‚’è¿”ã™
- é‡è¦: msg._msgid ã‚’ä¿æŒã—ãŸã¾ã¾é€ä¿¡

ã€Trigger2è¨­å®šã€‘(é‡è¤‡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚£ãƒ«ã‚¿)
- Send: the payload
- then: nothing
- wait for: 10ç§’
- handle separately: by msg._msgid (é‡è¦!)

âš™ï¸ Trigger2ã®å‹•ä½œ:
  - åŒã˜msg._msgidã‚’æŒã¤ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã†ã¡ã€æœ€åˆã®1ã¤ã ã‘ã‚’é€šéã•ã›ã‚‹
  - 2ã¤ç›®ä»¥é™(é…ã‚Œã¦å±Šã„ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)ã¯ãƒ–ãƒ­ãƒƒã‚¯
  - 10ç§’ = ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸IDã®ä¿æŒæœŸé–“(ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚ˆã‚Šé•·ãè¨­å®š)

å‹•ä½œã‚·ãƒŠãƒªã‚ª:

ğŸ“— ã‚±ãƒ¼ã‚¹1: å‡¦ç†ãŒæ™‚é–“å†…ã«å®Œäº†(1ç§’ã§å®Œäº†ã€åˆ¶é™3ç§’)
1. Trigger1å—ä¿¡ â†’ msg._msgidç”Ÿæˆ
2. å‡ºåŠ›1ã‹ã‚‰å‡¦ç†å®Ÿè¡Œ(1ç§’ã§å®Œäº†)
3. å‡ºåŠ›2ã‹ã‚‰3ç§’å¾Œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
4. Trigger2ã«å…ˆã«å±Šãã®ã¯ã€Œå‡¦ç†å®Œäº†ã€â†’ ã“ã‚ŒãŒå‡ºåŠ›ã•ã‚Œã‚‹
5. 3ç§’å¾Œã«ã€Œã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãŒTrigger2ã«å±Šã â†’ åŒã˜msg._msgidãªã®ã§ãƒ–ãƒ­ãƒƒã‚¯

ğŸ“• ã‚±ãƒ¼ã‚¹2: å‡¦ç†ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ(5ç§’ã‹ã‹ã‚‹ã€åˆ¶é™3ç§’)
1. Trigger1å—ä¿¡ â†’ msg._msgidç”Ÿæˆ
2. å‡ºåŠ›1ã‹ã‚‰å‡¦ç†å®Ÿè¡Œ(5ç§’ã‹ã‹ã‚‹)
3. å‡ºåŠ›2ã‹ã‚‰3ç§’å¾Œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
4. Trigger2ã«å…ˆã«å±Šãã®ã¯ã€Œã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€â†’ ã“ã‚ŒãŒå‡ºåŠ›ã•ã‚Œã‚‹
5. 5ç§’å¾Œã«ã€Œå‡¦ç†å®Œäº†ã€ãŒTrigger2ã«å±Šã â†’ åŒã˜msg._msgidãªã®ã§ãƒ–ãƒ­ãƒƒã‚¯

ğŸ“Œ ç‰¹å¾´: msg._msgidã¨ã„ã†ä¸€æ„ã®IDã‚’ä½¿ã£ã¦ã€ç«¶åˆã™ã‚‹2ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
         (å‡¦ç†å®Œäº† vs ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ)ã®ã†ã¡å…ˆã«åˆ°ç€ã—ãŸæ–¹ã ã‘ã‚’æ¡ç”¨ã€‚
        </div>
        
        <p><strong>å®Ÿä¾‹:</strong> APIå‘¼ã³å‡ºã—ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºã®å¿œç­”æ™‚é–“åˆ¶é™ã€é•·æ™‚é–“å‡¦ç†ã®åˆ¶é™ã€‚</p>
        <p><strong>é‡è¦ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
        <ul>
            <li>Trigger2ã®waitæ™‚é–“(10ç§’)ã¯ã€Trigger1ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“(3ç§’)ã‚ˆã‚Šé•·ãè¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹</li>
            <li>å‡¦ç†ãƒãƒ¼ãƒ‰ã¯å¿…ãšmsg._msgidã‚’ä¿æŒã—ã¦é€ä¿¡ã™ã‚‹ã“ã¨</li>
            <li>"handle separately: by msg._msgid"ãŒã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ ¸å¿ƒæŠ€è¡“</li>
        </ul>
        
        <div class="tip">
            <h3>ğŸ’¡ ãƒ’ãƒ³ãƒˆ: Extendãƒ¢ãƒ¼ãƒ‰ã¨Resetã®ä½¿ã„åˆ†ã‘</h3>
            <p><strong>Extendãƒ¢ãƒ¼ãƒ‰:</strong></p>
            <ul>
                <li>é€£ç¶šçš„ã«åˆ°ç€ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç›£è¦–</li>
                <li>ä¾‹: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒ5ç§’æ¥ãªã‘ã‚Œã°ç•°å¸¸</li>
            </ul>
            <p><strong>Resetãƒ¢ãƒ¼ãƒ‰:</strong></p>
            <ul>
                <li>æ˜ç¤ºçš„ãªã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå¿…è¦</li>
                <li>ä¾‹: å‡¦ç†å®Œäº†é€šçŸ¥ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«</li>
            </ul>
        </div>
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªæ™‚é–“å·®é€ä¿¡<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨"1"ã‚’é€ä¿¡ã—ã€2ç§’å¾Œã«"0"ã‚’é€ä¿¡ã™ã‚‹åŸºæœ¬çš„ãªTriggerãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§ãƒœã‚¿ãƒ³ã‚’ä½œæˆ</li>
                <li>Triggerãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€"1"ã‚’é€ä¿¡ã—ã¦ã‹ã‚‰2ç§’å¾Œã«"0"ã‚’é€ä¿¡</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§çµæœã‚’è¡¨ç¤º</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ã™ãã«"1"ãŒè¡¨ç¤º</li>
                <li>2ç§’å¾…æ©Ÿ â†’ "0"ãŒè¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Triggerãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>Send: a string â†’ "1"</li>
                    <li>then: a string â†’ "0"</li>
                    <li>wait for: 2 seconds</li>
                    <li>Extend: ãƒã‚§ãƒƒã‚¯ãªã—</li>
                </ul>
                <p>ã“ã®è¨­å®šã§LEDåˆ¶å¾¡ã‚„ãƒªãƒ¬ãƒ¼åˆ¶å¾¡ãªã©ã«å¿œç”¨ã§ãã¾ã™!</p>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "é–‹å§‹ãƒœã‚¿ãƒ³",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 100,
        "wires": [["ex1_trigger"]]
    },
    {
        "id": "ex1_trigger",
        "type": "trigger",
        "name": "2ç§’é–“éš”",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 290,
        "y": 100,
        "wires": [["ex1_debug"]]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 450,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>é–‹å§‹ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>ãƒ‡ãƒãƒƒã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«å³åº§ã« "1" ãŒè¡¨ç¤º</li>
                    <li>2ç§’å¾Œã« "0" ãŒè¡¨ç¤º</li>
                    <li>é€£ç¶šã—ã¦ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ãã‚Œãã‚Œç‹¬ç«‹ã—ã¦å‹•ä½œ</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ã‚¦ã‚©ãƒƒãƒãƒ‰ãƒƒã‚°ã‚¿ã‚¤ãƒãƒ¼<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>å®šæœŸçš„ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã€5ç§’é–“ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€”åˆ‡ã‚ŒãŸã‚‰"timeout"ã‚’å‡ºåŠ›ã™ã‚‹ã‚¦ã‚©ãƒƒãƒãƒ‰ãƒƒã‚°ã‚¿ã‚¤ãƒãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§æ‰‹å‹•ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡(ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆæ¨¡æ“¬)</li>
                <li>Triggerãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€5ç§’é–“ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€”åˆ‡ã‚ŒãŸã‚‰"timeout"ã‚’å‡ºåŠ›</li>
                <li>2ã¤ã®Debugãƒãƒ¼ãƒ‰ã§å…¥åŠ›ã¨å‡ºåŠ›ã‚’è¡¨ç¤º</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>å®šæœŸçš„ã«ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¯ç™ºç”Ÿã—ãªã„</li>
                <li>5ç§’ä»¥ä¸Šãƒœã‚¿ãƒ³ã‚’æŠ¼ã•ãªã„ â†’ "timeout"ãŒè¡¨ç¤º</li>
                <li>å†åº¦ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Triggerãƒãƒ¼ãƒ‰ã®é‡è¦è¨­å®š:</strong></p>
                <ul>
                    <li>Send: nothing (ä½•ã‚‚é€ä¿¡ã—ãªã„)</li>
                    <li>then: a string â†’ "timeout"</li>
                    <li>wait for: 5 seconds</li>
                    <li>âœ… <strong>extend if new message arrives</strong> ã«ãƒã‚§ãƒƒã‚¯!</li>
                </ul>
                <p>Extendã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãƒã‚¤ãƒ³ãƒˆã€‚æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ¥ã‚‹ãŸã³ã«ã‚¿ã‚¤ãƒãƒ¼ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚</p>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [["ex2_debug1", "ex2_trigger"]]
    },
    {
        "id": "ex2_debug1",
        "type": "debug",
        "name": "å…¥åŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 310,
        "y": 60,
        "wires": []
    },
    {
        "id": "ex2_trigger",
        "type": "trigger",
        "name": "Watchdog(5ç§’)",
        "op1": "",
        "op2": "timeout",
        "op1type": "nul",
        "op2type": "str",
        "duration": "5",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 320,
        "y": 120,
        "wires": [["ex2_debug2"]]
    },
    {
        "id": "ex2_debug2",
        "type": "debug",
        "name": "ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 530,
        "y": 120,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’5ç§’ä»¥å†…ã«é€£ç¶šã‚¯ãƒªãƒƒã‚¯ â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãªã—</li>
                    <li>5ç§’ä»¥ä¸Šå¾…ã¤ â†’ "timeout" ãŒè¡¨ç¤º</li>
                    <li>å†åº¦ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ</li>
                </ul>
                <p><strong>ğŸ“ å¿œç”¨:</strong></p>
                <ul>
                    <li>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®é€”çµ¶æ¤œçŸ¥</li>
                    <li>é€šä¿¡åˆ‡æ–­ã®ç›£è¦–</li>
                    <li>å®šæœŸå®Ÿè¡Œã‚¿ã‚¹ã‚¯ã®ç•°å¸¸æ¤œçŸ¥</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒé€”åˆ‡ã‚ŒãŸå ´åˆã«ã€ä»£æ›¿ãƒ‡ãƒ¼ã‚¿(ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼)ã‚’å®šæœŸçš„ã«é€ä¿¡ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§ãƒ‡ãƒ¼ã‚¿æºã‚’æ¨¡æ“¬</li>
                <li>2ã¤ã®Triggerãƒãƒ¼ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ãƒ‡ãƒ¼ã‚¿é€”çµ¶ã‚’æ¤œçŸ¥ã—ä»£æ›¿ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡</li>
                <li>ãƒ‡ãƒ¼ã‚¿ãŒé€”åˆ‡ã‚ŒãŸã‚‰2ç§’ã”ã¨ã«"placeholder"ã‚’é€ä¿¡</li>
                <li>ãƒ‡ãƒ¼ã‚¿å†é–‹æ™‚ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’åœæ­¢</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>é€šå¸¸æ™‚: å®Ÿãƒ‡ãƒ¼ã‚¿ãŒé€šé</li>
                <li>ãƒ‡ãƒ¼ã‚¿é€”çµ¶2ç§’å¾Œ: "placeholder"ã®å®šæœŸé€ä¿¡é–‹å§‹</li>
                <li>ãƒ‡ãƒ¼ã‚¿å†é–‹: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼åœæ­¢ã€å®Ÿãƒ‡ãƒ¼ã‚¿å†é–‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>2ã¤ã®Triggerãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨:</strong></p>
                <div class="code-block pattern-explanation">
Trigger1(æ¤œçŸ¥ç”¨):
- Send: nothing
- then: "reset"
- wait for: 2ç§’
- Extend: âœ“

Trigger2(é€ä¿¡ç”¨):
- Send: nothing
- then: nothing
- wait for: -2ç§’ (ç„¡é™ãƒ«ãƒ¼ãƒ—)
- reset: "reset"
                </div>
                <p>Trigger2ã®duration: -2ã¯ã€Œ2ç§’ã”ã¨ã«ç„¡é™ã«é€ä¿¡ã€ã‚’æ„å‘³ã—ã¾ã™ã€‚</p>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex3_inject",
        "type": "inject",
        "name": "ãƒ‡ãƒ¼ã‚¿æº",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "data",
        "payloadType": "str",
        "x": 120,
        "y": 100,
        "wires": [["ex3_debug1", "ex3_trigger1"]]
    },
    {
        "id": "ex3_debug1",
        "type": "debug",
        "name": "å®Ÿãƒ‡ãƒ¼ã‚¿",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 520,
        "y": 100,
        "wires": []
    },
    {
        "id": "ex3_trigger1",
        "type": "trigger",
        "name": "é€”çµ¶æ¤œçŸ¥",
        "op1": "reset",
        "op2": "true",
        "op1type": "str",
        "op2type": "bool",
        "duration": "2",
        "extend": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 290,
        "y": 140,
        "wires": [["ex3_trigger2"]]
    },
    {
        "id": "ex3_trigger2",
        "type": "trigger",
        "name": "ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼é€ä¿¡",
        "op1": "placeholder",
        "op2": "placeholder",
        "op1type": "str",
        "op2type": "str",
        "duration": "-2",
        "extend": false,
        "units": "s",
        "reset": "reset",
        "bytopic": "all",
        "outputs": 1,
        "x": 340,
        "y": 180,
        "wires": [["ex3_debug1"]]
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ãƒ‡ãƒ¼ã‚¿æºãƒœã‚¿ãƒ³ã‚’é€£ç¶šã‚¯ãƒªãƒƒã‚¯ â†’ å®Ÿãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤º</li>
                    <li>2ç§’é–“ã‚¯ãƒªãƒƒã‚¯ã‚’åœæ­¢ â†’ "placeholder"ãŒ2ç§’ã”ã¨ã«è¡¨ç¤ºé–‹å§‹</li>
                    <li>å†åº¦ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼åœæ­¢ã€å®Ÿãƒ‡ãƒ¼ã‚¿å†é–‹</li>
                </ul>
                <p><strong>ğŸ“ å®Ÿå‹™ã§ã®å¿œç”¨:</strong></p>
                <ul>
                    <li>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ¬ æè£œå®Œ</li>
                    <li>é€šä¿¡åˆ‡æ–­æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤é€ä¿¡</li>
                    <li>ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã®é€£ç¶šæ€§ä¿è¨¼</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆä»˜ãå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>å‡¦ç†ãŒæŒ‡å®šæ™‚é–“å†…ã«å®Œäº†ã—ãªã‹ã£ãŸå ´åˆã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¨ã—ã¦æ‰±ã†ã€2ã¤ã®Triggerãƒãƒ¼ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ãŸé«˜åº¦ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§å‡¦ç†æ™‚é–“ã‚’æŒ‡å®š(1ç§’ or 5ç§’)</li>
                <li>1ã¤ç›®ã®Triggerãƒãƒ¼ãƒ‰ã‚’2å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰ã§ä½¿ç”¨ã—ã€å‡¦ç†ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ(3ç§’)ã‚’åŒæ™‚ã«é–‹å§‹</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§æŒ‡å®šç§’æ•°ã®å‡¦ç†ã‚’æ¨¡æ“¬</li>
                <li>2ã¤ç›®ã®Triggerãƒãƒ¼ãƒ‰ã§ã€å‡¦ç†å®Œäº†ã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®æœ€åˆã®çµæœã®ã¿ã‚’é€šéã•ã›ã‚‹</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>1ç§’ãƒœã‚¿ãƒ³ â†’ å‡¦ç†å®Œäº† â†’ "done: 1s" è¡¨ç¤º</li>
                <li>5ç§’ãƒœã‚¿ãƒ³ â†’ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ "timeout" è¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Trigger1è¨­å®š(2å‡ºåŠ›):</strong></p>
                <div class="code-block pattern-explanation">
- Send: the payload
- then: "0"
- wait for: 3ç§’
- âœ… send second message to separate output
- outputs: 2
                </div>
                <p><strong>Functionãƒãƒ¼ãƒ‰(å®Œå…¨ãªå›ç­”):</strong></p>
                <div class="code-block pattern-explanation">
var wait = msg.payload;
setTimeout(function() {
    msg.payload = "done: " + wait + "s";
    node.send(msg);
}, wait * 1000);
                </div>
                <p><strong>Trigger2è¨­å®š:</strong></p>
                <div class="code-block pattern-explanation">
- Send: the payload
- then: nothing
- wait for: 10ç§’
- handle separately: by msg._msgid
                </div>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex4_inject1",
        "type": "inject",
        "name": "1ç§’å‡¦ç†",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 120,
        "y": 100,
        "wires": [["ex4_trigger1"]]
    },
    {
        "id": "ex4_inject2",
        "type": "inject",
        "name": "5ç§’å‡¦ç†",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 120,
        "y": 140,
        "wires": [["ex4_trigger1"]]
    },
    {
        "id": "ex4_trigger1",
        "type": "trigger",
        "name": "ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç›£è¦–",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "3",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 2,
        "x": 310,
        "y": 120,
        "wires": [
            ["ex4_function"],
            ["ex4_change"]
        ]
    },
    {
        "id": "ex4_function",
        "type": "function",
        "name": "å‡¦ç†å®Ÿè¡Œ",
        "func": "var wait = msg.payload;\nsetTimeout(function() {\n    msg.payload = \"done: \" + wait + \"s\";\n    node.send(msg);\n}, wait * 1000);",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 100,
        "wires": [["ex4_trigger2"]]
    },
    {
        "id": "ex4_change",
        "type": "change",
        "name": "ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ•ãƒ©ã‚°",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "timeout",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 140,
        "wires": [["ex4_trigger2"]]
    },
    {
        "id": "ex4_trigger2",
        "type": "trigger",
        "name": "æœ€åˆã®ã¿é€šé",
        "op1": "",
        "op2": "",
        "op1type": "pay",
        "op2type": "nul",
        "duration": "10",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "topic",
        "topic": "_msgid",
        "outputs": 1,
        "x": 720,
        "y": 120,
        "wires": [["ex4_debug"]]
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 890,
        "y": 120,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>1ç§’å‡¦ç†ãƒœã‚¿ãƒ³ â†’ 1ç§’å¾Œã« "done: 1s" è¡¨ç¤º</li>
                    <li>5ç§’å‡¦ç†ãƒœã‚¿ãƒ³ â†’ 3ç§’å¾Œã« "timeout" è¡¨ç¤º</li>
                    <li>msg._msgidã§åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸IDã®æœ€åˆã®ã‚‚ã®ã ã‘ãŒé€šé</li>
                </ul>
                <p><strong>ğŸ“ ä»•çµ„ã¿ã®ç†è§£:</strong></p>
                <ul>
                    <li>Trigger1ãŒå‡¦ç†é–‹å§‹ã¨åŒæ™‚ã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¿ã‚¤ãƒãƒ¼é–‹å§‹</li>
                    <li>å‡¦ç†å®Œäº†ã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®ã©ã¡ã‚‰ã‹å…ˆã«å±Šã„ãŸã‚‚ã®ãŒå‡ºåŠ›</li>
                    <li>Trigger2ãŒåŒã˜msg._msgidã®2ã¤ç›®ä»¥é™ã‚’ãƒ–ãƒ­ãƒƒã‚¯</li>
                </ul>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Triggerãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>æ™‚é–“å·®é€ä¿¡</strong>: 1ã¤ã®å…¥åŠ›ã‹ã‚‰2ã¤ã®å‡ºåŠ›ã‚’æ™‚é–“å·®ã§é€ä¿¡</li>
                <li>âœ… <strong>Extendãƒ¢ãƒ¼ãƒ‰</strong>: ã‚¦ã‚©ãƒƒãƒãƒ‰ãƒƒã‚°ã‚¿ã‚¤ãƒãƒ¼ã‚„ãƒ‡ãƒ¼ã‚¿é€”çµ¶æ¤œçŸ¥ã«æœ€é©</li>
                <li>âœ… <strong>Resetãƒ¢ãƒ¼ãƒ‰</strong>: å¾…æ©Ÿä¸­ã®ã‚¿ã‚¤ãƒãƒ¼ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯èƒ½</li>
                <li>âœ… <strong>2å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰</strong>: é€šå¸¸å‡¦ç†ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ã‚’åˆ†é›¢</li>
                <li>âœ… <strong>ãƒˆãƒ”ãƒƒã‚¯åˆ¥ç®¡ç†</strong>: è¤‡æ•°ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å€‹åˆ¥ã«ç›£è¦–</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Triggerãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Delayãƒãƒ¼ãƒ‰</strong>: ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ãªé…å»¶ã¨ãƒ¬ãƒ¼ãƒˆåˆ¶é™</li>
                <li><strong>Statusãƒãƒ¼ãƒ‰</strong>: ä»–ã®ãƒãƒ¼ãƒ‰ã®çŠ¶æ…‹å¤‰åŒ–ã‚’ç›£è¦–</li>
                <li><strong>Completeãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†å®Œäº†ã‚’æ¤œçŸ¥</li>
                <li><strong>Catchãƒãƒ¼ãƒ‰</strong>: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®å‡¦ç†</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>2ã¤ç›®ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€ä¿¡ã•ã‚Œãªã„</td>
                <td>Extendãƒ¢ãƒ¼ãƒ‰ã§é€£ç¶šå…¥åŠ›</td>
                <td>å…¥åŠ›ã‚’æ­¢ã‚ã¦å¾…æ©Ÿã€‚ã¾ãŸã¯Extendã‚’OFFã«</td>
            </tr>
            <tr>
                <td>ã‚¿ã‚¤ãƒãƒ¼ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œãªã„</td>
                <td>resetãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­å®šãƒŸã‚¹</td>
                <td>resetå€¤ã‚’ç¢ºèª(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯msg.reset)</td>
            </tr>
            <tr>
                <td>ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ­¢ã¾ã‚‰ãªã„</td>
                <td>resetãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå±Šã„ã¦ã„ãªã„</td>
                <td>ãƒ•ãƒ­ãƒ¼ã®æ¥ç¶šã¨resetå€¤ã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>è¤‡æ•°ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒåŒæ™‚ç™ºç”Ÿ</td>
                <td>ãƒˆãƒ”ãƒƒã‚¯åˆ¥ç®¡ç†ãŒç„¡åŠ¹</td>
                <td>"handle each topic separately"ã‚’æœ‰åŠ¹åŒ–</td>
            </tr>
            <tr>
                <td>æ„å›³ã—ãªã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€šé</td>
                <td>2å‡ºåŠ›ãƒ¢ãƒ¼ãƒ‰ã®é…ç·šãƒŸã‚¹</td>
                <td>å‡ºåŠ›1ã¨å‡ºåŠ›2ã®æ¥ç¶šå…ˆã‚’ç¢ºèª</td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: IoTãƒ‡ãƒã‚¤ã‚¹ã®æ­»æ´»ç›£è¦–</h3>
        <div class="code-block pattern-explanation">
ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆå—ä¿¡
â†“
Trigger(Extend: ON, 30ç§’)
â†“
30ç§’é–“ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆãªã—
â†“
ã‚¢ãƒ©ãƒ¼ãƒˆé€ä¿¡(Slack/ãƒ¡ãƒ¼ãƒ«)
        </div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: LEDé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ </h3>
        <div class="code-block pattern-explanation">
ã‚¢ãƒ©ãƒ¼ãƒˆç™ºç”Ÿ
â†“
Trigger(1â†’0, 5ç§’)
â†“
LEDç‚¹ç¯(5ç§’é–“)
â†“
è‡ªå‹•æ¶ˆç¯
        </div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: APIå‘¼ã³å‡ºã—ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆåˆ¶å¾¡</h3>
        <div class="code-block pattern-explanation">
APIå‘¼ã³å‡ºã—é–‹å§‹
â†“
Trigger1(2å‡ºåŠ›, 10ç§’)
â”œâ†’ å‡ºåŠ›1: APIå®Ÿè¡Œ â†’ çµæœ â†’ Trigger2
â””â†’ å‡ºåŠ›2: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ ã‚¨ãƒ©ãƒ¼å‡¦ç† â†’ Trigger2
â†“
Trigger2(msg._msgidç®¡ç†): æœ€åˆã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã¿æ¡ç”¨
        </div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ¬ æè£œå®Œ</h3>
        <div class="code-block pattern-explanation">
æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼(é€šå¸¸1åˆ†ã”ã¨)
â†“
Trigger1(Extend, 2åˆ†) â†’ ãƒ‡ãƒ¼ã‚¿é€”çµ¶æ¤œçŸ¥
â†“
Trigger2(ãƒ«ãƒ¼ãƒ—) â†’ å‰å›å€¤ã¾ãŸã¯æ¨å®šå€¤ã‚’1åˆ†ã”ã¨é€ä¿¡
â†“
ã‚°ãƒ©ãƒ•è¡¨ç¤º(é€”åˆ‡ã‚Œãªã—)
        </div>
        
        <h2>ğŸ”— 8. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/nodes#trigger" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Triggerãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://cookbook.nodered.org/basic/trigger-timeout" target="_blank">Node-RED Cookbook: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†</a></li>
            <li><a href="https://cookbook.nodered.org/basic/trigger-placeholder" target="_blank">Node-RED Cookbook: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Triggerãƒãƒ¼ãƒ‰ã¯æ™‚é–“åˆ¶å¾¡ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã‚¯ãƒ©ã‚¹ã®ã¿ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ï¼ˆæ¼”ç¿’å•é¡Œã®JSONãƒ•ãƒ­ãƒ¼ã®ã¿ï¼‰
            const codeBlocks = document.querySelectorAll('.flow-json');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
                    const code = block.textContent.replace('ã‚³ãƒ”ãƒ¼', '').trim();
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
</body>
</html>