<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Injectãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-function {
            background-color: #e6b0aa;
            color: #333;
        }
        
        .node-catch {
            background-color: #f39c12;
            color: white;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #8f0000;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        .answer-section {
            background-color: #fff9e6;
            border: 2px dashed #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #3fadb5;
            margin-top: 0;
        }
        
        .cron-table {
            font-size: 13px;
        }
        
        .cron-table td:first-child {
            font-family: 'Courier New', monospace;
            background-color: #f8f9fa;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>â° Node-RED Injectãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Injectãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Injectãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€Œãƒˆãƒªã‚¬ãƒ¼ã€ã£ã¦ä½•?</h3>
        <p>ãƒˆãƒªã‚¬ãƒ¼ã¨ã¯ã€Œãã£ã‹ã‘ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚ä½•ã‹ã‚’å‹•ã‹ã™ãŸã‚ã®ã€Œã‚¹ã‚¤ãƒƒãƒã€ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚</p>
        
        <div class="important">
            <strong>ğŸ’¡ æ—¥å¸¸ã®ä¾‹ã§è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†:</strong>
            <ul>
                <li>ç›®è¦šã¾ã—æ™‚è¨ˆ â†’ æ¯æœ7æ™‚ã«ã€Œèµ·ãã‚‹ã€ã¨ã„ã†ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>é›»æ°—ã®ã‚¹ã‚¤ãƒƒãƒ â†’ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€Œé›»æ°—ã‚’ã¤ã‘ã‚‹ã€ã¨ã„ã†ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>ã‚¿ã‚¤ãƒãƒ¼ â†’ 3åˆ†å¾Œã«ã€ŒãŠçŸ¥ã‚‰ã›ã€ã‚’ãƒˆãƒªã‚¬ãƒ¼</li>
            </ul>
            <p>Injectãƒãƒ¼ãƒ‰ã¯ã€ã“ã‚Œã‚‰ã®ã€Œãã£ã‹ã‘ã€ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ä½œã‚‹ãŸã‚ã®ãƒãƒ¼ãƒ‰ã§ã™ã€‚</p>
        </div>
        
        <h3>ğŸ¯ Injectãƒãƒ¼ãƒ‰ã®å½¹å‰²</h3>
        <p><strong>Injectãƒãƒ¼ãƒ‰</strong>ã¯ã€ãƒ•ãƒ­ãƒ¼ã‚’é–‹å§‹ã™ã‚‹ãŸã‚ã®ã€Œå…¥ã‚Šå£ã€ã¨ãªã‚‹ãƒãƒ¼ãƒ‰ã§ã™ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ãƒ•ãƒ­ãƒ¼ã«é€ã‚Šè¾¼ã¿ã¾ã™ã€‚</p>
        
        <div class="tip">
            <strong>ğŸš° æ°´é“ã®è›‡å£ã®ä¾‹:</strong><br>
            Injectãƒãƒ¼ãƒ‰ = æ°´é“ã®è›‡å£<br>
            ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ = æ°´<br>
            ãƒ•ãƒ­ãƒ¼ = æ°´ãŒæµã‚Œã‚‹é…ç®¡<br>
            <br>
            è›‡å£ã‚’ã²ã­ã‚‹(Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯)ã¨ã€æ°´(ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)ãŒæµã‚Œå§‹ã‚ã¾ã™ã€‚<br>
            ã‚¿ã‚¤ãƒãƒ¼ã‚’ã‚»ãƒƒãƒˆã™ã‚Œã°ã€è‡ªå‹•çš„ã«è›‡å£ãŒé–‹ãã‚ˆã†ã«ã‚‚ã§ãã¾ã™!
        </div>
        
        <h2>ğŸ” 2. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®è©³ã—ã„è§£èª¬</h2>
        
        <p>ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€Injectãƒãƒ¼ãƒ‰ã®<strong>3ã¤ã®ä¸»è¦ãªä½¿ã„æ–¹</strong>ãŒå«ã¾ã‚Œã¦ã„ã¾ã™:</p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: Node-REDèµ·å‹•æ™‚ã«ãƒˆãƒªã‚¬ãƒ¼</h3>
        <div class="node-example">
            <span class="node node-inject">inject<br>(èµ·å‹•æ™‚)</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
            <br><br>
            <span style="color: #aaa;">Node-REDèµ·å‹• â†’ è‡ªå‹•å®Ÿè¡Œ â†’ "Started!" ã‚’è¡¨ç¤º</span>
        </div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: å®šæœŸçš„ãªé–“éš”ã§ãƒˆãƒªã‚¬ãƒ¼</h3>
        <div class="node-example">
            <span class="node node-inject">inject<br>(5ç§’ã”ã¨)</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
            <br><br>
            <span style="color: #aaa;">5ç§’ â†’ å®Ÿè¡Œ â†’ 5ç§’ â†’ å®Ÿè¡Œ â†’ 5ç§’ â†’ å®Ÿè¡Œ...</span>
        </div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: ç‰¹å®šã®æ™‚åˆ»ã«ãƒˆãƒªã‚¬ãƒ¼</h3>
        <div class="node-example">
            <span class="node node-inject">inject<br>(å¹³æ—¥16æ™‚)</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
            <br><br>
            <span style="color: #aaa;">å¹³æ—¥ã®16:00ã«ãªã‚‹ã¨è‡ªå‹•å®Ÿè¡Œ</span>
        </div>
        
        <h2>âš™ï¸ 3. Injectãƒãƒ¼ãƒ‰ã®è¨­å®šé …ç›®</h2>
        
        <h3>3ã¤ã®ä¸»è¦ãªå®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰</h3>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4>ğŸš€ èµ·å‹•æ™‚ãƒˆãƒªã‚¬ãƒ¼</h4>
                <p><strong>è¨­å®š:</strong> "Inject once after" ã‚’ãƒã‚§ãƒƒã‚¯</p>
                <p><strong>ç”¨é€”:</strong></p>
                <ul>
                    <li>ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–</li>
                    <li>å¤‰æ•°ã®åˆæœŸå€¤è¨­å®š</li>
                    <li>èµ·å‹•é€šçŸ¥ã®é€ä¿¡</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>ğŸ”„ å®šæœŸå®Ÿè¡Œ</h4>
                <p><strong>è¨­å®š:</strong> "Repeat" â†’ interval</p>
                <p><strong>ç”¨é€”:</strong></p>
                <ul>
                    <li>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å®šæœŸå–å¾—</li>
                    <li>ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯</li>
                    <li>å®šæœŸçš„ãªçŠ¶æ…‹ç›£è¦–</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h4>ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ</h4>
                <p><strong>è¨­å®š:</strong> "Repeat" â†’ at a specific time</p>
                <p><strong>ç”¨é€”:</strong></p>
                <ul>
                    <li>æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</li>
                    <li>å®šæ™‚ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</li>
                    <li>æ™‚åˆ»æŒ‡å®šã®è‡ªå‹•åŒ–</li>
                </ul>
            </div>
        </div>
        
        <h3>ğŸ“‹ è¨­å®šã®è©³ç´°è§£èª¬</h3>
        
        <h4>1. Payload(ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰) - é€ä¿¡ã™ã‚‹ãƒ‡ãƒ¼ã‚¿</h4>
        <table>
            <tr>
                <th>ã‚¿ã‚¤ãƒ—</th>
                <th>èª¬æ˜</th>
                <th>ä¾‹</th>
            </tr>
            <tr>
                <td>timestamp</td>
                <td>ç¾åœ¨ã®æ—¥æ™‚(ãƒŸãƒªç§’)</td>
                <td>1699123456789</td>
            </tr>
            <tr>
                <td>string</td>
                <td>æ–‡å­—åˆ—</td>
                <td>"Hello, World!"</td>
            </tr>
            <tr>
                <td>number</td>
                <td>æ•°å€¤</td>
                <td>42</td>
            </tr>
            <tr>
                <td>boolean</td>
                <td>çœŸå½å€¤</td>
                <td>true / false</td>
            </tr>
            <tr>
                <td>JSON</td>
                <td>JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</td>
                <td>{"temp": 25, "humid": 60}</td>
            </tr>
        </table>
        
        <h4>2. Repeat(ç¹°ã‚Šè¿”ã—) - å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°</h4>
        
        <div class="important">
            <strong>â±ï¸ å®šæœŸå®Ÿè¡Œ(Interval)ã®è¨­å®š:</strong>
            <ul>
                <li><strong>ç§’å˜ä½</strong>: 1-59ç§’</li>
                <li><strong>åˆ†å˜ä½</strong>: 1-59åˆ†</li>
                <li><strong>æ™‚é–“å˜ä½</strong>: 1-23æ™‚é–“</li>
            </ul>
            <p>ä¾‹: "5" ç§’ã‚’é¸æŠ â†’ 5ç§’ã”ã¨ã«å®Ÿè¡Œ</p>
        </div>
        
        <h4>3. Crontab - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ</h4>
        
        <p>Crontabå½¢å¼ã¯ã€Unix/Linuxã§ä½¿ã‚ã‚Œã‚‹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æŒ‡å®šæ–¹æ³•ã§ã™ã€‚</p>
        
        <div class="code-block">
ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ: åˆ† æ™‚ æ—¥ æœˆ æ›œæ—¥

ä¾‹: 00 16 * * 1,2,3,4,5
    â”‚  â”‚  â”‚ â”‚ â””â”€ æ›œæ—¥(1=æœˆ, 2=ç«, ..., 5=é‡‘)
    â”‚  â”‚  â”‚ â””â”€â”€â”€ æœˆ(1-12) * = æ¯æœˆ
    â”‚  â”‚  â””â”€â”€â”€â”€â”€ æ—¥(1-31) * = æ¯æ—¥
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€ æ™‚(0-23) 16 = åˆå¾Œ4æ™‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†(0-59) 00 = 0åˆ†

æ„å‘³: å¹³æ—¥ã®16:00ã«å®Ÿè¡Œ
        </div>
        
        <table class="cron-table">
            <tr>
                <th>Crontab</th>
                <th>æ„å‘³</th>
            </tr>
            <tr>
                <td>0 9 * * *</td>
                <td>æ¯æ—¥9:00</td>
            </tr>
            <tr>
                <td>0 */2 * * *</td>
                <td>2æ™‚é–“ã”ã¨</td>
            </tr>
            <tr>
                <td>0 0 * * 0</td>
                <td>æ¯é€±æ—¥æ›œæ—¥ã®0:00</td>
            </tr>
            <tr>
                <td>30 8 1 * *</td>
                <td>æ¯æœˆ1æ—¥ã®8:30</td>
            </tr>
            <tr>
                <td>0 12 * * 1-5</td>
                <td>å¹³æ—¥ã®12:00</td>
            </tr>
            <tr>
                <td>*/15 * * * *</td>
                <td>15åˆ†ã”ã¨</td>
            </tr>
        </table>
        
        <div class="tip">
            <strong>ğŸ“ Crontabã®ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰:</strong>
            <ul>
                <li><code>*</code> = ã™ã¹ã¦(ã©ã®å€¤ã§ã‚‚OK)</li>
                <li><code>*/n</code> = né–“éš”ã§å®Ÿè¡Œ</li>
                <li><code>1,3,5</code> = ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¤‡æ•°æŒ‡å®š</li>
                <li><code>1-5</code> = ç¯„å›²æŒ‡å®š(1ã‹ã‚‰5ã¾ã§)</li>
            </ul>
        </div>
        
        <h4>4. Once(èµ·å‹•æ™‚å®Ÿè¡Œ) - åˆæœŸåŒ–å‡¦ç†</h4>
        
        <div class="important">
            <strong>è¨­å®šé …ç›®:</strong>
            <ul>
                <li><strong>"Inject once after"</strong> ã‚’ãƒã‚§ãƒƒã‚¯</li>
                <li><strong>é…å»¶æ™‚é–“</strong>: Node-REDèµ·å‹•å¾Œã€ä½•ç§’å¾…ã£ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã‹(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.1ç§’)</li>
            </ul>
            
            <p><strong>ãªãœé…å»¶ãŒå¿…è¦?</strong></p>
            <p>Node-REDèµ·å‹•ç›´å¾Œã¯ã€ä»–ã®ãƒãƒ¼ãƒ‰ã®æº–å‚™ãŒã¾ã å®Œäº†ã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚0.1ç§’ã®é…å»¶ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ã€ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ãŒæº–å‚™å®Œäº†ã—ã¦ã‹ã‚‰å®Ÿè¡Œã§ãã¾ã™ã€‚</p>
        </div>
        
        <h2>ğŸ’¡ 4. Injectãƒãƒ¼ãƒ‰ã®å®Ÿç”¨çš„ãªä½¿ã„æ–¹</h2>
        
        <h3>å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®æ´»ç”¨ä¾‹</h3>
        
        <h4>ä¾‹1: IoTã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å®šæœŸåé›†</h4>
        <div class="node-example">
            <span class="node node-inject">inject<br>(10ç§’ã”ã¨)</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼èª­å–</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">ãƒ‡ãƒ¼ã‚¿åŠ å·¥</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">ã‚¯ãƒ©ã‚¦ãƒ‰é€ä¿¡</span>
        </div>
        <p>10ç§’é–“éš”ã§ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã«é€ä¿¡ã—ã¾ã™ã€‚</p>
        
        <h4>ä¾‹2: æ¯æœã®ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•é€ä¿¡</h4>
        <div class="node-example">
            <span class="node node-inject">inject<br>(å¹³æ—¥9:00)</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">ãƒ‡ãƒ¼ã‚¿é›†è¨ˆ</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">ãƒ¡ãƒ¼ãƒ«é€ä¿¡</span>
        </div>
        <p>å¹³æ—¥ã®æœ9æ™‚ã«ã€å‰æ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã¾ã¨ã‚ãŸãƒ¬ãƒãƒ¼ãƒˆã‚’è‡ªå‹•é€ä¿¡ã—ã¾ã™ã€‚</p>
        
        <h4>ä¾‹3: ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã®åˆæœŸåŒ–</h4>
        <div class="node-example">
            <span class="node node-inject">inject<br>(èµ·å‹•æ™‚)</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">å¤‰æ•°åˆæœŸåŒ–</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">ãƒ‡ãƒã‚¤ã‚¹æ¥ç¶š</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">é€šçŸ¥é€ä¿¡</span>
        </div>
        <p>Node-REDèµ·å‹•æ™‚ã«ã€å¿…è¦ãªå¤‰æ•°ã‚’åˆæœŸåŒ–ã—ã€ãƒ‡ãƒã‚¤ã‚¹ã«æ¥ç¶šã€èµ·å‹•å®Œäº†ã‚’é€šçŸ¥ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“ 5. ç·´ç¿’å•é¡Œ</h2>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 1: ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ä½œã‚ã† <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>5ç§’ã”ã¨ã«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãŒ1ãšã¤å¢—ãˆã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã™ã‚‹</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ã§5ç§’é–“éš”ã§ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ç®¡ç†(flowå¤‰æ•°ã‚’ä½¿ç”¨)</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§ç¾åœ¨ã®ã‚«ã‚¦ãƒ³ãƒˆæ•°ã‚’è¡¨ç¤º</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>Repeat â†’ ??? ã‚’é¸æŠ</li>
                <li>é–“éš”ã¯ä½•ç§’ã«è¨­å®šã™ã‚‹?</li>
            </ul>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// flowå¤‰æ•°ã‹ã‚‰ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—(åˆå›ã¯0)
let count = flow.get('counter') || 0;

// ã‚«ã‚¦ãƒ³ãƒˆã‚’1å¢—ã‚„ã™
count = count + 1;

// flowå¤‰æ•°ã«ä¿å­˜
flow.set('counter', count);

// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¨­å®šã—ã¦è¿”ã™
msg.payload = count;
return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ› Debugãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>Output: <code>msg.payload</code> (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã§OK)</li>
                <li>To: debug sidebar (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã§OK)</li>
            </ul>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex1_inject",
        "type": "inject",
        "z": "exercise1",
        "name": "5ç§’ã‚¿ã‚¤ãƒãƒ¼",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            ["ex1_counter"]
        ]
    },
    {
        "id": "ex1_counter",
        "type": "function",
        "z": "exercise1",
        "name": "ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼",
        "func": "// flowå¤‰æ•°ã‹ã‚‰ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—(åˆå›ã¯0)\nlet count = flow.get('counter') || 0;\n\n// ã‚«ã‚¦ãƒ³ãƒˆã‚’1å¢—ã‚„ã™\ncount = count + 1;\n\n// flowå¤‰æ•°ã«ä¿å­˜\nflow.set('counter', count);\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¨­å®š\nmsg.payload = \"ã‚«ã‚¦ãƒ³ãƒˆ: \" + count;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 100,
        "wires": [
            ["ex1_debug"]
        ]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "z": "exercise1",
        "name": "ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 500,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ãƒ•ãƒ­ãƒ¼ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã€5ç§’ã”ã¨ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹</li>
                    <li>Debugã‚¿ãƒ–ã«ã€Œã‚«ã‚¦ãƒ³ãƒˆ: 1ã€ã€Œã‚«ã‚¦ãƒ³ãƒˆ: 2ã€...ã¨è¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>Node-REDã‚’å†èµ·å‹•ã™ã‚‹ã¨ã€ã‚«ã‚¦ãƒ³ãƒˆã¯0ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 2: æœã®æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>å¹³æ—¥ã®æœ9æ™‚ã«ã€ŒãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™!ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ã§å¹³æ—¥(æœˆ-é‡‘)ã®9:00ã«ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ç¾åœ¨æ™‚åˆ»ã‚’è¨­å®š</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º</li>
                <li>ãƒœãƒ¼ãƒŠã‚¹: Functionãƒãƒ¼ãƒ‰ã§æ›œæ—¥ã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>Repeat â†’ ??? ã‚’é¸æŠ</li>
                <li>Crontabå½¢å¼ã§å¹³æ—¥ã®9:00ã‚’æŒ‡å®šã™ã‚‹ã«ã¯?</li>
                <li>ãƒ’ãƒ³ãƒˆ: æ›œæ—¥ã¯ 1,2,3,4,5 ã§æŒ‡å®šã§ãã¾ã™</li>
            </ul>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// ç¾åœ¨ã®æ—¥æ™‚ã‚’å–å¾—
let now = new Date();

// æ›œæ—¥ã‚’å–å¾—(0=æ—¥, 1=æœˆ, ..., 6=åœŸ)
let dayOfWeek = now.getDay();

// æ›œæ—¥åã®é…åˆ—
let dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
let dayName = dayNames[dayOfWeek];

// æ™‚åˆ»ã‚’å–å¾—
let hour = now.getHours();
let minute = now.getMinutes();

// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ
msg.payload = {
    message: `ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™! ä»Šæ—¥ã¯${dayName}æ›œæ—¥ã§ã™ã€‚`,
    time: `${hour}:${minute < 10 ? '0' + minute : minute}`,
    timestamp: now.toISOString()
};

return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ”§ ãƒ†ã‚¹ãƒˆç”¨ã®Injectãƒãƒ¼ãƒ‰:</strong></p>
            <ul>
                <li>ã‚‚ã†1ã¤Injectãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ã€ã€Œãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã¨ã—ã¦ä½¿ã†ã¨ä¾¿åˆ©ã§ã™</li>
                <li>ã“ã®ãƒãƒ¼ãƒ‰ã¯é€šå¸¸ã®ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯å®Ÿè¡Œã«ã—ã¾ã™(Repeatã¯è¨­å®šãªã—)</li>
                <li>åŒã˜Functionãƒãƒ¼ãƒ‰ã«æ¥ç¶šã™ã‚Œã°ã€Crontabã‚’å¾…ãŸãšã«ãƒ†ã‚¹ãƒˆã§ãã¾ã™</li>
            </ul>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex2_inject",
        "type": "inject",
        "z": "exercise2",
        "name": "å¹³æ—¥9æ™‚",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "0 9 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 100,
        "wires": [
            ["ex2_message"]
        ]
    },
    {
        "id": "ex2_message",
        "type": "function",
        "z": "exercise2",
        "name": "æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
        "func": "let now = new Date();\nlet dayOfWeek = now.getDay();\nlet dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];\nlet dayName = dayNames[dayOfWeek];\n\nlet hour = now.getHours();\nlet minute = now.getMinutes();\n\nmsg.payload = {\n    message: `ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™! ä»Šæ—¥ã¯${dayName}æ›œæ—¥ã§ã™ã€‚`,\n    time: `${hour}:${minute < 10 ? '0' + minute : minute}`,\n    timestamp: now.toISOString()\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 100,
        "wires": [
            ["ex2_debug"]
        ]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "z": "exercise2",
        "name": "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 520,
        "y": 100,
        "wires": []
    },
    {
        "id": "ex2_inject_test",
        "type": "inject",
        "z": "exercise2",
        "name": "ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 160,
        "wires": [
            ["ex2_message"]
        ]
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ã€Œãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã§å³åº§ã«å‹•ä½œç¢ºèªãŒã§ãã‚‹</li>
                    <li>å®Ÿéš›ã«ã¯å¹³æ—¥ã®9:00ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹</li>
                    <li>Debugã‚¿ãƒ–ã«æŒ¨æ‹¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨æ›œæ—¥ã€æ™‚åˆ»ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 3: ã‚·ã‚¹ãƒ†ãƒ èµ·å‹•æ™‚ã®åˆæœŸåŒ– <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>Node-REDèµ·å‹•æ™‚ã«è¤‡æ•°ã®å¤‰æ•°ã‚’åˆæœŸåŒ–ã—ã€èµ·å‹•å®Œäº†ã‚’é€šçŸ¥ã™ã‚‹</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ã§èµ·å‹•æ™‚ã«ãƒˆãƒªã‚¬ãƒ¼(0.5ç§’é…å»¶)</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§è¤‡æ•°ã®flowå¤‰æ•°ã‚’åˆæœŸåŒ–:
                    <ul>
                        <li>counter = 0</li>
                        <li>systemStatus = "running"</li>
                        <li>startTime = ç¾åœ¨æ™‚åˆ»</li>
                    </ul>
                </li>
                <li>Functionãƒãƒ¼ãƒ‰ã§åˆæœŸåŒ–å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§é€šçŸ¥ã‚’è¡¨ç¤º</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>ã©ã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ONã«ã™ã‚Œã°èµ·å‹•æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹?</li>
                <li>é…å»¶æ™‚é–“ã¯ä½•ç§’ã«è¨­å®šã™ã‚‹? (è¦ä»¶ã‚’ç¢ºèªã—ã‚ˆã†)</li>
            </ul>
            
            <p><strong>ğŸ”§ Changeãƒãƒ¼ãƒ‰ã®è©³ç´°è¨­å®š(è¨­å®šç”»é¢ã§ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®šã—ã¦ãã ã•ã„):</strong></p>
            <div class="important">
                <p>Changeãƒãƒ¼ãƒ‰ã§4ã¤ã®ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã™:</p>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«1:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>flow.counter</code></li>
                    <li>å€¤: <code>0</code> (numberå‹)</li>
                </ul>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«2:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>flow.systemStatus</code></li>
                    <li>å€¤: <code>running</code> (stringå‹)</li>
                </ul>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«3:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>flow.startTime</code></li>
                    <li>å€¤: timestamp (ç¾åœ¨æ™‚åˆ»)</li>
                </ul>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«4:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>flow.errorCount</code></li>
                    <li>å€¤: <code>0</code> (numberå‹)</li>
                </ul>
                
                <p>â€» Changeãƒãƒ¼ãƒ‰ã§ã¯ã€Œ+ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§è¤‡æ•°ã®ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã§ãã¾ã™</p>
            </div>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// flowå¤‰æ•°ã‹ã‚‰èµ·å‹•æ™‚åˆ»ã‚’å–å¾—
let startTime = new Date(flow.get('startTime'));

// å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ
msg.payload = {
    status: "System Initialized",
    counter: flow.get('counter'),
    systemStatus: flow.get('systemStatus'),
    startTime: startTime.toLocaleString('ja-JP'),
    message: "ã™ã¹ã¦ã®å¤‰æ•°ãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸã€‚ã‚·ã‚¹ãƒ†ãƒ ã¯æ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã¾ã™ã€‚"
};

return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex3_inject",
        "type": "inject",
        "z": "exercise3",
        "name": "èµ·å‹•æ™‚å®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "System Initializing...",
        "payloadType": "str",
        "x": 130,
        "y": 100,
        "wires": [
            ["ex3_init"]
        ]
    },
    {
        "id": "ex3_init",
        "type": "change",
        "z": "exercise3",
        "name": "å¤‰æ•°åˆæœŸåŒ–",
        "rules": [
            {
                "t": "set",
                "p": "counter",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "systemStatus",
                "pt": "flow",
                "to": "running",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "startTime",
                "pt": "flow",
                "to": "",
                "tot": "date"
            },
            {
                "t": "set",
                "p": "errorCount",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 100,
        "wires": [
            ["ex3_message"]
        ]
    },
    {
        "id": "ex3_message",
        "type": "function",
        "z": "exercise3",
        "name": "å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
        "func": "let startTime = new Date(flow.get('startTime'));\n\nmsg.payload = {\n    status: \"System Initialized\",\n    counter: flow.get('counter'),\n    systemStatus: flow.get('systemStatus'),\n    startTime: startTime.toLocaleString('ja-JP'),\n    message: \"ã™ã¹ã¦ã®å¤‰æ•°ãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸã€‚ã‚·ã‚¹ãƒ†ãƒ ã¯æ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã¾ã™ã€‚\"\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 100,
        "wires": [
            ["ex3_debug"]
        ]
    },
    {
        "id": "ex3_debug",
        "type": "debug",
        "z": "exercise3",
        "name": "èµ·å‹•é€šçŸ¥",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 680,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ãƒ•ãƒ­ãƒ¼ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã€0.5ç§’å¾Œã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹</li>
                    <li>Debugã‚¿ãƒ–ã«åˆæœŸåŒ–å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>flowå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã§ãã‚‹</li>
                    <li>Node-REDã‚’å†èµ·å‹•ã™ã‚‹ã¨ã€å†åº¦åˆæœŸåŒ–ãŒå®Ÿè¡Œã•ã‚Œã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 4: ã‚¹ãƒãƒ¼ãƒˆç…§æ˜åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ  <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>æ™‚åˆ»ã«å¿œã˜ã¦ç…§æ˜ã‚’è‡ªå‹•çš„ã«ON/OFFã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œæˆã™ã‚‹</p>
            
            <h4>ğŸ“‹ ã‚·ãƒŠãƒªã‚ª</h4>
            <p>ã‚ªãƒ•ã‚£ã‚¹ã®ç…§æ˜ã‚’ä»¥ä¸‹ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã§è‡ªå‹•åˆ¶å¾¡ã—ã¾ã™:</p>
            <ul>
                <li>å¹³æ—¥7:00 â†’ ç…§æ˜ON</li>
                <li>å¹³æ—¥12:00 â†’ ç…§æ˜ã‚’50%ã«èª¿å…‰(æ˜¼ä¼‘ã¿)</li>
                <li>å¹³æ—¥13:00 â†’ ç…§æ˜ã‚’100%ã«æˆ»ã™</li>
                <li>å¹³æ—¥19:00 â†’ ç…§æ˜OFF</li>
                <li>ä¼‘æ—¥ â†’ ç…§æ˜ã¯å¸¸ã«OFF</li>
            </ul>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>4ã¤ã®Injectãƒãƒ¼ãƒ‰ã§å„æ™‚åˆ»ã«ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>Switchãƒãƒ¼ãƒ‰ã§æ›œæ—¥ã‚’åˆ¤å®š(ä¼‘æ—¥ã¯å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—)</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§ç…§æ˜ã®çŠ¶æ…‹(ON/OFF/èª¿å…‰ãƒ¬ãƒ™ãƒ«)ã‚’è¨­å®š</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§ç…§æ˜åˆ¶å¾¡ã‚³ãƒãƒ³ãƒ‰ã‚’ç”Ÿæˆ</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§åˆ¶å¾¡ãƒ­ã‚°ã‚’è¡¨ç¤º</li>
                <li>ãƒœãƒ¼ãƒŠã‚¹: ç¾åœ¨ã®ç…§æ˜çŠ¶æ…‹ã‚’flowå¤‰æ•°ã§ç®¡ç†</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è€ƒãˆã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>4ã¤ã®Injectãƒãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™</li>
                <li>ãã‚Œãã‚Œã®Crontabå½¢å¼ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†:
                    <ul>
                        <li>å¹³æ—¥7:00 â†’ ?</li>
                        <li>å¹³æ—¥12:00 â†’ ?</li>
                        <li>å¹³æ—¥13:00 â†’ ?</li>
                        <li>å¹³æ—¥19:00 â†’ ?</li>
                    </ul>
                </li>
                <li>å„Injectãƒãƒ¼ãƒ‰ã«ã¯è¿½åŠ ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚‚è¨­å®šã—ã¾ã™(å¾Œè¿°)</li>
            </ul>
            
            <p><strong>ğŸ“‹ å„Injectãƒãƒ¼ãƒ‰ã®è¿½åŠ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¨­å®š:</strong></p>
            <div class="important">
                <p>å„Injectãƒãƒ¼ãƒ‰ã®è¨­å®šç”»é¢ã§ã€Œãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„:</p>
                
                <p><strong>7:00 ç…§æ˜ONç”¨:</strong></p>
                <ul>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£1: <code>msg.action</code> = <code>"on"</code> (string)</li>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£2: <code>msg.brightness</code> = <code>100</code> (number)</li>
                </ul>
                
                <p><strong>12:00 èª¿å…‰ç”¨:</strong></p>
                <ul>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£1: <code>msg.action</code> = <code>"dim"</code> (string)</li>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£2: <code>msg.brightness</code> = <code>50</code> (number)</li>
                </ul>
                
                <p><strong>13:00 å¾©å¸°ç”¨:</strong></p>
                <ul>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£1: <code>msg.action</code> = <code>"on"</code> (string)</li>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£2: <code>msg.brightness</code> = <code>100</code> (number)</li>
                </ul>
                
                <p><strong>19:00 ç…§æ˜OFFç”¨:</strong></p>
                <ul>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£1: <code>msg.action</code> = <code>"off"</code> (string)</li>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£2: <code>msg.brightness</code> = <code>0</code> (number)</li>
                </ul>
            </div>
            
            <p><strong>ğŸ”€ Switchãƒãƒ¼ãƒ‰ã®è¨­å®š(ãã®ã¾ã¾è¨­å®šã—ã¦ãã ã•ã„):</strong></p>
            <div class="code-block">
ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£: msg.payload (timestampå‹ãŒå…¥ã£ã¦ã„ã‚‹)
æ¡ä»¶ã‚¿ã‚¤ãƒ—: "otherwise" (else) ã®ã¿
â€» æœ¬æ¥ã¯æ›œæ—¥åˆ¤å®šã‚’å…¥ã‚Œã¾ã™ãŒã€ç°¡ç•¥åŒ–ã®ãŸã‚å…¨ã¦é€šã—ã¾ã™
</div>
            <p>ã‚ˆã‚Šé«˜åº¦ãªå®Ÿè£…ã§ã¯ã€Functionãƒãƒ¼ãƒ‰ã§æ›œæ—¥ã‚’åˆ¤å®šã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰(ç…§æ˜åˆ¶å¾¡)ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// ç¾åœ¨æ™‚åˆ»ã‚’å–å¾—
let now = new Date();

// Injectãƒãƒ¼ãƒ‰ã‹ã‚‰æ¸¡ã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨æ˜ã‚‹ã•ã‚’å–å¾—
let action = msg.action;
let brightness = msg.brightness;

// ç…§æ˜ã®çŠ¶æ…‹ã‚’flowå¤‰æ•°ã«ä¿å­˜
flow.set('lightStatus', {
    action: action,
    brightness: brightness,
    lastUpdate: now.toISOString()
});

// ç…§æ˜åˆ¶å¾¡ã‚³ãƒãƒ³ãƒ‰ã‚’ç”Ÿæˆ
msg.payload = {
    device: "office-light-001",
    command: action,
    brightness: brightness,
    timestamp: now.toLocaleString('ja-JP'),
    message: `ç…§æ˜ã‚’${action === 'on' ? 'ON' : action === 'off' ? 'OFF' : 'èª¿å…‰'}ã—ã¾ã—ãŸ (æ˜ã‚‹ã•: ${brightness}%)`
};

return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ”§ Changeãƒãƒ¼ãƒ‰(çŠ¶æ…‹æ›´æ–°)ã®è¨­å®š:</strong></p>
            <div class="important">
                <p>Functionãƒãƒ¼ãƒ‰ã®å¾Œã«é…ç½®ã™ã‚‹Changeãƒãƒ¼ãƒ‰ã®è¨­å®š:</p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>msg.payload</code></li>
                    <li>å€¤: <code>flow.lightStatus</code> (flowå¤‰æ•°)</li>
                </ul>
                <p>ã“ã‚Œã«ã‚ˆã‚Šã€ç¾åœ¨ã®ç…§æ˜çŠ¶æ…‹ã‚’å–å¾—ã—ã¦Debugã§è¡¨ç¤ºã§ãã¾ã™ã€‚</p>
            </div>
            
            <p><strong>ğŸ§ª ãƒ†ã‚¹ãƒˆç”¨ã®Injectãƒãƒ¼ãƒ‰:</strong></p>
            <ul>
                <li>æœ¬ç•ªç”¨ã®4ã¤ã¨ã¯åˆ¥ã«ã€ãƒ†ã‚¹ãƒˆç”¨ã®Injectãƒãƒ¼ãƒ‰ã‚’3ã¤è¿½åŠ ã™ã‚‹ã¨ä¾¿åˆ©ã§ã™</li>
                <li>ãã‚Œãã‚Œã€Œãƒ†ã‚¹ãƒˆ: ONã€ã€Œãƒ†ã‚¹ãƒˆ: èª¿å…‰ã€ã€Œãƒ†ã‚¹ãƒˆ: OFFã€ã¨ã—ã¦è¨­å®š</li>
                <li>Repeatã¯è¨­å®šã›ãšã€æ‰‹å‹•ã‚¯ãƒªãƒƒã‚¯å®Ÿè¡Œã®ã¿</li>
                <li>msg.actionã¨msg.brightnessã‚’æœ¬ç•ªç”¨ã¨åŒã˜ã‚ˆã†ã«è¨­å®š</li>
                <li>Functionãƒãƒ¼ãƒ‰ã«ç›´æ¥æ¥ç¶šã™ã‚Œã°ã€Crontabã‚’å¾…ãŸãšã«ãƒ†ã‚¹ãƒˆã§ãã¾ã™</li>
            </ul>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex4_inject_on",
        "type": "inject",
        "z": "exercise4",
        "name": "7:00 ç…§æ˜ON",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "on",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "0 7 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            ["ex4_switch"]
        ]
    },
    {
        "id": "ex4_inject_dim",
        "type": "inject",
        "z": "exercise4",
        "name": "12:00 50%èª¿å…‰",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "dim",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "50",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "0 12 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 160,
        "wires": [
            ["ex4_switch"]
        ]
    },
    {
        "id": "ex4_inject_full",
        "type": "inject",
        "z": "exercise4",
        "name": "13:00 100%å¾©å¸°",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "on",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "0 13 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 220,
        "wires": [
            ["ex4_switch"]
        ]
    },
    {
        "id": "ex4_inject_off",
        "type": "inject",
        "z": "exercise4",
        "name": "19:00 ç…§æ˜OFF",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "off",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "0 19 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 280,
        "wires": [
            ["ex4_switch"]
        ]
    },
    {
        "id": "ex4_switch",
        "type": "switch",
        "z": "exercise4",
        "name": "å¹³æ—¥ãƒã‚§ãƒƒã‚¯",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 350,
        "y": 180,
        "wires": [
            ["ex4_control"]
        ]
    },
    {
        "id": "ex4_control",
        "type": "function",
        "z": "exercise4",
        "name": "ç…§æ˜åˆ¶å¾¡",
        "func": "let now = new Date();\nlet action = msg.action;\nlet brightness = msg.brightness;\n\n// ç…§æ˜çŠ¶æ…‹ã‚’ä¿å­˜\nflow.set('lightStatus', {\n    action: action,\n    brightness: brightness,\n    lastUpdate: now.toISOString()\n});\n\n// åˆ¶å¾¡ã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆ\nmsg.payload = {\n    device: \"office-light-001\",\n    command: action,\n    brightness: brightness,\n    timestamp: now.toLocaleString('ja-JP'),\n    message: `ç…§æ˜ã‚’${action === 'on' ? 'ON' : action === 'off' ? 'OFF' : 'èª¿å…‰'}ã—ã¾ã—ãŸ (æ˜ã‚‹ã•: ${brightness}%)`\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 510,
        "y": 180,
        "wires": [
            ["ex4_debug", "ex4_status"]
        ]
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "z": "exercise4",
        "name": "åˆ¶å¾¡ãƒ­ã‚°",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 680,
        "y": 180,
        "wires": []
    },
    {
        "id": "ex4_status",
        "type": "change",
        "z": "exercise4",
        "name": "çŠ¶æ…‹æ›´æ–°",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "lightStatus",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 240,
        "wires": [
            ["ex4_debug_status"]
        ]
    },
    {
        "id": "ex4_debug_status",
        "type": "debug",
        "z": "exercise4",
        "name": "ç¾åœ¨ã®çŠ¶æ…‹",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 850,
        "y": 240,
        "wires": []
    },
    {
        "id": "ex4_test_on",
        "type": "inject",
        "z": "exercise4",
        "name": "ãƒ†ã‚¹ãƒˆ: ON",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "on",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "100",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 360,
        "wires": [
            ["ex4_control"]
        ]
    },
    {
        "id": "ex4_test_dim",
        "type": "inject",
        "z": "exercise4",
        "name": "ãƒ†ã‚¹ãƒˆ: èª¿å…‰",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "dim",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "50",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 400,
        "wires": [
            ["ex4_control"]
        ]
    },
    {
        "id": "ex4_test_off",
        "type": "inject",
        "z": "exercise4",
        "name": "ãƒ†ã‚¹ãƒˆ: OFF",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "action",
                "v": "off",
                "vt": "str"
            },
            {
                "p": "brightness",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 440,
        "wires": [
            ["ex4_control"]
        ]
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ã€Œãƒ†ã‚¹ãƒˆã€ãƒœã‚¿ãƒ³ã§å³åº§ã«å„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è©¦ã›ã‚‹</li>
                    <li>å®Ÿéš›ã«ã¯è¨­å®šã—ãŸæ™‚åˆ»ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹</li>
                    <li>Debugã‚¿ãƒ–ã§åˆ¶å¾¡ãƒ­ã‚°ã¨ç¾åœ¨ã®ç…§æ˜çŠ¶æ…‹ãŒç¢ºèªã§ãã‚‹</li>
                    <li>flowå¤‰æ•° "lightStatus" ã§ç…§æ˜ã®çŠ¶æ…‹ãŒæ°¸ç¶šåŒ–ã•ã‚Œã‚‹</li>
                    <li>ä¼‘æ—¥ã¯è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã‚‹(Switchãƒãƒ¼ãƒ‰ã§åˆ¤å®š)</li>
                </ul>
            </details>
        </div>
        
        <h2>ğŸ“ 6. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Injectãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>ãƒ•ãƒ­ãƒ¼ã®èµ·ç‚¹</strong>: ã™ã¹ã¦ã®ãƒ•ãƒ­ãƒ¼ã¯Injectãƒãƒ¼ãƒ‰ã‹ã‚‰å§‹ã¾ã‚‹</li>
                <li>âœ… <strong>3ã¤ã®å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰</strong>: æ‰‹å‹•ã€å®šæœŸå®Ÿè¡Œã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ</li>
                <li>âœ… <strong>èµ·å‹•æ™‚åˆæœŸåŒ–</strong>: Node-REDèµ·å‹•æ™‚ã®è‡ªå‹•å‡¦ç†ã«æœ€é©</li>
                <li>âœ… <strong>å¤šæ§˜ãªãƒ‡ãƒ¼ã‚¿å‹</strong>: æ–‡å­—åˆ—ã€æ•°å€¤ã€JSONã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãªã©</li>
                <li>âœ… <strong>Crontabå½¢å¼</strong>: æŸ”è»Ÿãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šãŒå¯èƒ½</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Injectãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Delayãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é…å»¶ã‚„ãƒ¬ãƒ¼ãƒˆåˆ¶é™</li>
                <li><strong>Triggerãƒãƒ¼ãƒ‰</strong>: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚„è‡ªå‹•ãƒªã‚»ãƒƒãƒˆ</li>
                <li><strong>Switchãƒãƒ¼ãƒ‰</strong>: æ¡ä»¶åˆ†å²ã¨ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</li>
                <li><strong>Changeãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åŠ å·¥ã¨å¤‰æ•°æ“ä½œ</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 7. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>èµ·å‹•æ™‚ã«å®Ÿè¡Œã•ã‚Œãªã„</td>
                <td>"Inject once after" ãŒãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã„ãªã„</td>
                <td>Injectãƒãƒ¼ãƒ‰ã®è¨­å®šã§ "Inject once after" ã‚’ãƒã‚§ãƒƒã‚¯</td>
            </tr>
            <tr>
                <td>å®šæœŸå®Ÿè¡ŒãŒæ­¢ã¾ã‚‹</td>
                <td>RepeatãŒè¨­å®šã•ã‚Œã¦ã„ãªã„ã€ã¾ãŸã¯ãƒ•ãƒ­ãƒ¼ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ãªã„</td>
                <td>Repeatè¨­å®šã‚’ç¢ºèªã—ã€å¿…ãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</td>
            </tr>
            <tr>
                <td>CrontabãŒå‹•ã‹ãªã„</td>
                <td>Crontabå½¢å¼ãŒé–“é•ã£ã¦ã„ã‚‹</td>
                <td>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã®Crontabã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã§æ§‹æ–‡ã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>æ™‚åˆ»ãŒãšã‚Œã¦ã„ã‚‹</td>
                <td>ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³è¨­å®š</td>
                <td>Raspberry Piã‚„ã‚µãƒ¼ãƒãƒ¼ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’ç¢ºèª</td>
            </tr>
        </table>
        
        <h2>ğŸ”— 8. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/nodes#inject" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Injectãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://cookbook.nodered.org/basic/" target="_blank">Node-RED Cookbook: åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³</a></li>
            <li><a href="https://crontab.guru/" target="_blank">Crontab Guru: Crontabå¼ã®ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Injectãƒãƒ¼ãƒ‰ã¯è‡ªå‹•åŒ–ã¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œã®åŸºç¤ã¨ãªã‚‹é‡è¦ãªãƒãƒ¼ãƒ‰ã§ã™ã€‚</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // ã™ã¹ã¦ã®.code-blockã¨.flow-jsonã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            const codeBlocks = document.querySelectorAll('.code-block, .flow-json');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
                    const code = block.textContent.replace('ã‚³ãƒ”ãƒ¼', '').trim();
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
</body>
</html>