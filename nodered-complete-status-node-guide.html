<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Complete / Status ãƒãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.8; max-width: 1000px; margin: 0 auto; padding: 20px; background-color: #f5f5f5; color: #333; }
        h1 { color: #b92d5d; border-bottom: 3px solid #b92d5d; padding-bottom: 10px; }
        h2 { color: #d33682; margin-top: 40px; border-left: 5px solid #d33682; padding-left: 15px; }
        h3 { color: #555; margin-top: 25px; }
        .container { background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .node-example { background-color: #2d3133; padding: 20px; border-radius: 5px; margin: 20px 0; color: white; font-family: 'Courier New', monospace; display: flex; align-items: center; flex-wrap: wrap; gap: 5px; }
        .node { display: inline-block; padding: 8px 15px; border-radius: 4px; margin: 5px; font-weight: bold; font-size: 14px; }
        .node-inject { background-color: #3fadb5; color: white; }
        .node-debug { background-color: #87a48d; color: white; }
        .node-function { background-color: #e8a658; color: white; }
        .node-complete { background-color: #c0c0c0; color: #333; border-left: 4px solid #4caf50; }
        .node-status { background-color: #c0c0c0; color: #333; border-left: 4px solid #2196f3; }
        .node-catch { background-color: #e8967a; color: white; }
        .node-http { background-color: #e3d176; color: #333; }
        .arrow { color: #999; font-size: 20px; margin: 0 10px; }
        .important { background-color: #fce4ec; border-left: 4px solid #b92d5d; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .tip { background-color: #e8f5e9; border-left: 4px solid #4caf50; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .warning { background-color: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .code-block { background-color: #2d3133; color: #f8f8f2; padding: 15px; border-radius: 5px; margin: 15px 0; overflow-x: auto; font-family: 'Courier New', Consolas, monospace; font-size: 14px; white-space: pre; }
        .flow-json { background-color: #1a1a2e; color: #a6e22e; padding: 15px; border-radius: 5px; font-family: 'Courier New', Consolas, monospace; font-size: 12px; overflow-x: auto; white-space: pre; position: relative; max-height: 400px; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #b92d5d; color: white; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .exercise { background-color: #e3f2fd; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #2196f3; }
        .exercise h3 { color: #1976d2; margin-top: 0; }
        .difficulty { display: inline-block; padding: 3px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; margin-left: 10px; }
        .difficulty-easy { background-color: #c8e6c9; color: #2e7d32; }
        .difficulty-medium { background-color: #fff9c4; color: #f57f17; }
        .difficulty-hard { background-color: #ffcdd2; color: #c62828; }
        details { background-color: #f5f5f5; padding: 10px 15px; border-radius: 5px; margin: 10px 0; }
        details summary { cursor: pointer; font-weight: bold; color: #1976d2; }
        details[open] summary { margin-bottom: 10px; }
        .toc { background-color: #fafafa; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 20px 0; }
        .toc h3 { margin-top: 0; color: #b92d5d; }
        .toc ul { list-style: none; padding-left: 0; }
        .toc li { padding: 5px 0; }
        .toc a { color: #1976d2; text-decoration: none; }
        .toc a:hover { text-decoration: underline; }
        .copy-btn { position: absolute; top: 5px; right: 5px; background-color: #666; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 12px; }
        .copy-btn:hover { background-color: #888; }
        .node-compare { display: flex; gap: 20px; flex-wrap: wrap; margin: 20px 0; }
        .node-card { background: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; flex: 1; min-width: 280px; }
        .node-card h4 { margin-top: 0; color: #b92d5d; }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœ… Node-RED Complete / Status ãƒãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰</h1>
        
        <div class="toc">
            <h3>ğŸ“š ç›®æ¬¡</h3>
            <ul>
                <li><a href="#section1">1. æ¦‚è¦</a></li>
                <li><a href="#section2">2. Complete ãƒãƒ¼ãƒ‰è©³ç´°</a></li>
                <li><a href="#section3">3. Status ãƒãƒ¼ãƒ‰è©³ç´°</a></li>
                <li><a href="#section4">4. Catch ãƒãƒ¼ãƒ‰ã¨ã®é•ã„</a></li>
                <li><a href="#section5">5. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</a></li>
                <li><a href="#section6">6. æ¼”ç¿’å•é¡Œ</a></li>
                <li><a href="#section7">7. ã¾ã¨ã‚</a></li>
                <li><a href="#section8">8. å®Ÿå‹™æ´»ç”¨ä¾‹</a></li>
            </ul>
        </div>
        
        <h2 id="section1">ğŸ“– 1. æ¦‚è¦</h2>
        
        <p><strong>Complete ãƒãƒ¼ãƒ‰</strong>ã¨<strong>Status ãƒãƒ¼ãƒ‰</strong>ã¯ã€ä»–ã®ãƒãƒ¼ãƒ‰ã®å‹•ä½œçŠ¶æ³ã‚’ç›£è¦–ã™ã‚‹ãŸã‚ã®ãƒãƒ¼ãƒ‰ã§ã™ã€‚Catch ãƒãƒ¼ãƒ‰ï¼ˆã‚¨ãƒ©ãƒ¼ç›£è¦–ï¼‰ã¨åˆã‚ã›ã¦ã€ãƒ•ãƒ­ãƒ¼ã®ç›£è¦–ã«ä½¿ç”¨ã—ã¾ã™ã€‚</p>
        
        <div class="node-compare">
            <div class="node-card">
                <h4>âœ… Complete ãƒãƒ¼ãƒ‰</h4>
                <div class="node-example" style="justify-content: center;">
                    <span class="node node-complete">Complete</span>
                </div>
                <p><strong>å½¹å‰²:</strong> æŒ‡å®šãƒãƒ¼ãƒ‰ã®å‡¦ç†å®Œäº†ã‚’æ¤œçŸ¥</p>
                <p><strong>ç”¨é€”:</strong></p>
                <ul>
                    <li>éåŒæœŸå‡¦ç†ã®å®Œäº†æ¤œçŸ¥</li>
                    <li>å‡¦ç†æ™‚é–“ã®è¨ˆæ¸¬</li>
                    <li>å¾Œç¶šå‡¦ç†ã®ãƒˆãƒªã‚¬ãƒ¼</li>
                </ul>
            </div>
            
            <div class="node-card">
                <h4>ğŸ“Š Status ãƒãƒ¼ãƒ‰</h4>
                <div class="node-example" style="justify-content: center;">
                    <span class="node node-status">Status</span>
                </div>
                <p><strong>å½¹å‰²:</strong> æŒ‡å®šãƒãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰åŒ–ã‚’æ¤œçŸ¥</p>
                <p><strong>ç”¨é€”:</strong></p>
                <ul>
                    <li>æ¥ç¶šçŠ¶æ…‹ã®ç›£è¦–ï¼ˆMQTTç­‰ï¼‰</li>
                    <li>å‡¦ç†çŠ¶æ³ã®è¡¨ç¤º</li>
                    <li>ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®æ—©æœŸæ¤œçŸ¥</li>
                </ul>
            </div>
        </div>
        
        <p>ğŸ­ <strong>å·¥å ´ã®ãƒ©ã‚¤ãƒ³ã«ä¾‹ãˆã‚‹ã¨</strong>ï¼šComplete ãƒãƒ¼ãƒ‰ã¯ã€Œä½œæ¥­å®Œäº†ã€ã®ãƒ©ãƒ³ãƒ—ã€Status ãƒãƒ¼ãƒ‰ã¯æ©Ÿæ¢°ã®ã€ŒçŠ¶æ…‹è¡¨ç¤ºãƒ‘ãƒãƒ«ã€ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ä½œæ¥­ãŒçµ‚ã‚ã£ãŸã‹ã€ä»Šã©ã‚“ãªçŠ¶æ…‹ã‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æŠŠæ¡ã§ãã¾ã™ã€‚</p>
        
        <h2 id="section2">âš™ï¸ 2. Complete ãƒãƒ¼ãƒ‰è©³ç´°</h2>
        
        <h3>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h3>
        <table>
            <tr><th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th><th>èª¬æ˜</th></tr>
            <tr><td><strong>Scope</strong></td><td>ç›£è¦–å¯¾è±¡ãƒãƒ¼ãƒ‰ã‚’é¸æŠï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</td></tr>
            <tr><td><strong>Name</strong></td><td>ãƒãƒ¼ãƒ‰ã®è¡¨ç¤ºå</td></tr>
        </table>
        
        <h3>å‡ºåŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>
        <div class="code-block">{
    "payload": /* å®Œäº†ã—ãŸãƒãƒ¼ãƒ‰ãŒæœ€å¾Œã«å‡ºåŠ›ã—ãŸ payload */,
    "_msgid": "å…ƒã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ID",
    /* å…ƒã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¶™æ‰¿ */
}</div>
        
        <h3>Complete ãŒç™ºç«ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°</h3>
        <ul>
            <li>ãƒãƒ¼ãƒ‰ãŒ <code>node.done()</code> ã‚’å‘¼ã³å‡ºã—ãŸã¨ã</li>
            <li>ãƒãƒ¼ãƒ‰ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ã‚’å®Œäº†ã—ãŸã¨ã</li>
            <li>éåŒæœŸå‡¦ç†ï¼ˆHTTP Request ãªã©ï¼‰ãŒå®Œäº†ã—ãŸã¨ã</li>
        </ul>
        
        <div class="tip">
            <p><strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <p>ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ãŒ Complete ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¸»ã«éåŒæœŸå‡¦ç†ã‚’è¡Œã†ãƒãƒ¼ãƒ‰ï¼ˆHTTP Requestã€Execã€File ãªã©ï¼‰ã§æœ‰åŠ¹ã§ã™ã€‚</p>
        </div>
        
        <h2 id="section3">ğŸ“Š 3. Status ãƒãƒ¼ãƒ‰è©³ç´°</h2>
        
        <h3>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h3>
        <table>
            <tr><th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th><th>èª¬æ˜</th></tr>
            <tr><td><strong>Scope</strong></td><td>ç›£è¦–å¯¾è±¡ãƒãƒ¼ãƒ‰ã‚’é¸æŠï¼ˆè¤‡æ•°é¸æŠå¯ã€ã¾ãŸã¯å…¨ãƒãƒ¼ãƒ‰ï¼‰</td></tr>
            <tr><td><strong>Name</strong></td><td>ãƒãƒ¼ãƒ‰ã®è¡¨ç¤ºå</td></tr>
        </table>
        
        <h3>å‡ºåŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>
        <div class="code-block">{
    "status": {
        "fill": "green",      // è‰²: red, green, yellow, blue, grey
        "shape": "dot",       // å½¢çŠ¶: dot, ring
        "text": "connected"   // ãƒ†ã‚­ã‚¹ãƒˆ
    },
    "source": {
        "id": "ãƒãƒ¼ãƒ‰ID",
        "type": "mqtt in",
        "name": "MQTTè³¼èª­"
    }
}</div>
        
        <h3>ã‚ˆãã‚ã‚‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>
        <table>
            <tr><th>fillï¼ˆè‰²ï¼‰</th><th>shapeï¼ˆå½¢çŠ¶ï¼‰</th><th>æ„å‘³</th></tr>
            <tr><td>green</td><td>dotï¼ˆå¡—ã‚Šã¤ã¶ã—ï¼‰</td><td>æ­£å¸¸ãƒ»æ¥ç¶šä¸­</td></tr>
            <tr><td>yellow</td><td>ringï¼ˆè¼ªï¼‰</td><td>å¾…æ©Ÿä¸­ãƒ»å‡¦ç†ä¸­</td></tr>
            <tr><td>red</td><td>dot</td><td>ã‚¨ãƒ©ãƒ¼ãƒ»åˆ‡æ–­</td></tr>
            <tr><td>blue</td><td>dot</td><td>æƒ…å ±ãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</td></tr>
            <tr><td>grey</td><td>ring</td><td>ç„¡åŠ¹ãƒ»åœæ­¢</td></tr>
        </table>
        
        <h2 id="section4">ğŸ”„ 4. Catch ãƒãƒ¼ãƒ‰ã¨ã®é•ã„</h2>
        
        <table>
            <tr><th>ãƒãƒ¼ãƒ‰</th><th>æ¤œçŸ¥ã™ã‚‹ã‚‚ã®</th><th>ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th></tr>
            <tr><td><strong>Complete</strong></td><td>å‡¦ç†å®Œäº†</td><td>ãƒãƒ¼ãƒ‰ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†ã‚’å®Œäº†ã—ãŸã¨ã</td></tr>
            <tr><td><strong>Status</strong></td><td>çŠ¶æ…‹å¤‰åŒ–</td><td>ãƒãƒ¼ãƒ‰ãŒã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã—ãŸã¨ã</td></tr>
            <tr><td><strong>Catch</strong></td><td>ã‚¨ãƒ©ãƒ¼</td><td>ãƒãƒ¼ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ãŸã¨ã</td></tr>
        </table>
        
        <div class="node-example">
            <span class="node node-http">HTTP Request</span>
            <span class="arrow">â†’</span>
            <span style="color: #888;">æ­£å¸¸å®Œäº†</span>
            <span class="arrow">â†’</span>
            <span class="node node-complete">Complete</span>
        </div>
        <div class="node-example" style="margin-top: -10px;">
            <span style="width: 130px;"></span>
            <span class="arrow">â†’</span>
            <span style="color: #888;">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰åŒ–</span>
            <span class="arrow">â†’</span>
            <span class="node node-status">Status</span>
        </div>
        <div class="node-example" style="margin-top: -10px;">
            <span style="width: 130px;"></span>
            <span class="arrow">â†’</span>
            <span style="color: #f44;">ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ</span>
            <span class="arrow">â†’</span>
            <span class="node node-catch">Catch</span>
        </div>
        
        <h2 id="section5">ğŸ“¥ 5. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</h2>
        
        <details>
            <summary>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <div class="flow-json">[
    {
        "id": "complete_status_tab",
        "type": "tab",
        "label": "Complete/Status ã‚µãƒ³ãƒ—ãƒ«",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cs_comment1",
        "type": "comment",
        "z": "complete_status_tab",
        "name": "â”â”â” Complete ãƒãƒ¼ãƒ‰ï¼šå‡¦ç†å®Œäº†ã®æ¤œçŸ¥ â”â”â”",
        "info": "",
        "x": 210,
        "y": 40,
        "wires": []
    },
    {
        "id": "cs_inject1",
        "type": "inject",
        "z": "complete_status_tab",
        "name": "é–‹å§‹",
        "props": [{"p": "payload"}, {"p": "startTime", "v": "", "vt": "date"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "å‡¦ç†é–‹å§‹",
        "payloadType": "str",
        "x": 130,
        "y": 100,
        "wires": [["cs_delay"]]
    },
    {
        "id": "cs_delay",
        "type": "delay",
        "z": "complete_status_tab",
        "name": "2ç§’å¾…æ©Ÿ",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 280,
        "y": 100,
        "wires": [["cs_debug1"]]
    },
    {
        "id": "cs_debug1",
        "type": "debug",
        "z": "complete_status_tab",
        "name": "ãƒ¡ã‚¤ãƒ³å‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 450,
        "y": 100,
        "wires": []
    },
    {
        "id": "cs_complete",
        "type": "complete",
        "z": "complete_status_tab",
        "name": "Delayå®Œäº†æ¤œçŸ¥",
        "scope": ["cs_delay"],
        "uncaught": false,
        "x": 300,
        "y": 160,
        "wires": [["cs_func_time"]]
    },
    {
        "id": "cs_func_time",
        "type": "function",
        "z": "complete_status_tab",
        "name": "å‡¦ç†æ™‚é–“è¨ˆç®—",
        "func": "var elapsed = Date.now() - msg.startTime;\nmsg.payload = \"å‡¦ç†å®Œäº†ï¼ çµŒéæ™‚é–“: \" + elapsed + \"ms\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 160,
        "wires": [["cs_debug2"]]
    },
    {
        "id": "cs_debug2",
        "type": "debug",
        "z": "complete_status_tab",
        "name": "å®Œäº†é€šçŸ¥",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 680,
        "y": 160,
        "wires": []
    },
    {
        "id": "cs_comment2",
        "type": "comment",
        "z": "complete_status_tab",
        "name": "â”â”â” Status ãƒãƒ¼ãƒ‰ï¼šã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦– â”â”â”",
        "info": "",
        "x": 200,
        "y": 240,
        "wires": []
    },
    {
        "id": "cs_inject2",
        "type": "inject",
        "z": "complete_status_tab",
        "name": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿",
        "payloadType": "str",
        "x": 160,
        "y": 300,
        "wires": [["cs_func_status"]]
    },
    {
        "id": "cs_func_status",
        "type": "function",
        "z": "complete_status_tab",
        "name": "å‡¦ç†ä¸­è¡¨ç¤º",
        "func": "// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã€Œå‡¦ç†ä¸­ã€ã«è¨­å®š\nnode.status({fill:\"yellow\", shape:\"ring\", text:\"å‡¦ç†ä¸­...\"});\n\n// 1ç§’å¾Œã«ã€Œå®Œäº†ã€ã«å¤‰æ›´\nsetTimeout(function() {\n    node.status({fill:\"green\", shape:\"dot\", text:\"å®Œäº†\"});\n}, 1000);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 300,
        "wires": [["cs_debug3"]]
    },
    {
        "id": "cs_debug3",
        "type": "debug",
        "z": "complete_status_tab",
        "name": "å‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 530,
        "y": 300,
        "wires": []
    },
    {
        "id": "cs_status",
        "type": "status",
        "z": "complete_status_tab",
        "name": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦–",
        "scope": ["cs_func_status"],
        "x": 300,
        "y": 360,
        "wires": [["cs_debug4"]]
    },
    {
        "id": "cs_debug4",
        "type": "debug",
        "z": "complete_status_tab",
        "name": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "status",
        "targetType": "msg",
        "statusVal": "status.text",
        "statusType": "msg",
        "x": 500,
        "y": 360,
        "wires": []
    },
    {
        "id": "cs_comment3",
        "type": "comment",
        "z": "complete_status_tab",
        "name": "â”â”â” å…¨ç›£è¦–ãƒãƒ¼ãƒ‰ã®çµ„ã¿åˆã‚ã› â”â”â”",
        "info": "",
        "x": 190,
        "y": 440,
        "wires": []
    },
    {
        "id": "cs_inject3",
        "type": "inject",
        "z": "complete_status_tab",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 130,
        "y": 500,
        "wires": [["cs_func_error"]]
    },
    {
        "id": "cs_func_error",
        "type": "function",
        "z": "complete_status_tab",
        "name": "ãƒ©ãƒ³ãƒ€ãƒ ã‚¨ãƒ©ãƒ¼",
        "func": "node.status({fill:\"blue\", shape:\"dot\", text:\"å®Ÿè¡Œä¸­\"});\n\nif (Math.random() < 0.5) {\n    node.status({fill:\"red\", shape:\"dot\", text:\"ã‚¨ãƒ©ãƒ¼\"});\n    node.error(\"ãƒ©ãƒ³ãƒ€ãƒ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ\", msg);\n    return null;\n}\n\nnode.status({fill:\"green\", shape:\"dot\", text:\"æˆåŠŸ\"});\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 500,
        "wires": [["cs_debug5"]]
    },
    {
        "id": "cs_debug5",
        "type": "debug",
        "z": "complete_status_tab",
        "name": "æˆåŠŸ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 470,
        "y": 500,
        "wires": []
    },
    {
        "id": "cs_catch",
        "type": "catch",
        "z": "complete_status_tab",
        "name": "ã‚¨ãƒ©ãƒ¼æ•æ‰",
        "scope": ["cs_func_error"],
        "uncaught": false,
        "x": 290,
        "y": 560,
        "wires": [["cs_debug6"]]
    },
    {
        "id": "cs_debug6",
        "type": "debug",
        "z": "complete_status_tab",
        "name": "ã‚¨ãƒ©ãƒ¼å†…å®¹",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error",
        "targetType": "msg",
        "x": 490,
        "y": 560,
        "wires": []
    }
]</div>
        </details>
        
        <h2 id="section6">ğŸ“ 6. æ¼”ç¿’å•é¡Œ</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: Complete ã§å‡¦ç†æ™‚é–“ã‚’è¨ˆæ¸¬ <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> Delay ãƒãƒ¼ãƒ‰ã®å‡¦ç†å®Œäº†ã‚’ Complete ãƒãƒ¼ãƒ‰ã§æ¤œçŸ¥ã—ã€é–‹å§‹ã‹ã‚‰å®Œäº†ã¾ã§ã®æ™‚é–“ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>1. Inject ãƒãƒ¼ãƒ‰ã§ msg.startTime ã«ç¾åœ¨æ™‚åˆ»ã‚’è¨­å®š</p>
                <p>2. Complete ãƒãƒ¼ãƒ‰ã§ Delay ã®å®Œäº†ã‚’æ¤œçŸ¥</p>
                <p>3. Function ãƒãƒ¼ãƒ‰ã§çµŒéæ™‚é–“ã‚’è¨ˆç®—</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex1_tab", "type": "tab", "label": "æ¼”ç¿’1"},
    {"id": "ex1_inject", "type": "inject", "z": "ex1_tab", "name": "é–‹å§‹", "props": [{"p": "payload"}, {"p": "startTime", "v": "", "vt": "date"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "é–‹å§‹", "payloadType": "str", "x": 130, "y": 100, "wires": [["ex1_delay"]]},
    {"id": "ex1_delay", "type": "delay", "z": "ex1_tab", "name": "3ç§’å¾…æ©Ÿ", "pauseType": "delay", "timeout": "3", "timeoutUnits": "seconds", "rate": "1", "nbRateUnits": "1", "rateUnits": "second", "randomFirst": "1", "randomLast": "5", "randomUnits": "seconds", "drop": false, "allowrate": false, "outputs": 1, "x": 280, "y": 100, "wires": [[]]},
    {"id": "ex1_complete", "type": "complete", "z": "ex1_tab", "name": "å®Œäº†æ¤œçŸ¥", "scope": ["ex1_delay"], "uncaught": false, "x": 290, "y": 160, "wires": [["ex1_func"]]},
    {"id": "ex1_func", "type": "function", "z": "ex1_tab", "name": "çµŒéæ™‚é–“", "func": "var ms = Date.now() - msg.startTime;\nmsg.payload = \"çµŒéæ™‚é–“: \" + ms + \"ms\";\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 460, "y": 160, "wires": [["ex1_debug"]]},
    {"id": "ex1_debug", "type": "debug", "z": "ex1_tab", "name": "çµæœ", "active": true, "tosidebar": true, "console": false, "tostatus": true, "complete": "payload", "targetType": "msg", "statusVal": "payload", "statusType": "auto", "x": 610, "y": 160, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: Status ã§ãƒãƒ¼ãƒ‰çŠ¶æ…‹ã‚’ç›£è¦– <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> Function ãƒãƒ¼ãƒ‰ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°ã—ã€Status ãƒãƒ¼ãƒ‰ã§ãã®å¤‰åŒ–ã‚’æ¤œçŸ¥ã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>Function å†…ã§ <code>node.status({fill:"è‰²", shape:"å½¢çŠ¶", text:"ãƒ†ã‚­ã‚¹ãƒˆ"})</code> ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex2_tab", "type": "tab", "label": "æ¼”ç¿’2"},
    {"id": "ex2_inject", "type": "inject", "z": "ex2_tab", "name": "å®Ÿè¡Œ", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "test", "payloadType": "str", "x": 130, "y": 100, "wires": [["ex2_func"]]},
    {"id": "ex2_func", "type": "function", "z": "ex2_tab", "name": "çŠ¶æ…‹å¤‰åŒ–", "func": "node.status({fill:\"yellow\", shape:\"ring\", text:\"å‡¦ç†ä¸­\"});\nsetTimeout(function(){\n    node.status({fill:\"green\", shape:\"dot\", text:\"å®Œäº†\"});\n}, 1500);\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 300, "y": 100, "wires": [[]]},
    {"id": "ex2_status", "type": "status", "z": "ex2_tab", "name": "ç›£è¦–", "scope": ["ex2_func"], "x": 270, "y": 160, "wires": [["ex2_debug"]]},
    {"id": "ex2_debug", "type": "debug", "z": "ex2_tab", "name": "çŠ¶æ…‹", "active": true, "tosidebar": true, "console": false, "tostatus": true, "complete": "status", "targetType": "msg", "statusVal": "status.text", "statusType": "msg", "x": 430, "y": 160, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: 3ç¨®é¡ã®ç›£è¦–ãƒãƒ¼ãƒ‰çµ„ã¿åˆã‚ã› <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> Completeã€Statusã€Catch ã‚’çµ„ã¿åˆã‚ã›ã¦ã€å‡¦ç†ã®æˆåŠŸ/å¤±æ•—ã‚’å®Œå…¨ã«ç›£è¦–ã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>Function ãƒãƒ¼ãƒ‰ã§ node.error() ã‚’ä½¿ã†ã¨ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã€Catch ã§æ•æ‰ã§ãã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex3_tab", "type": "tab", "label": "æ¼”ç¿’3"},
    {"id": "ex3_inject", "type": "inject", "z": "ex3_tab", "name": "å®Ÿè¡Œ", "props": [{"p": "payload"}], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "payload": "test", "payloadType": "str", "x": 130, "y": 120, "wires": [["ex3_func"]]},
    {"id": "ex3_func", "type": "function", "z": "ex3_tab", "name": "ãƒ©ãƒ³ãƒ€ãƒ å‡¦ç†", "func": "node.status({fill:\"blue\", shape:\"dot\", text:\"å®Ÿè¡Œä¸­\"});\nif (Math.random() < 0.3) {\n    node.status({fill:\"red\", shape:\"dot\", text:\"ã‚¨ãƒ©ãƒ¼\"});\n    node.error(\"å¤±æ•—\", msg);\n    return null;\n}\nnode.status({fill:\"green\", shape:\"dot\", text:\"æˆåŠŸ\"});\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 310, "y": 120, "wires": [["ex3_debug1"]]},
    {"id": "ex3_debug1", "type": "debug", "z": "ex3_tab", "name": "æˆåŠŸ", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 490, "y": 120, "wires": []},
    {"id": "ex3_catch", "type": "catch", "z": "ex3_tab", "name": "ã‚¨ãƒ©ãƒ¼æ•æ‰", "scope": ["ex3_func"], "uncaught": false, "x": 290, "y": 180, "wires": [["ex3_debug2"]]},
    {"id": "ex3_debug2", "type": "debug", "z": "ex3_tab", "name": "ã‚¨ãƒ©ãƒ¼", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "error", "targetType": "msg", "x": 490, "y": 180, "wires": []},
    {"id": "ex3_status", "type": "status", "z": "ex3_tab", "name": "çŠ¶æ…‹ç›£è¦–", "scope": ["ex3_func"], "x": 280, "y": 240, "wires": [["ex3_debug3"]]},
    {"id": "ex3_debug3", "type": "debug", "z": "ex3_tab", "name": "çŠ¶æ…‹", "active": true, "tosidebar": true, "console": false, "tostatus": true, "complete": "status.text", "targetType": "msg", "statusVal": "status.text", "statusType": "msg", "x": 490, "y": 240, "wires": []}
]</div>
            </details>
        </div>
        
        <h2 id="section7">âœ… 7. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <p><strong>ğŸ¯ é‡è¦ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li><strong>Complete</strong>: å‡¦ç†å®Œäº†ã®æ¤œçŸ¥ï¼ˆéåŒæœŸå‡¦ç†ã®ç›£è¦–ã«æœ‰åŠ¹ï¼‰</li>
                <li><strong>Status</strong>: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰åŒ–ã®æ¤œçŸ¥ï¼ˆæ¥ç¶šçŠ¶æ…‹ã‚„å‡¦ç†çŠ¶æ³ã®ç›£è¦–ï¼‰</li>
                <li>Catch ã¨çµ„ã¿åˆã‚ã›ã¦å®Œå…¨ãªç›£è¦–ä½“åˆ¶ã‚’æ§‹ç¯‰</li>
                <li>Scope ã§ç›£è¦–å¯¾è±¡ã‚’çµã‚Šè¾¼ã‚ã‚‹</li>
            </ul>
        </div>
        
        <div class="warning">
            <p><strong>âš ï¸ æ³¨æ„äº‹é …:</strong></p>
            <ul>
                <li>ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ãŒ Complete ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„</li>
                <li>Status ã¯é »ç¹ã«ç™ºç«ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€å¿…è¦ãªãƒãƒ¼ãƒ‰ã®ã¿ç›£è¦–</li>
                <li>ç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’ä½œã‚‰ãªã„ã‚ˆã†æ³¨æ„ï¼ˆç›£è¦–ãƒãƒ¼ãƒ‰è‡ªèº«ã‚’ç›£è¦–å¯¾è±¡ã«ã—ãªã„ï¼‰</li>
            </ul>
        </div>
        
        <h2 id="section8">ğŸ­ 8. å®Ÿå‹™æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: HTTP Request ã®å®Œäº†ç›£è¦–</h3>
        <p>å¤–éƒ¨APIå‘¼ã³å‡ºã—ã®å®Œäº†ã‚’Complete ã§æ¤œçŸ¥ã—ã€å¾Œç¶šå‡¦ç†ã‚’ãƒˆãƒªã‚¬ãƒ¼ã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹2: MQTTæ¥ç¶šçŠ¶æ…‹ã®ç›£è¦–</h3>
        <p>Status ãƒãƒ¼ãƒ‰ã§MQTTãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼ã¸ã®æ¥ç¶šçŠ¶æ…‹ã‚’ç›£è¦–ã—ã€åˆ‡æ–­æ™‚ã«ã‚¢ãƒ©ãƒ¼ãƒˆã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹3: å‡¦ç†æ™‚é–“ã®è¨ˆæ¸¬</h3>
        <p>é–‹å§‹æ™‚åˆ»ã‚’è¨˜éŒ²ã—ã€Complete ã§å®Œäº†ã‚’æ¤œçŸ¥ã—ã¦å‡¦ç†æ™‚é–“ã‚’ãƒ­ã‚°ã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹4: ãƒãƒƒãƒå‡¦ç†ã®é€²æ—ç›£è¦–</h3>
        <p>å„å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—ã® Status ã‚’ç›£è¦–ã—ã¦ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«é€²æ—ã‚’è¡¨ç¤ºã€‚</p>
        
        <p style="margin-top: 40px;"><a href="https://nodered.org/docs/" target="_blank">ğŸ“š Node-RED å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></p>
    </div>
    
    <script>
        document.querySelectorAll('.flow-json').forEach(function(block) {
            var btn = document.createElement('button');
            btn.className = 'copy-btn';
            btn.textContent = 'ã‚³ãƒ”ãƒ¼';
            btn.onclick = function() {
                navigator.clipboard.writeText(block.textContent).then(function() {
                    btn.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†!';
                    setTimeout(function() { btn.textContent = 'ã‚³ãƒ”ãƒ¼'; }, 2000);
                });
            };
            block.style.position = 'relative';
            block.appendChild(btn);
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';" title="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ </a>
</body>
</html>
