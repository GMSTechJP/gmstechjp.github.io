<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Catchãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-function {
            background-color: #e6b0aa;
            color: #333;
        }
        
        .node-catch {
            background-color: #f39c12;
            color: white;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #8f0000;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        .answer-section {
            background-color: #fff9e6;
            border: 2px dashed #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›¡ï¸ Node-RED Catchãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Catchãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Catchãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€Œã‚¨ãƒ©ãƒ¼ã€ã£ã¦ä½•?</h3>
        <p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å‹•ã‹ã—ã¦ã„ã‚‹ã¨ã€æ™‚ã€…ã€Œæƒ³å®šå¤–ã®ã“ã¨ã€ãŒèµ·ã“ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’<strong>ã‚¨ãƒ©ãƒ¼</strong>ã¨å‘¼ã³ã¾ã™ã€‚</p>
        
        <div class="important">
            <strong>ğŸ’¡ æ—¥å¸¸ã®ä¾‹ã§è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†:</strong>
            <ul>
                <li>è‡ªå‹•è²©å£²æ©Ÿã§ã‚¸ãƒ¥ãƒ¼ã‚¹ã‚’è²·ãŠã†ã¨ã—ãŸã‚‰ã€ãŠé‡‘ãŒè¶³ã‚Šãªã‹ã£ãŸ â†’ ã‚¨ãƒ©ãƒ¼</li>
                <li>ãƒ‰ã‚¢ã‚’é–‹ã‘ã‚ˆã†ã¨ã—ãŸã‚‰ã€éµãŒã‹ã‹ã£ã¦ã„ãŸ â†’ ã‚¨ãƒ©ãƒ¼</li>
                <li>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã“ã†ã¨ã—ãŸã‚‰ã€å­˜åœ¨ã—ãªã‹ã£ãŸ â†’ ã‚¨ãƒ©ãƒ¼</li>
            </ul>
            <p>ã“ã‚Œã‚‰ã®ã€ŒäºˆæœŸã—ãªã„çŠ¶æ³ã€ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§<strong>é©åˆ‡ã«å‡¦ç†</strong>ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>
        </div>
        
        <h3>ğŸ¯ Catchãƒãƒ¼ãƒ‰ã®å½¹å‰²</h3>
        <p><strong>Catchãƒãƒ¼ãƒ‰</strong>ã¯ã€ãƒ•ãƒ­ãƒ¼å†…ã§ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã‚’ã€Œã‚­ãƒ£ãƒƒãƒ(æ•ã¾ãˆã‚‹)ã€ã—ã¦ã€é©åˆ‡ã«å‡¦ç†ã™ã‚‹ãŸã‚ã®ãƒãƒ¼ãƒ‰ã§ã™ã€‚</p>
        
        <div class="tip">
            <strong>ğŸ€ é‡çƒã®ä¾‹:</strong><br>
            ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ = ãƒœãƒ¼ãƒ«ãŒé£›ã‚“ã§ãã‚‹<br>
            Catchãƒãƒ¼ãƒ‰ = ã‚­ãƒ£ãƒƒãƒãƒ£ãƒ¼ãŒãƒœãƒ¼ãƒ«ã‚’å—ã‘æ­¢ã‚ã‚‹<br>
            <br>
            ã‚­ãƒ£ãƒƒãƒãƒ£ãƒ¼ãŒã„ãªã„ã¨ã€ãƒœãƒ¼ãƒ«ã¯ã©ã“ã‹ã«é£›ã‚“ã§ã„ã£ã¦ã—ã¾ã„ã¾ã™ã€‚<br>
            Catchãƒãƒ¼ãƒ‰ãŒãªã„ã¨ã€ã‚¨ãƒ©ãƒ¼ã¯ãã®ã¾ã¾æ”¾ç½®ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚
        </div>
        
        <h2>ğŸ” 2. ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®è©³ã—ã„è§£èª¬</h2>
        
        <h3>ãƒ•ãƒ­ãƒ¼ã®å…¨ä½“åƒ</h3>
        <div class="node-example">
            <span class="node node-inject">inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">function<br>(Error)</span>
            <span class="arrow">â†’ (ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ!)</span>
            <br><br>
            <span style="margin-left: 220px;">â†“</span>
            <br>
            <span style="margin-left: 150px;"><span class="node node-catch">catch</span></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
        </div>
        
        <h3>å„ãƒãƒ¼ãƒ‰ã®å½¹å‰²</h3>
        
        <table>
            <tr>
                <th>ãƒãƒ¼ãƒ‰</th>
                <th>åå‰</th>
                <th>å½¹å‰²</th>
            </tr>
            <tr>
                <td><span class="node node-inject">inject</span></td>
                <td>Inject(ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ãƒˆ)</td>
                <td>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ŒHello, World!ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡</td>
            </tr>
            <tr>
                <td><span class="node node-function">function</span></td>
                <td>Function(ã‚¨ãƒ©ãƒ¼)</td>
                <td>ã‚ã–ã¨<strong>ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿ</strong>ã•ã›ã‚‹(ç·´ç¿’ç”¨)</td>
            </tr>
            <tr>
                <td><span class="node node-catch">catch</span></td>
                <td>Catch(ã‚­ãƒ£ãƒƒãƒ)</td>
                <td>Functionãƒãƒ¼ãƒ‰ã§ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã‚’<strong>ã‚­ãƒ£ãƒƒãƒ</strong>ã™ã‚‹</td>
            </tr>
            <tr>
                <td><span class="node node-debug">debug</span></td>
                <td>Debug(ãƒ‡ãƒãƒƒã‚°)</td>
                <td>ã‚­ãƒ£ãƒƒãƒã—ãŸã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ç”»é¢ã«<strong>è¡¨ç¤º</strong>ã™ã‚‹</td>
            </tr>
        </table>
        
        <h3>ğŸ”¬ å‹•ä½œã®æµã‚Œ(ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—)</h3>
        <ol>
            <li><strong>Injectãƒãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯</strong>
                <ul>
                    <li>ã€ŒHello, World!ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒä½œæˆã•ã‚Œã¾ã™</li>
                    <li>ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒFunctionãƒãƒ¼ãƒ‰ã«é€ã‚‰ã‚Œã¾ã™</li>
                </ul>
            </li>
            
            <li><strong>Functionãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ</strong>
                <ul>
                    <li>ã‚³ãƒ¼ãƒ‰: <code>throw new Error("Error Occured!")</code></li>
                    <li>ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€Œæ„å›³çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã™</li>
                    <li>é€šå¸¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æµã‚ŒãŒ<strong>ä¸­æ–­</strong>ã•ã‚Œã¾ã™</li>
                </ul>
            </li>
            
            <li><strong>Catchãƒãƒ¼ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</strong>
                <ul>
                    <li>Catchãƒãƒ¼ãƒ‰ã¯ç‰¹å®šã®ãƒãƒ¼ãƒ‰(ã“ã“ã§ã¯Functionãƒãƒ¼ãƒ‰)ã‚’ç›£è¦–ã—ã¦ã„ã¾ã™</li>
                    <li>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«åå¿œã—ã¾ã™</li>
                    <li>ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’å«ã‚€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™</li>
                </ul>
            </li>
            
            <li><strong>Debugãƒãƒ¼ãƒ‰ã§è¡¨ç¤º</strong>
                <ul>
                    <li>Catchãƒãƒ¼ãƒ‰ã‹ã‚‰å—ã‘å–ã£ãŸã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’è¡¨ç¤º</li>
                    <li>ç”»é¢å³å´ã®ã€Œãƒ‡ãƒãƒƒã‚°ã€ã‚¿ãƒ–ã§ç¢ºèªã§ãã¾ã™</li>
                </ul>
            </li>
        </ol>
        
        <h2>âš™ï¸ 3. Catchãƒãƒ¼ãƒ‰ã®è¨­å®šé …ç›®</h2>
        
        <h3>è¨­å®šç”»é¢ã§è¦‹ã‚‹ã¹ããƒã‚¤ãƒ³ãƒˆ</h3>
        
        <div class="important">
            <strong>ğŸ“ Catchãƒãƒ¼ãƒ‰ã®ä¸»ãªè¨­å®š:</strong>
            
            <h4>1. Catch errors from(ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹å¯¾è±¡)</h4>
            <ul>
                <li><strong>selected nodes(é¸æŠã•ã‚ŒãŸãƒãƒ¼ãƒ‰)</strong>: ç‰¹å®šã®ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã ã‘ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
                <li><strong>all nodes(ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰)</strong>: ãƒ•ãƒ­ãƒ¼å†…ã®ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
            </ul>
            
            <h4>2. Scope(ã‚¹ã‚³ãƒ¼ãƒ— - ç¯„å›²)</h4>
            <p>ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã§ã¯ã€<code>"scope": ["7bab9134.35ad"]</code>ã¨ãªã£ã¦ã„ã¾ã™ã€‚</p>
            <p>ã“ã‚Œã¯ã€ŒIDãŒ7bab9134.35adã®ãƒãƒ¼ãƒ‰(Functionãƒãƒ¼ãƒ‰)ã®ã‚¨ãƒ©ãƒ¼ã ã‘ã‚’ã‚­ãƒ£ãƒƒãƒã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚</p>
            
            <h4>3. Include uncaught errors from other catch nodes</h4>
            <p>ä»–ã®Catchãƒãƒ¼ãƒ‰ã§ã‚­ãƒ£ãƒƒãƒã•ã‚Œãªã‹ã£ãŸã‚¨ãƒ©ãƒ¼ã‚‚æ‹¾ã†ã‹ã©ã†ã‹ã‚’è¨­å®šã§ãã¾ã™ã€‚</p>
        </div>
        
        <h2>ğŸ’¡ 4. ã‚¨ãƒ©ãƒ¼æƒ…å ±ã®å†…å®¹</h2>
        
        <p>Catchãƒãƒ¼ãƒ‰ãŒã‚­ãƒ£ãƒƒãƒã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(msg)ã«ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™:</p>
        
        <div class="code-block">
{
    "error": {
        "message": "Error Occured!",  // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        "source": {
            "id": "7bab9134.35ad",     // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒãƒ¼ãƒ‰ã®ID
            "type": "function",         // ãƒãƒ¼ãƒ‰ã®ã‚¿ã‚¤ãƒ—
            "name": "Error"             // ãƒãƒ¼ãƒ‰ã®åå‰
        }
    },
    "_msgid": "...",                    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ID
    "payload": "Hello, World!"          // å…ƒã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰
}
        </div>
        
        <div class="tip">
            <strong>ğŸ“ ã“ã‚Œã‚‰ã®æƒ…å ±ã‚’ä½¿ã£ã¦ã€ä½•ãŒã§ãã‚‹?</strong>
            <ul>
                <li>ã©ã®ãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸã‹ç‰¹å®šã§ãã‚‹</li>
                <li>ã‚¨ãƒ©ãƒ¼ã®åŸå› (message)ã‚’çŸ¥ã‚‹ã“ã¨ãŒã§ãã‚‹</li>
                <li>ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿(payload)ã‚’ç¢ºèªã§ãã‚‹</li>
                <li>ãƒ­ã‚°ã«è¨˜éŒ²ã—ãŸã‚Šã€ç®¡ç†è€…ã«é€šçŸ¥ã—ãŸã‚Šã§ãã‚‹</li>
            </ul>
        </div>
        
        <h2>ğŸ¯ 5. Catchãƒãƒ¼ãƒ‰ã®å®Ÿç”¨çš„ãªä½¿ã„æ–¹</h2>
        
        <h3>å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®æ´»ç”¨ä¾‹</h3>
        
        <h4>ä¾‹1: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å–å¾—å¤±æ•—ã‚’å‡¦ç†</h4>
        <div class="node-example">
            <span class="node node-inject">æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">ãƒ‡ãƒ¼ã‚¿å‡¦ç†</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">çµæœè¡¨ç¤º</span>
            <br><br>
            <span style="margin-left: 180px;">â†“ (ã‚»ãƒ³ã‚µãƒ¼ã‚¨ãƒ©ãƒ¼)</span>
            <br>
            <span style="margin-left: 100px;"><span class="node node-catch">catch</span></span>
            <span class="arrow">â†’</span>
            <span class="node node-change">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤è¨­å®š</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">è­¦å‘Šè¡¨ç¤º</span>
        </div>
        
        <h4>ä¾‹2: APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¤±æ•—ã‚’ãƒªãƒˆãƒ©ã‚¤</h4>
        <div class="node-example">
            <span class="node node-inject">ã‚¿ã‚¤ãƒãƒ¼</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">APIå‘¼ã³å‡ºã—</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">æˆåŠŸ</span>
            <br><br>
            <span style="margin-left: 180px;">â†“ (é€šä¿¡ã‚¨ãƒ©ãƒ¼)</span>
            <br>
            <span style="margin-left: 100px;"><span class="node node-catch">catch</span></span>
            <span class="arrow">â†’</span>
            <span class="node node-change">ãƒªãƒˆãƒ©ã‚¤ã‚«ã‚¦ãƒ³ãƒˆ</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">å†è©¦è¡Œ</span>
        </div>
        
        <h2>ğŸ“ 6. ç·´ç¿’å•é¡Œ</h2>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 1: åŸºæœ¬ã®Catchãƒãƒ¼ãƒ‰ <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>Catchãƒãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ã§æ•°å€¤ã€Œ10ã€ã‚’é€ä¿¡</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§ã€Œ10ã‚ˆã‚Šå°ã•ã„å ´åˆã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã€ã•ã›ã‚‹</li>
                <li>Catchãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Catchãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>Catch errors from: ??? ã‚’é¸æŠ</li>
                <li>ã©ã®ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹?</li>
            </ul>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// msg.payloadã®å€¤ã‚’ãƒã‚§ãƒƒã‚¯
if (msg.payload < 10) {
    // 10æœªæº€ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹
    throw new Error("å€¤ãŒ10æœªæº€ã§ã™: " + msg.payload);
}

// 10ä»¥ä¸Šã®å ´åˆã€ãã®ã¾ã¾æ¬¡ã«æ¸¡ã™
return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ”¢ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>Payload: æ•°å€¤å‹(number)ã‚’é¸æŠ</li>
                <li>å€¤: ã¾ãšã€Œ5ã€ã§è©¦ã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã€æ¬¡ã«ã€Œ15ã€ã§æˆåŠŸã‚’ç¢ºèª</li>
            </ul>
            
            <p><strong>ğŸ› Debugãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>ã‚¨ãƒ©ãƒ¼ç”¨Debug: <code>msg.error.message</code> ã‚’è¡¨ç¤ºã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ãŒè¦‹ã‚„ã™ãè¡¨ç¤ºã•ã‚Œã¾ã™</li>
                <li>æˆåŠŸç”¨Debug: <code>msg.payload</code> ã‚’è¡¨ç¤º(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾)</li>
            </ul>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex1_inject",
        "type": "inject",
        "z": "exercise1",
        "name": "æ•°å€¤10ã‚’é€ä¿¡",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 130,
        "y": 100,
        "wires": [
            ["ex1_function"]
        ]
    },
    {
        "id": "ex1_function",
        "type": "function",
        "z": "exercise1",
        "name": "å€¤ãƒã‚§ãƒƒã‚¯",
        "func": "if (msg.payload < 10) {\n    throw new Error(\"å€¤ãŒ10æœªæº€ã§ã™: \" + msg.payload);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 100,
        "wires": [
            ["ex1_debug_success"]
        ]
    },
    {
        "id": "ex1_catch",
        "type": "catch",
        "z": "exercise1",
        "name": "ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ",
        "scope": ["ex1_function"],
        "uncaught": false,
        "x": 320,
        "y": 180,
        "wires": [
            ["ex1_debug_error"]
        ]
    },
    {
        "id": "ex1_debug_error",
        "type": "debug",
        "z": "exercise1",
        "name": "ã‚¨ãƒ©ãƒ¼è¡¨ç¤º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error.message",
        "targetType": "msg",
        "x": 510,
        "y": 180,
        "wires": []
    },
    {
        "id": "ex1_debug_success",
        "type": "debug",
        "z": "exercise1",
        "name": "æˆåŠŸ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 490,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>Injectãƒãƒ¼ãƒ‰ã®payloadã‚’ã€Œ5ã€ã«ã—ã¦å®Ÿè¡Œ â†’ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>Injectãƒãƒ¼ãƒ‰ã®payloadã‚’ã€Œ15ã€ã«ã—ã¦å®Ÿè¡Œ â†’ æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 2: è¤‡æ•°ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>è¤‡æ•°ã®Functionãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’1ã¤ã®Catchãƒãƒ¼ãƒ‰ã§ã‚­ãƒ£ãƒƒãƒã™ã‚‹</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>2ã¤ã®Injectãƒãƒ¼ãƒ‰ã‚’ä½œæˆ(ã€Œãƒ†ã‚¹ãƒˆ1ã€ã€Œãƒ†ã‚¹ãƒˆ2ã€)</li>
                <li>ãã‚Œãã‚Œç•°ãªã‚‹Functionãƒãƒ¼ãƒ‰ã«æ¥ç¶š</li>
                <li>å„Functionãƒãƒ¼ãƒ‰ã§ç•°ãªã‚‹ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹</li>
                <li>1ã¤ã®Catchãƒãƒ¼ãƒ‰ã§ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
                <li>ã©ã®ãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‹åˆ†ã‹ã‚‹ã‚ˆã†ã«Debugã§è¡¨ç¤º</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Catchãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>Catch errors from: ã€Œselected nodesã€ã¨ã€Œall nodesã€ã®ã©ã¡ã‚‰ã‚’é¸ã¶?</li>
                <li>selected nodesã‚’é¸ã‚“ã å ´åˆã€ä¸¡æ–¹ã®Functionãƒãƒ¼ãƒ‰ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</li>
            </ul>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰1(å‡¦ç†A)ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// å‡¦ç†Aã§ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹
throw new Error("å‡¦ç†Aã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
            </div>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰2(å‡¦ç†B)ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// å‡¦ç†Bã§ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹
throw new Error("å‡¦ç†Bã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ");
            </div>
            
            <p><strong>ğŸ”¢ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>2ã¤ã®Injectãƒãƒ¼ãƒ‰ã‚’ä½œæˆ</li>
                <li>åå‰ã‚’ãã‚Œãã‚Œã€Œãƒ†ã‚¹ãƒˆ1ã€ã€Œãƒ†ã‚¹ãƒˆ2ã€ã«è¨­å®šã™ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„</li>
                <li>Payload: æ–‡å­—åˆ—å‹ã§ã€Œtest1ã€ã€Œtest2ã€ãªã©(ä½•ã§ã‚‚OK)</li>
            </ul>
            
            <p><strong>ğŸ› Debugãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>Output: <code>complete msg object</code> ã‚’é¸æŠ</li>
                <li>ã“ã‚Œã«ã‚ˆã‚Šã€<code>msg.error.source.name</code> ãªã©ã€ã™ã¹ã¦ã®æƒ…å ±ãŒè¦‹ã‚‰ã‚Œã¾ã™</li>
            </ul>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex2_inject1",
        "type": "inject",
        "z": "exercise2",
        "name": "ãƒ†ã‚¹ãƒˆ1",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test1",
        "payloadType": "str",
        "x": 110,
        "y": 100,
        "wires": [
            ["ex2_function1"]
        ]
    },
    {
        "id": "ex2_inject2",
        "type": "inject",
        "z": "exercise2",
        "name": "ãƒ†ã‚¹ãƒˆ2",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "test2",
        "payloadType": "str",
        "x": 110,
        "y": 180,
        "wires": [
            ["ex2_function2"]
        ]
    },
    {
        "id": "ex2_function1",
        "type": "function",
        "z": "exercise2",
        "name": "å‡¦ç†A",
        "func": "throw new Error(\"å‡¦ç†Aã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\");",
        "outputs": 1,
        "noerr": 0,
        "x": 280,
        "y": 100,
        "wires": [[]]
    },
    {
        "id": "ex2_function2",
        "type": "function",
        "z": "exercise2",
        "name": "å‡¦ç†B",
        "func": "throw new Error(\"å‡¦ç†Bã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\");",
        "outputs": 1,
        "noerr": 0,
        "x": 280,
        "y": 180,
        "wires": [[]]
    },
    {
        "id": "ex2_catch",
        "type": "catch",
        "z": "exercise2",
        "name": "ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ",
        "scope": null,
        "uncaught": false,
        "x": 330,
        "y": 260,
        "wires": [
            ["ex2_debug"]
        ]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "z": "exercise2",
        "name": "ã‚¨ãƒ©ãƒ¼è©³ç´°",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 540,
        "y": 260,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ã€Œãƒ†ã‚¹ãƒˆ1ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œå‡¦ç†Aã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€ã¨è¡¨ç¤º</li>
                    <li>ã€Œãƒ†ã‚¹ãƒˆ2ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œå‡¦ç†Bã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€ã¨è¡¨ç¤º</li>
                    <li>Debugã‚¿ãƒ–ã§ <code>error.source.name</code> ã‚’è¦‹ã‚‹ã¨ã€ã©ã®ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‹åˆ†ã‹ã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 3: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤è¨­å®š <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã—ã¦å‡¦ç†ã‚’ç¶šè¡Œã™ã‚‹</p>
            
            <h4>ğŸ“‹ ã‚·ãƒŠãƒªã‚ª</h4>
            <p>æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚ã‚»ãƒ³ã‚µãƒ¼ãŒæ•…éšœã—ãŸå ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã€Œ20â„ƒã€ã‚’ä½¿ç”¨ã—ã¦å‡¦ç†ã‚’ç¶šã‘ã¾ã™ã€‚</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ã§ã€Œã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾—ã€ã‚’ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ(ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿ)</li>
                <li>Catchãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§payloadã‚’ã€Œ20ã€(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¸©åº¦)ã«è¨­å®š</li>
                <li>æœ€çµ‚çš„ã«Debugã§æ¸©åº¦ã‚’è¡¨ç¤º</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Catchãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>ã©ã®ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹?</li>
                <li>Scopeã«ã‚»ãƒ³ã‚µãƒ¼ç”¨ã®Functionãƒãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¾ã™</li>
            </ul>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰(æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼)ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// 50%ã®ç¢ºç‡ã§ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹(ã‚»ãƒ³ã‚µãƒ¼æ•…éšœã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ)
if (Math.random() > 0.5) {
    throw new Error("ã‚»ãƒ³ã‚µãƒ¼èª­ã¿å–ã‚Šå¤±æ•—");
}

// æ­£å¸¸æ™‚: 10-40â„ƒã®ç¯„å›²ã§ãƒ©ãƒ³ãƒ€ãƒ ãªæ¸©åº¦ã‚’è¿”ã™
msg.payload = Math.floor(Math.random() * 30) + 10;
return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ”§ Changeãƒãƒ¼ãƒ‰ã®è©³ç´°è¨­å®š(è¨­å®šç”»é¢ã§ä»¥ä¸‹ã®é€šã‚Šã«è¨­å®šã—ã¦ãã ã•ã„):</strong></p>
            <div class="important">
                <p>Changeãƒãƒ¼ãƒ‰ã§2ã¤ã®ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã™:</p>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«1:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>msg.payload</code></li>
                    <li>å€¤: <code>20</code> (numberå‹)</li>
                </ul>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«2:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>msg.isDefault</code></li>
                    <li>å€¤: <code>true</code> (booleanå‹)</li>
                </ul>
                
                <p>ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ä½¿ç”¨ã—ãŸã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚</p>
            </div>
            
            <p><strong>ğŸ”¢ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>Payload: timestamp (ç¾åœ¨æ™‚åˆ»)</li>
                <li>åå‰: ã€Œã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾—ã€ãªã©åˆ†ã‹ã‚Šã‚„ã™ã„åå‰ã‚’ä»˜ã‘ã‚‹</li>
            </ul>
            
            <p><strong>ğŸ”€ ãƒ•ãƒ­ãƒ¼ã®æ¥ç¶š:</strong></p>
            <ul>
                <li>Inject â†’ Function(ã‚»ãƒ³ã‚µãƒ¼) â†’ Debug(æ¸©åº¦è¡¨ç¤º)</li>
                <li>Function â†’ Catch â†’ Change(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤) â†’ Debug(æ¸©åº¦è¡¨ç¤º)</li>
                <li>â€»Changeãƒãƒ¼ãƒ‰ã®ãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’Debugãƒãƒ¼ãƒ‰ã«æ¥ç¶šã™ã‚‹ã“ã¨ã§ã€ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</li>
            </ul>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex3_inject",
        "type": "inject",
        "z": "exercise3",
        "name": "ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾—",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 100,
        "wires": [
            ["ex3_sensor"]
        ]
    },
    {
        "id": "ex3_sensor",
        "type": "function",
        "z": "exercise3",
        "name": "æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼",
        "func": "// 50%ã®ç¢ºç‡ã§ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿ\nif (Math.random() > 0.5) {\n    throw new Error(\"ã‚»ãƒ³ã‚µãƒ¼èª­ã¿å–ã‚Šå¤±æ•—\");\n}\n\n// æ­£å¸¸æ™‚: 10-40â„ƒã®æ¸©åº¦ã‚’è¿”ã™\nmsg.payload = Math.floor(Math.random() * 30) + 10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 360,
        "y": 100,
        "wires": [
            ["ex3_display"]
        ]
    },
    {
        "id": "ex3_catch",
        "type": "catch",
        "z": "exercise3",
        "name": "ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©",
        "scope": ["ex3_sensor"],
        "uncaught": false,
        "x": 360,
        "y": 180,
        "wires": [
            ["ex3_default"]
        ]
    },
    {
        "id": "ex3_default",
        "type": "change",
        "z": "exercise3",
        "name": "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤: 20â„ƒ",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "20",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "isDefault",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 180,
        "wires": [
            ["ex3_display"]
        ]
    },
    {
        "id": "ex3_display",
        "type": "debug",
        "z": "exercise3",
        "name": "æ¸©åº¦è¡¨ç¤º",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 550,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>Injectãƒãƒ¼ãƒ‰ã‚’ä½•åº¦ã‹ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>æˆåŠŸæ™‚: 10-40ã®ç¯„å›²ã®æ¸©åº¦ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>ã‚¨ãƒ©ãƒ¼æ™‚: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã€Œ20ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li><code>msg.isDefault</code> ãŒ <code>true</code> ã®å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒä½¿ç”¨ã•ã‚ŒãŸã“ã¨ãŒåˆ†ã‹ã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>ç·´ç¿’å•é¡Œ 4: ãƒªãƒˆãƒ©ã‚¤å‡¦ç†ã®å®Ÿè£… <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <h4>ğŸ¯ ç›®æ¨™</h4>
            <p>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã€æœ€å¤§3å›ã¾ã§è‡ªå‹•çš„ã«å†è©¦è¡Œã™ã‚‹ä»•çµ„ã¿ã‚’ä½œã‚‹</p>
            
            <h4>ğŸ“‹ ã‚·ãƒŠãƒªã‚ª</h4>
            <p>å¤–éƒ¨APIã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸå ´åˆã€æœ€å¤§3å›ã¾ã§å†è©¦è¡Œã—ã¾ã™ã€‚3å›å¤±æ•—ã—ãŸã‚‰ã€ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦å ±å‘Šã—ã¾ã™ã€‚</p>
            
            <h4>ğŸ“‹ è¦ä»¶</h4>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ã§ã€ŒAPIå‘¼ã³å‡ºã—ã€ã‚’ãƒˆãƒªã‚¬ãƒ¼</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§ãƒ©ãƒ³ãƒ€ãƒ ã«æˆåŠŸ/å¤±æ•—ã™ã‚‹APIå‘¼ã³å‡ºã—ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ</li>
                <li>Catchãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§ãƒªãƒˆãƒ©ã‚¤ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†(flowå¤‰æ•°ã‚’ä½¿ç”¨)</li>
                <li>Switchãƒãƒ¼ãƒ‰ã§ã€Œãƒªãƒˆãƒ©ã‚¤å›æ•° < 3ã€ãªã‚‰å†è©¦è¡Œã€ã€Œ>= 3ã€ãªã‚‰è«¦ã‚ã‚‹</li>
                <li>æˆåŠŸæ™‚ã¨ãƒªãƒˆãƒ©ã‚¤ä¸Šé™åˆ°é”æ™‚ã«ãã‚Œãã‚ŒDebugã§è¡¨ç¤º</li>
            </ol>
            
            <h4>ğŸ’­ ãƒ’ãƒ³ãƒˆ</h4>
            
            <p><strong>ğŸ¯ Catchãƒãƒ¼ãƒ‰ã®è¨­å®š(è‡ªåˆ†ã§è¨­å®šã—ã¦ã¿ã‚ˆã†):</strong></p>
            <ul>
                <li>ã©ã®ãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹?</li>
                <li>Scopeã«ã¯ã©ã®ãƒãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¾ã™ã‹?</li>
            </ul>
            
            <p><strong>ğŸ“ Functionãƒãƒ¼ãƒ‰(APIå‘¼ã³å‡ºã—)ã®å®Œå…¨ãªã‚³ãƒ¼ãƒ‰(ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦OK):</strong></p>
            <div class="code-block">
// 70%ã®ç¢ºç‡ã§å¤±æ•—ã™ã‚‹APIã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
if (Math.random() > 0.3) {
    throw new Error("APIå‘¼ã³å‡ºã—å¤±æ•—: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ");
}

// æˆåŠŸã—ãŸå ´åˆ
msg.payload = {
    status: "success",
    data: "APIã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿",
    timestamp: new Date().toISOString()
};

return msg;
            </div>
            <p>ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Functionãƒãƒ¼ãƒ‰ã«ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ”§ Changeãƒãƒ¼ãƒ‰(ãƒªãƒˆãƒ©ã‚¤ã‚«ã‚¦ãƒ³ãƒˆå¢—åŠ )ã®è©³ç´°è¨­å®š:</strong></p>
            <div class="important">
                <p>Changeãƒãƒ¼ãƒ‰ã§2ã¤ã®ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã™:</p>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«1:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>msg.retryCount</code></li>
                    <li>å€¤ã‚¿ã‚¤ãƒ—: JSONataå¼</li>
                    <li>å€¤: <code>$flowContext('retryCount') + 1</code></li>
                </ul>
                
                <p><strong>ãƒ«ãƒ¼ãƒ«2:</strong></p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>flow.retryCount</code></li>
                    <li>å€¤ã‚¿ã‚¤ãƒ—: msg.</li>
                    <li>å€¤: <code>msg.retryCount</code></li>
                </ul>
                
                <p>ã“ã‚Œã«ã‚ˆã‚Šã€ã‚«ã‚¦ãƒ³ãƒˆã‚’å¢—ã‚„ã—ã¦flowå¤‰æ•°ã«ä¿å­˜ã—ã¾ã™ã€‚</p>
            </div>
            
            <p><strong>ğŸ”§ Changeãƒãƒ¼ãƒ‰(ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ)ã®è¨­å®š:</strong></p>
            <div class="important">
                <p>æœ€åˆã®Injectãƒãƒ¼ãƒ‰ã®å¾Œã«é…ç½®ã™ã‚‹Changeãƒãƒ¼ãƒ‰:</p>
                <ul>
                    <li>å‹•ä½œ: Set(è¨­å®š)</li>
                    <li>å¯¾è±¡: <code>flow.retryCount</code></li>
                    <li>å€¤: <code>0</code> (numberå‹)</li>
                </ul>
                <p>ã“ã‚Œã«ã‚ˆã‚Šã€æ–°ã—ã„è©¦è¡Œã‚’é–‹å§‹ã™ã‚‹éš›ã«ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚</p>
            </div>
            
            <p><strong>ğŸ”€ Switchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <div class="important">
                <p>Switchãƒãƒ¼ãƒ‰ã®æ¡ä»¶è¨­å®š:</p>
                <ul>
                    <li>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£: <code>msg.retryCount</code></li>
                    <li>æ¡ä»¶1: <code>&lt; 3</code> (3æœªæº€) â†’ å‡ºåŠ›1ã¸</li>
                    <li>æ¡ä»¶2: <code>&gt;= 3</code> (3ä»¥ä¸Š) â†’ å‡ºåŠ›2ã¸</li>
                </ul>
                <p>å‡ºåŠ›1ã¯Delayãƒãƒ¼ãƒ‰ã¸ã€å‡ºåŠ›2ã¯å¤±æ•—ã®Debugãƒãƒ¼ãƒ‰ã¸æ¥ç¶šã—ã¾ã™ã€‚</p>
            </div>
            
            <p><strong>â±ï¸ Delayãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>Action: Delay message</li>
                <li>For: 1 seconds</li>
                <li>ã“ã‚Œã«ã‚ˆã‚Šã€ãƒªãƒˆãƒ©ã‚¤ã®é–“ã«1ç§’ã®å¾…æ©Ÿæ™‚é–“ãŒå…¥ã‚Šã¾ã™</li>
            </ul>
            
            <p><strong>ğŸ”¢ Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
            <ul>
                <li>Payload: timestamp (ç¾åœ¨æ™‚åˆ»)</li>
                <li>åå‰: ã€ŒAPIå‘¼ã³å‡ºã—é–‹å§‹ã€ãªã©åˆ†ã‹ã‚Šã‚„ã™ã„åå‰</li>
            </ul>
            
            <p><strong>ğŸ”€ ãƒ•ãƒ­ãƒ¼ã®æ¥ç¶šå›³:</strong></p>
            <div class="code-block">
Inject â†’ Change(ãƒªã‚»ãƒƒãƒˆ) â†’ Function(API)
                                 â”‚
                                 â”œâ†’ æˆåŠŸ â†’ Debug(æˆåŠŸ)
                                 â”‚
                                 â””â†’ Catch â†’ Change(ã‚«ã‚¦ãƒ³ãƒˆå¢—) â†’ Switch
                                                                    â”‚
                                                                    â”œâ†’ <3 â†’ Delay â†’ Function(API)ã¸æˆ»ã‚‹
                                                                    â”‚
                                                                    â””â†’ >=3 â†’ Debug(å¤±æ•—)
            </div>
            
            <details>
                <summary>ğŸ“¦ è§£ç­”ãƒ•ãƒ­ãƒ¼ (ã‚¯ãƒªãƒƒã‚¯ã—ã¦è¡¨ç¤º)</summary>
                <div class="flow-json">
[
    {
        "id": "ex4_inject",
        "type": "inject",
        "z": "exercise4",
        "name": "APIå‘¼ã³å‡ºã—é–‹å§‹",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 100,
        "wires": [
            ["ex4_reset"]
        ]
    },
    {
        "id": "ex4_reset",
        "type": "change",
        "z": "exercise4",
        "name": "ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ",
        "rules": [
            {
                "t": "set",
                "p": "retryCount",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 100,
        "wires": [
            ["ex4_api"]
        ]
    },
    {
        "id": "ex4_api",
        "type": "function",
        "z": "exercise4",
        "name": "APIå‘¼ã³å‡ºã—(70%ã§å¤±æ•—)",
        "func": "// 70%ã®ç¢ºç‡ã§å¤±æ•—ã™ã‚‹API\nif (Math.random() > 0.3) {\n    throw new Error(\"APIå‘¼ã³å‡ºã—å¤±æ•—: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ\");\n}\n\n// æˆåŠŸ\nmsg.payload = {\n    status: \"success\",\n    data: \"APIã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿\",\n    timestamp: new Date().toISOString()\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 180,
        "wires": [
            ["ex4_success"]
        ]
    },
    {
        "id": "ex4_catch",
        "type": "catch",
        "z": "exercise4",
        "name": "ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ",
        "scope": ["ex4_api"],
        "uncaught": false,
        "x": 340,
        "y": 260,
        "wires": [
            ["ex4_retry_count"]
        ]
    },
    {
        "id": "ex4_retry_count",
        "type": "change",
        "z": "exercise4",
        "name": "ãƒªãƒˆãƒ©ã‚¤ã‚«ã‚¦ãƒ³ãƒˆå¢—åŠ ",
        "rules": [
            {
                "t": "set",
                "p": "retryCount",
                "pt": "msg",
                "to": "$flowContext('retryCount') + 1",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "retryCount",
                "pt": "flow",
                "to": "retryCount",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 260,
        "wires": [
            ["ex4_switch"]
        ]
    },
    {
        "id": "ex4_switch",
        "type": "switch",
        "z": "exercise4",
        "name": "ãƒªãƒˆãƒ©ã‚¤åˆ¤å®š",
        "property": "retryCount",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "gte",
                "v": "3",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 740,
        "y": 260,
        "wires": [
            ["ex4_delay"],
            ["ex4_failed"]
        ]
    },
    {
        "id": "ex4_delay",
        "type": "delay",
        "z": "exercise4",
        "name": "1ç§’å¾…æ©Ÿ",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "x": 560,
        "y": 340,
        "wires": [
            ["ex4_api"]
        ]
    },
    {
        "id": "ex4_success",
        "type": "debug",
        "z": "exercise4",
        "name": "âœ… æˆåŠŸ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 580,
        "y": 180,
        "wires": []
    },
    {
        "id": "ex4_failed",
        "type": "debug",
        "z": "exercise4",
        "name": "âŒ 3å›å¤±æ•—ã—ã¾ã—ãŸ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 930,
        "y": 280,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>Injectãƒãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å®Ÿè¡Œ</li>
                    <li>æˆåŠŸã™ã‚‹ã¾ã§è‡ªå‹•çš„ã«å†è©¦è¡Œã•ã‚Œã‚‹(æœ€å¤§1ç§’é–“éš”)</li>
                    <li>æˆåŠŸæ™‚: ã€Œâœ… æˆåŠŸã€ã®DebugãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>3å›å¤±æ•—æ™‚: ã€ŒâŒ 3å›å¤±æ•—ã—ã¾ã—ãŸã€ã®DebugãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                    <li>Debugã‚¿ãƒ–ã§ <code>msg.retryCount</code> ã‚’è¦‹ã‚‹ã¨ã€ä½•å›è©¦è¡Œã—ãŸã‹åˆ†ã‹ã‚‹</li>
                </ul>
            </details>
        </div>
        
        <h2>ğŸ“ 7. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Catchãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>ã‚¨ãƒ©ãƒ¼ã‚’æ”¾ç½®ã—ãªã„</strong>: Catchãƒãƒ¼ãƒ‰ã§é©åˆ‡ã«å‡¦ç†ã™ã‚‹</li>
                <li>âœ… <strong>ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æ´»ç”¨</strong>: ã©ã“ã§ã€ãªãœã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸã‹æŠŠæ¡ã™ã‚‹</li>
                <li>âœ… <strong>ä»£æ›¿å‡¦ç†ã‚’ç”¨æ„</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚„ãƒªãƒˆãƒ©ã‚¤ã§å‡¦ç†ã‚’ç¶™ç¶š</li>
                <li>âœ… <strong>ãƒ­ã‚°ã«è¨˜éŒ²</strong>: å¾Œã§å•é¡Œã‚’åˆ†æã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</li>
                <li>âœ… <strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥</strong>: å¿…è¦ã«å¿œã˜ã¦ã‚¨ãƒ©ãƒ¼ã‚’çŸ¥ã‚‰ã›ã‚‹</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Catchãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Statusãƒãƒ¼ãƒ‰</strong>: ãƒãƒ¼ãƒ‰ã®çŠ¶æ…‹å¤‰åŒ–ã‚’ç›£è¦–</li>
                <li><strong>Completeãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å‡¦ç†å®Œäº†ã‚’æ¤œçŸ¥</li>
                <li><strong>Linkãƒãƒ¼ãƒ‰</strong>: ãƒ•ãƒ­ãƒ¼ã‚’æ•´ç†ã—ã¦ã‚µãƒ–ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆ</li>
            </ul>
        </div>
        
        <h2>ğŸ”— 8. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/handling-errors" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</a></li>
            <li><a href="https://flows.nodered.org/" target="_blank">Node-RED Flow Library: ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼é›†</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯å …ç‰¢ãªIoTã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚‹ä¸Šã§éå¸¸ã«é‡è¦ãªã‚¹ã‚­ãƒ«ã§ã™ã€‚</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // ã™ã¹ã¦ã®.code-blockã¨.flow-jsonã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            const codeBlocks = document.querySelectorAll('.code-block, .flow-json');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
                    const code = block.textContent.replace('ã‚³ãƒ”ãƒ¼', '').trim();
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
</body>
</html>