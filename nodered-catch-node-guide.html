<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Catchãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .node-switch {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-catch {
            background-color: #e8967a;
            color: white;
        }
        
        .node-http-request {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-http-in {
            background-color: #c0c060;
            color: #333;
        }
        
        .node-http-response {
            background-color: #c0c060;
            color: #333;
        }
        
        .node-status {
            background-color: #c0c0c0;
            color: #333;
        }
        
        .node-mqtt {
            background-color: #d0a0c0;
            color: #333;
        }
        
        .node-file {
            background-color: #c0c0c0;
            color: #333;
        }
        
        .node-template {
            background-color: #d4b8a0;
            color: #333;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            white-space: pre-wrap;
        }
        
        .js-code {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border: none;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            position: relative;
            white-space: pre;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .copy-button svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #e8967a;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #e8967a;
            margin-top: 0;
        }
        
        .mode-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-all {
            background-color: #dc3545;
            color: white;
        }
        
        .badge-selected {
            background-color: #28a745;
            color: white;
        }
        
        .badge-uncaught {
            background-color: #6f42c1;
            color: white;
        }
        
        .data-flow {
            background-color: #f0f0f0;
            border: 2px dashed #999;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .data-flow .before {
            background-color: #ffcccc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .after {
            background-color: #ccffcc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .arrow-down {
            display: block;
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
        
        .error-obj {
            background-color: #2d3133;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }
        
        .error-obj .key {
            color: #66d9ef;
        }
        
        .error-obj .string {
            color: #a6e22e;
        }
        
        .error-obj .comment {
            color: #75715e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›¡ï¸ Node-RED Catchãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Catchãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Catchãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€ŒCatchã€ã£ã¦ä½•?</h3>
        <p>
            Catchãƒãƒ¼ãƒ‰ã¯ã€<strong>ãƒ•ãƒ­ãƒ¼å†…ã§ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒï¼ˆæ•æ‰ï¼‰ã™ã‚‹</strong>ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>ã‚µãƒ¼ã‚«ã‚¹ã®å®‰å…¨ãƒãƒƒãƒˆ</strong>ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
        </p>
        
        <div class="important">
            <p><strong>ğŸª ã‚µãƒ¼ã‚«ã‚¹ã®å®‰å…¨ãƒãƒƒãƒˆã«ä¾‹ãˆã‚‹ã¨:</strong></p>
            <ul>
                <li>ğŸ¤¸ <strong>ç©ºä¸­ãƒ–ãƒ©ãƒ³ã‚³ã®æ¼”è€…</strong> = å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ãƒãƒ¼ãƒ‰ï¼ˆFunctionã€HTTP Requestãªã©ï¼‰</li>
                <li>ğŸ˜± <strong>æ¼”è€…ãŒè½ä¸‹</strong> = ãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ</li>
                <li>ğŸ¥… <strong>å®‰å…¨ãƒãƒƒãƒˆãŒã‚­ãƒ£ãƒƒãƒ</strong> = Catchãƒãƒ¼ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰</li>
                <li>ğŸ¥ <strong>æ•‘è­·ç­ã«å¼•ãç¶™ã</strong> = ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æ¬¡ã®ãƒãƒ¼ãƒ‰ã«é€ä¿¡ã—ã¦å¯¾å‡¦</li>
            </ul>
        </div>
        
        <h3>ğŸ“¦ åŸºæœ¬çš„ãªå‹•ä½œ</h3>
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">Function<br><small>(ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ)</small></span>
            <span class="arrow" style="color: #ff6666;">âœ—</span>
            <span class="node node-debug" style="opacity: 0.5;">Debug</span>
            <br><br>
            <span style="color: #ff6666; margin-left: 180px;">â†“ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ</span>
            <br><br>
            <span style="margin-left: 120px;" class="node node-catch">Catch</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug<br><small>(ã‚¨ãƒ©ãƒ¼æƒ…å ±)</small></span>
        </div>
        
        <p>
            Catchãƒãƒ¼ãƒ‰ã¯ã€æŒ‡å®šã—ãŸãƒãƒ¼ãƒ‰ï¼ˆã¾ãŸã¯å…¨ãƒãƒ¼ãƒ‰ï¼‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã¨ãã€
            <strong>ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’å«ã‚€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›</strong>ã—ã¾ã™ã€‚
            ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®é€šçŸ¥ã€ãƒ­ã‚°è¨˜éŒ²ã€ãƒªã‚«ãƒãƒªå‡¦ç†ãªã©ã‚’å®Ÿè£…ã§ãã¾ã™ã€‚
        </p>
        
        <div class="data-flow">
            <div class="before">
                <strong>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚</strong><br>
                throw new Error("å‡¦ç†å¤±æ•—!")
            </div>
            <span class="arrow-down">â†“ Catch â†“</span>
            <div class="after">
                <strong>ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’å–å¾—</strong><br>
                msg.error.message = "å‡¦ç†å¤±æ•—!"
            </div>
        </div>
        
        <h2>âš™ï¸ 2. Catchãƒãƒ¼ãƒ‰ã®3ã¤ã®ã‚¹ã‚³ãƒ¼ãƒ—</h2>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-all">å…¨ãƒãƒ¼ãƒ‰</span> ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰</h4>
                <p>åŒã˜ã‚¿ãƒ–ï¼ˆãƒ•ãƒ­ãƒ¼ï¼‰å†…ã®ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</p>
                <div class="code-block">scope: null
ï¼ˆè¨­å®šã§ã€Œã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã€ã‚’é¸æŠï¼‰</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-selected">é¸æŠ</span> é¸æŠã—ãŸãƒãƒ¼ãƒ‰</h4>
                <p>æŒ‡å®šã—ãŸãƒãƒ¼ãƒ‰ã®ã¿ã‹ã‚‰ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</p>
                <div class="code-block">scope: ["node-id-1", "node-id-2"]
ï¼ˆè¨­å®šã§ãƒãƒ¼ãƒ‰ã‚’é¸æŠï¼‰</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-uncaught">æœªæ•æ‰</span> åŒã˜ã‚¿ãƒ–å†…ã§æ•æ‰ã•ã‚Œã¦ã„ãªã„ã‚¨ãƒ©ãƒ¼</h4>
                <p>ä»–ã®Catchãƒãƒ¼ãƒ‰ã§ã‚­ãƒ£ãƒƒãƒã•ã‚Œãªã‹ã£ãŸã‚¨ãƒ©ãƒ¼ã®ã¿ã‚’ã‚­ãƒ£ãƒƒãƒ</p>
                <div class="code-block">uncaught: true
ï¼ˆæœ€å¾Œã®ç ¦ã¨ã—ã¦æ©Ÿèƒ½ï¼‰</div>
            </div>
        </div>
        
        <h3>ğŸ“‹ è¨­å®šé …ç›®ä¸€è¦§</h3>

        <table>
            <tr>
                <th>è¨­å®šé …ç›®</th>
                <th>èª¬æ˜</th>
                <th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤</th>
            </tr>
            <tr>
                <td><strong>åå‰</strong></td>
                <td>ãƒãƒ¼ãƒ‰ã®è¡¨ç¤ºåï¼ˆä»»æ„ï¼‰</td>
                <td>ç©ºç™½</td>
            </tr>
            <tr>
                <td><strong>ã‚¨ãƒ©ãƒ¼å–å¾—å…ƒ</strong></td>
                <td>ç›£è¦–å¯¾è±¡ã®é¸æŠæ–¹æ³•ï¼ˆå…¨ãƒãƒ¼ãƒ‰/ã‚°ãƒ«ãƒ¼ãƒ—å†…/é¸æŠã—ãŸãƒãƒ¼ãƒ‰ï¼‰</td>
                <td>å…¨ãƒãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>Catchãƒãƒ¼ãƒ‰ã§å‡¦ç†æ¸ˆã¿ã®ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–</strong></td>
                <td>ä»–ã®Catchãƒãƒ¼ãƒ‰ã§æ—¢ã«å‡¦ç†ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã™ã‚‹</td>
                <td>ã‚ªãƒ•</td>
            </tr>
        </table>
        
        <h3>ğŸ¯ msg.errorã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</h3>
        
        <p>Catchãƒãƒ¼ãƒ‰ã¯ã€ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«<code>msg.error</code>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚</p>
        
        <div class="error-obj">
<span class="key">msg.error</span> = {
    <span class="key">message</span>: <span class="string">"Error Occurred!"</span>,     <span class="comment">// ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</span>
    <span class="key">source</span>: {
        <span class="key">id</span>: <span class="string">"7bab9134.35ad"</span>,        <span class="comment">// ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿãƒãƒ¼ãƒ‰ã®ID</span>
        <span class="key">type</span>: <span class="string">"function"</span>,           <span class="comment">// ãƒãƒ¼ãƒ‰ã®ç¨®é¡</span>
        <span class="key">name</span>: <span class="string">"Error"</span>,              <span class="comment">// ãƒãƒ¼ãƒ‰ã®åå‰</span>
        <span class="key">count</span>: 1                      <span class="comment">// ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå›æ•°</span>
    }
}
        </div>
        
        <h2>ğŸ¯ 3. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <div class="important">
            <p><strong>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹æ³•:</strong></p>
            <ol>
                <li>ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONã‚’ã‚³ãƒ”ãƒ¼</li>
                <li>Node-REDã‚¨ãƒ‡ã‚£ã‚¿ã§ <strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ èª­ã¿è¾¼ã¿</strong> ã‚’é¸æŠ</li>
                <li>JSONã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã€Œèª­ã¿è¾¼ã¿ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
            <p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>
        
        <details>
            <summary>ğŸ“‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <p style="margin: 10px 0; color: #666;"><small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small></p>
            <div class="flow-json">
[
    {
        "id": "33ba530c5670b49e",
        "type": "tab",
        "label": "catch",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d1073c30.cb321",
        "type": "inject",
        "z": "33ba530c5670b49e",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Hello, World!",
        "payloadType": "str",
        "x": 290,
        "y": 200,
        "wires": [
            [
                "7bab9134.35ad"
            ]
        ]
    },
    {
        "id": "f96f0ba7.cfe008",
        "type": "debug",
        "z": "33ba530c5670b49e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 610,
        "y": 240,
        "wires": []
    },
    {
        "id": "3ea03953.25a1a6",
        "type": "comment",
        "z": "33ba530c5670b49e",
        "name": "Example: Catch Node",
        "info": "Catch node can catch error caused by specified nodes or all nodes in a flow.  It receives input of target node.",
        "x": 220,
        "y": 100,
        "wires": []
    },
    {
        "id": "d6a15623.056d18",
        "type": "comment",
        "z": "33ba530c5670b49e",
        "name": "Catch error of a node",
        "info": "",
        "x": 260,
        "y": 160,
        "wires": []
    },
    {
        "id": "7e1c072c.bc1cc8",
        "type": "comment",
        "z": "33ba530c5670b49e",
        "name": "Catch error caused by function node",
        "info": "",
        "x": 540,
        "y": 280,
        "wires": []
    },
    {
        "id": "b45ca54e.eca208",
        "type": "catch",
        "z": "33ba530c5670b49e",
        "name": "",
        "scope": [
            "7bab9134.35ad"
        ],
        "uncaught": false,
        "x": 460,
        "y": 240,
        "wires": [
            [
                "f96f0ba7.cfe008"
            ]
        ]
    },
    {
        "id": "7bab9134.35ad",
        "type": "function",
        "z": "33ba530c5670b49e",
        "name": "Error",
        "func": "throw new Error(\"Error Occured!\")",
        "outputs": 0,
        "noerr": 0,
        "x": 450,
        "y": 200,
        "wires": []
    }
]
            </div>
        </details>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: ç‰¹å®šãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</h3>
        <p><strong>ç”¨é€”:</strong> ç‰¹å®šã®ãƒãƒ¼ãƒ‰ï¼ˆFunctionç­‰ï¼‰ã§ç™ºç”Ÿã™ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’å€‹åˆ¥ã«å‡¦ç†</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">Function<br><small>(Error)</small></span>
            <span class="arrow" style="color: #ff6666;">âœ—</span>
            <br><br>
            <span style="margin-left: 120px;" class="node node-catch">Catch<br><small>(é¸æŠ)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>Functionãƒãƒ¼ãƒ‰ã§ <code>throw new Error("Error!")</code> ã‚’å®Ÿè¡Œ</li>
                <li>Catchãƒãƒ¼ãƒ‰ãŒã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰</li>
                <li>msg.errorã«ã‚¨ãƒ©ãƒ¼æƒ…å ±ãŒæ ¼ç´ã•ã‚Œã¦å‡ºåŠ›</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’ç¢ºèª</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">Catchãƒãƒ¼ãƒ‰è¨­å®š:
  ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ: é¸æŠã—ãŸãƒãƒ¼ãƒ‰
  å¯¾è±¡: Functionãƒãƒ¼ãƒ‰ã€ŒErrorã€ã‚’é¸æŠ

Functionãƒãƒ¼ãƒ‰ã®ã‚³ãƒ¼ãƒ‰:
  throw new Error("Error Occured!");</div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å¿œç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰:</strong></p>
            <p>Catchãƒãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé«˜åº¦ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã«ã‚‚æ´»ç”¨ã§ãã¾ã™ï¼š</p>
            <ul>
                <li><strong>ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ</strong>: ã€Œã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã€ã‚’é¸æŠã—ã¦ã€ã‚¿ãƒ–å†…ã®å…¨ã‚¨ãƒ©ãƒ¼ã‚’ä¸€æ‹¬ç›£è¦–</li>
                <li><strong>æœªæ•æ‰ã‚¨ãƒ©ãƒ¼ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯</strong>: ã€Œæœªæ•æ‰ã®ã¿ã€ã‚’ONã«ã—ã¦ã€ä»–ã®Catchã§æ•æ‰ã•ã‚Œãªã‹ã£ãŸã‚¨ãƒ©ãƒ¼ã‚’æœ€çµ‚çš„ã«ã‚­ãƒ£ãƒƒãƒ</li>
                <li><strong>ã‚¨ãƒ©ãƒ¼é€šçŸ¥ãƒ•ãƒ­ãƒ¼</strong>: Catch â†’ Template â†’ HTTP Request ã§ã€Slack/LINEç­‰ã«é€šçŸ¥</li>
                <li><strong>ãƒªãƒˆãƒ©ã‚¤å‡¦ç†</strong>: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†ã—ã€ä¸€å®šå›æ•°ã¾ã§å†è©¦è¡Œ</li>
            </ul>
        </div>
        
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>Functionãƒãƒ¼ãƒ‰ã§æ„å›³çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã€Catchãƒãƒ¼ãƒ‰ã§ã‚­ãƒ£ãƒƒãƒã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Functionã€Catchã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§ <code>throw new Error("ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼")</code> ã‚’å®Ÿè¡Œ</li>
                <li>Catchãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§msg.error.messageã‚’ç¢ºèª</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Debugã« "ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼" ãŒè¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>payload: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã§OK</li>
                </ul>
                <p><strong>Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã€</li>
                    <li>ã‚³ãƒ¼ãƒ‰: <code>throw new Error("ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼");</code></li>
                </ul>
                <p><strong>Catchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ: é¸æŠã—ãŸãƒãƒ¼ãƒ‰</li>
                    <li>å¯¾è±¡: Functionãƒãƒ¼ãƒ‰ã€Œã‚¨ãƒ©ãƒ¼ç™ºç”Ÿã€ã‚’é¸æŠ</li>
                </ul>
                <p><strong>Debugãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å‡ºåŠ›: msgå…¨ä½“ï¼ˆcomplete message objectï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">

[
    {
        "id": "ex1_tab",
        "type": "tab",
        "label": "æ¼”ç¿’1",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "ex1_function"
            ]
        ],
        "z": "ex1_tab"
    },
    {
        "id": "ex1_function",
        "type": "function",
        "name": "ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ",
        "func": "throw new Error(\"ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼\");",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 100,
        "wires": [
            []
        ],
        "z": "ex1_tab"
    },
    {
        "id": "ex1_catch",
        "type": "catch",
        "name": "ã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ",
        "scope": [
            "ex1_function"
        ],
        "uncaught": false,
        "x": 310,
        "y": 160,
        "wires": [
            [
                "ex1_debug"
            ]
        ],
        "z": "ex1_tab"
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "ã‚¨ãƒ©ãƒ¼ç¢ºèª",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 160,
        "wires": [],
        "z": "ex1_tab"
    }
]

                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ã‚¨ãƒ©ãƒ¼æƒ…å ±ã®æ•´å½¢<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æ•´å½¢ã—ã¦ã€ã‚ã‹ã‚Šã‚„ã™ã„ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Functionï¼ˆã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç”¨ï¼‰ã€Catchã€Templateã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>Templateãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æ•´å½¢</li>
                <li>å‡ºåŠ›å½¢å¼: ã€Œ[ãƒãƒ¼ãƒ‰å] ã‚¨ãƒ©ãƒ¼: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Debugã« "[è¨ˆç®—å‡¦ç†] ã‚¨ãƒ©ãƒ¼: ã‚¼ãƒ­é™¤ç®—ã‚¨ãƒ©ãƒ¼" ã®ã‚ˆã†ãªæ•´å½¢ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œè¨ˆç®—å‡¦ç†ã€</li>
                    <li>ã‚³ãƒ¼ãƒ‰: <code>throw new Error("ã‚¼ãƒ­é™¤ç®—ã‚¨ãƒ©ãƒ¼");</code></li>
                </ul>
                <p><strong>Catchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ: ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰</li>
                </ul>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: mustache</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: <code>[{{error.source.name}}] ã‚¨ãƒ©ãƒ¼: {{error.message}}</code></li>
                    <li>å‡ºåŠ›: æ–‡å­—åˆ—</li>
                </ul>
                <p><strong>Debugãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å‡ºåŠ›: msg.payload</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">

[
    {
        "id": "ex2_tab",
        "type": "tab",
        "label": "æ¼”ç¿’2",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "ex2_function"
            ]
        ],
        "z": "ex2_tab"
    },
    {
        "id": "ex2_function",
        "type": "function",
        "name": "è¨ˆç®—å‡¦ç†",
        "func": "throw new Error(\"ã‚¼ãƒ­é™¤ç®—ã‚¨ãƒ©ãƒ¼\");",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 100,
        "wires": [
            []
        ],
        "z": "ex2_tab"
    },
    {
        "id": "ex2_catch",
        "type": "catch",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 280,
        "y": 160,
        "wires": [
            [
                "ex2_template"
            ]
        ],
        "z": "ex2_tab"
    },
    {
        "id": "ex2_template",
        "type": "template",
        "name": "ã‚¨ãƒ©ãƒ¼æ•´å½¢",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "mustache",
        "template": "[{{error.source.name}}] ã‚¨ãƒ©ãƒ¼: {{error.message}}",
        "output": "str",
        "x": 440,
        "y": 160,
        "wires": [
            [
                "ex2_debug"
            ]
        ],
        "z": "ex2_tab"
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 590,
        "y": 160,
        "wires": [],
        "z": "ex2_tab"
    }
]

                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: è¤‡æ•°Catchã®ä½¿ã„åˆ†ã‘<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ç‰¹å®šãƒãƒ¼ãƒ‰ç”¨Catchã¨æœªæ•æ‰ã‚¨ãƒ©ãƒ¼ç”¨Catchã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã£ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>2ã¤ã®Functionãƒãƒ¼ãƒ‰ï¼ˆå‡¦ç†Aã€å‡¦ç†Bï¼‰ã‚’ä½œæˆ</li>
                <li>å‡¦ç†Aç”¨ã®å°‚ç”¨Catchãƒãƒ¼ãƒ‰ã‚’ä½œæˆ</li>
                <li>æœªæ•æ‰ã‚¨ãƒ©ãƒ¼ç”¨ã®Catchãƒãƒ¼ãƒ‰ã‚’ä½œæˆ</li>
                <li>å‡¦ç†Aã®ã‚¨ãƒ©ãƒ¼ã¯ã€Œå°‚ç”¨ã‚­ãƒ£ãƒƒãƒã€ã€å‡¦ç†Bã®ã‚¨ãƒ©ãƒ¼ã¯ã€Œæœªæ•æ‰ã‚­ãƒ£ãƒƒãƒã€ã§å‡¦ç†</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Inject A â†’ å‡¦ç†Aã‚¨ãƒ©ãƒ¼ â†’ ã€Œå°‚ç”¨ã‚­ãƒ£ãƒƒãƒã€ã®Debugã«å‡ºåŠ›</li>
                <li>Inject B â†’ å‡¦ç†Bã‚¨ãƒ©ãƒ¼ â†’ ã€Œæœªæ•æ‰ã‚­ãƒ£ãƒƒãƒã€ã®Debugã«å‡ºåŠ›</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Inject Aãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œå‡¦ç†Aå®Ÿè¡Œã€</li>
                    <li>æ¥ç¶šå…ˆ: å‡¦ç†Aãƒãƒ¼ãƒ‰</li>
                </ul>
                <p><strong>Inject Bãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œå‡¦ç†Bå®Ÿè¡Œã€</li>
                    <li>æ¥ç¶šå…ˆ: å‡¦ç†Bãƒãƒ¼ãƒ‰</li>
                </ul>
                <p><strong>Functionãƒãƒ¼ãƒ‰ï¼ˆå‡¦ç†Aï¼‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œå‡¦ç†Aã€</li>
                    <li>ã‚³ãƒ¼ãƒ‰: <code>throw new Error("å‡¦ç†Aã§ã‚¨ãƒ©ãƒ¼");</code></li>
                </ul>
                <p><strong>Functionãƒãƒ¼ãƒ‰ï¼ˆå‡¦ç†Bï¼‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œå‡¦ç†Bã€</li>
                    <li>ã‚³ãƒ¼ãƒ‰: <code>throw new Error("å‡¦ç†Bã§ã‚¨ãƒ©ãƒ¼");</code></li>
                </ul>
                <p><strong>Catchãƒãƒ¼ãƒ‰ï¼ˆå°‚ç”¨ï¼‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œå°‚ç”¨ã‚­ãƒ£ãƒƒãƒã€</li>
                    <li>ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ: é¸æŠã—ãŸãƒãƒ¼ãƒ‰</li>
                    <li>å¯¾è±¡: å‡¦ç†Aãƒãƒ¼ãƒ‰ã‚’é¸æŠ</li>
                </ul>
                <p><strong>Catchãƒãƒ¼ãƒ‰ï¼ˆæœªæ•æ‰ï¼‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œæœªæ•æ‰ã‚­ãƒ£ãƒƒãƒã€</li>
                    <li>ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ: ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰</li>
                    <li>æœªæ•æ‰ã®ã¿: ã‚ªãƒ³</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">

[
    {
        "id": "ex3_tab",
        "type": "tab",
        "label": "æ¼”ç¿’3",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ex3_inject_a",
        "type": "inject",
        "name": "å‡¦ç†Aå®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "ex3_func_a"
            ]
        ],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_func_a",
        "type": "function",
        "name": "å‡¦ç†A",
        "func": "throw new Error(\"å‡¦ç†Aã§ã‚¨ãƒ©ãƒ¼\");",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 80,
        "wires": [
            []
        ],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_inject_b",
        "type": "inject",
        "name": "å‡¦ç†Bå®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "ex3_func_b"
            ]
        ],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_func_b",
        "type": "function",
        "name": "å‡¦ç†B",
        "func": "throw new Error(\"å‡¦ç†Bã§ã‚¨ãƒ©ãƒ¼\");",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 140,
        "wires": [
            []
        ],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_catch_a",
        "type": "catch",
        "name": "å°‚ç”¨ã‚­ãƒ£ãƒƒãƒ",
        "scope": [
            "ex3_func_a"
        ],
        "uncaught": false,
        "x": 310,
        "y": 200,
        "wires": [
            [
                "ex3_debug_a"
            ]
        ],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_debug_a",
        "type": "debug",
        "name": "å‡¦ç†Aå°‚ç”¨",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error",
        "targetType": "msg",
        "x": 490,
        "y": 200,
        "wires": [],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_catch_uncaught",
        "type": "catch",
        "name": "æœªæ•æ‰ã‚­ãƒ£ãƒƒãƒ",
        "scope": null,
        "uncaught": true,
        "x": 320,
        "y": 260,
        "wires": [
            [
                "ex3_debug_uncaught"
            ]
        ],
        "z": "ex3_tab"
    },
    {
        "id": "ex3_debug_uncaught",
        "type": "debug",
        "name": "ãã®ä»–ã‚¨ãƒ©ãƒ¼",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error",
        "targetType": "msg",
        "x": 510,
        "y": 260,
        "wires": [],
        "z": "ex3_tab"
    }
]

                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²ã‚·ã‚¹ãƒ†ãƒ <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«ãƒ­ã‚°ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜éŒ²ã—ã€ä¸€å®šå›æ•°ä»¥ä¸Šã®ã‚¨ãƒ©ãƒ¼ã§è­¦å‘Šã‚’å‡ºã™ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãã§ãƒ­ã‚°ã‚’æ•´å½¢</li>
                <li>Functionãƒãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†ï¼ˆflowå¤‰æ•°ä½¿ç”¨ï¼‰</li>
                <li>3å›ä»¥ä¸Šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ </li>
                <li>æœ€çµ‚çš„ãªãƒ­ã‚°ã‚’Debugã«å‡ºåŠ›</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>1ã€œ2å›ç›®: "2024-01-01 12:00:00 [å‡¦ç†] ã‚¨ãƒ©ãƒ¼: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (ç™ºç”Ÿå›æ•°: 2)"</li>
                <li>3å›ç›®ä»¥é™: "âš ï¸ è­¦å‘Š: ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã—ã¦ã„ã¾ã™! ..." ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿½åŠ </li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç”¨Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œãƒ‡ãƒ¼ã‚¿å‡¦ç†ã€</li>
                    <li>ã‚³ãƒ¼ãƒ‰: <code>throw new Error("ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚¨ãƒ©ãƒ¼");</code></li>
                </ul>
                <p><strong>Catchãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ: ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰</li>
                </ul>
                <p><strong>ãƒ­ã‚°æ•´å½¢ç”¨Functionãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åå‰: ã€Œãƒ­ã‚°æ•´å½¢ã€</li>
                    <li>flowå¤‰æ•°ã§ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†</li>
                    <li>æ—¥æ™‚ã®æ•´å½¢ã«ã¯ <code>new Date().toISOString()</code> ã‚’ä½¿ç”¨</li>
                    <li>ã‚«ã‚¦ãƒ³ãƒˆãŒ3ä»¥ä¸Šã§è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ </li>
                </ul>
                <p><strong>Functionãƒãƒ¼ãƒ‰ã®ã‚³ãƒ¼ãƒ‰ä¾‹:</strong></p>
                <div class="code-block">// ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—ãƒ»æ›´æ–°
let count = flow.get("errorCount") || 0;
count++;
flow.set("errorCount", count);

// ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä½œæˆ
let timestamp = new Date().toLocaleString('ja-JP');

// ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ
let log = timestamp + " [" + msg.error.source.name + "] ";
log += "ã‚¨ãƒ©ãƒ¼: " + msg.error.message;
log += " (ç™ºç”Ÿå›æ•°: " + count + ")";

// 3å›ä»¥ä¸Šã§è­¦å‘Šè¿½åŠ 
if (count >= 3) {
    log = "âš ï¸ è­¦å‘Š: ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã—ã¦ã„ã¾ã™!\n" + log;
}

msg.payload = log;
return msg;</div>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">

[
    {
        "id": "ex4_tab",
        "type": "tab",
        "label": "æ¼”ç¿’4",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ex4_inject",
        "type": "inject",
        "name": "ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "ex4_error_func"
            ]
        ],
        "z": "ex4_tab"
    },
    {
        "id": "ex4_error_func",
        "type": "function",
        "name": "ãƒ‡ãƒ¼ã‚¿å‡¦ç†",
        "func": "throw new Error(\"ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚¨ãƒ©ãƒ¼\");",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 100,
        "wires": [
            []
        ],
        "z": "ex4_tab"
    },
    {
        "id": "ex4_catch",
        "type": "catch",
        "name": "",
        "scope": null,
        "uncaught": false,
        "x": 280,
        "y": 160,
        "wires": [
            [
                "ex4_log_func"
            ]
        ],
        "z": "ex4_tab"
    },
    {
        "id": "ex4_log_func",
        "type": "function",
        "name": "ãƒ­ã‚°æ•´å½¢",
        "func": "// ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—ãƒ»æ›´æ–°\nlet count = flow.get(\"errorCount\") || 0;\ncount++;\nflow.set(\"errorCount\", count);\n\n// ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä½œæˆ\nlet timestamp = new Date().toLocaleString('ja-JP');\n\n// ãƒ­ã‚°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ\nlet log = timestamp + \" [\" + msg.error.source.name + \"] \";\nlog += \"ã‚¨ãƒ©ãƒ¼: \" + msg.error.message;\nlog += \" (ç™ºç”Ÿå›æ•°: \" + count + \")\";\n\n// 3å›ä»¥ä¸Šã§è­¦å‘Šè¿½åŠ \nif (count >= 3) {\n    log = \"âš ï¸ è­¦å‘Š: ã‚¨ãƒ©ãƒ¼ãŒé »ç™ºã—ã¦ã„ã¾ã™!\\n\" + log;\n}\n\nmsg.payload = log;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 160,
        "wires": [
            [
                "ex4_debug"
            ]
        ],
        "z": "ex4_tab"
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "name": "ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 610,
        "y": 160,
        "wires": [],
        "z": "ex4_tab"
    },
    {
        "id": "ex4_reset_inject",
        "type": "inject",
        "name": "ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 220,
        "wires": [
            [
                "ex4_reset_func"
            ]
        ],
        "z": "ex4_tab"
    },
    {
        "id": "ex4_reset_func",
        "type": "function",
        "name": "ãƒªã‚»ãƒƒãƒˆ",
        "func": "flow.set(\"errorCount\", 0);\nmsg.payload = \"ã‚¨ãƒ©ãƒ¼ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 220,
        "wires": [
            [
                "ex4_debug"
            ]
        ],
        "z": "ex4_tab"
    }
]

                </div>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Catchãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>åŸºæœ¬æ©Ÿèƒ½</strong>: ãƒ•ãƒ­ãƒ¼å†…ã§ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰ã—ã¦ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’å‡ºåŠ›</li>
                <li>âœ… <strong>ã‚¹ã‚³ãƒ¼ãƒ—è¨­å®š</strong>: å…¨ãƒãƒ¼ãƒ‰/é¸æŠãƒãƒ¼ãƒ‰/æœªæ•æ‰ã‚¨ãƒ©ãƒ¼ã®3ç¨®é¡ã‹ã‚‰é¸æŠ</li>
                <li>âœ… <strong>msg.error</strong>: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ç™ºç”Ÿå…ƒãƒãƒ¼ãƒ‰æƒ…å ±ãŒæ ¼ç´ã•ã‚Œã‚‹</li>
                <li>âœ… <strong>æœªæ•æ‰ãƒ¢ãƒ¼ãƒ‰</strong>: ä»–ã®Catchã§æ•æ‰ã•ã‚Œãªã‹ã£ãŸã‚¨ãƒ©ãƒ¼ã®ã¿ã‚’ã‚­ãƒ£ãƒƒãƒï¼ˆæœ€å¾Œã®ç ¦ï¼‰</li>
                <li>âœ… <strong>å…ƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¿æŒ</strong>: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®msgãŒãã®ã¾ã¾æ¸¡ã•ã‚Œã‚‹ï¼ˆmsg.errorè¿½åŠ ï¼‰</li>
            </ul>
        </div>
        
        <div class="warning">
            <h3>âš ï¸ ã‚ˆãã‚ã‚‹é–“é•ã„</h3>
            <ul>
                <li><strong>Catchãƒãƒ¼ãƒ‰ã®é…ç½®å ´æ‰€</strong>: åŒã˜ã‚¿ãƒ–ï¼ˆãƒ•ãƒ­ãƒ¼ï¼‰å†…ã«é…ç½®ã—ãªã„ã¨ã‚­ãƒ£ãƒƒãƒã§ããªã„</li>
                <li><strong>ã‚¹ã‚³ãƒ¼ãƒ—ã®èª¤è¨­å®š</strong>: ã€Œé¸æŠã—ãŸãƒãƒ¼ãƒ‰ã€ã§å¯¾è±¡ã‚’é¸ã³å¿˜ã‚Œã‚‹ã¨ä½•ã‚‚ã‚­ãƒ£ãƒƒãƒã—ãªã„</li>
                <li><strong>æœªæ•æ‰ã®èª¤è§£</strong>: ã€Œæœªæ•æ‰ã€ã¯ä»–ã®CatchãŒç„¡ã„å ´åˆã§ã¯ãªãã€ä»–ã®Catchã§æ•æ‰ã•ã‚Œã¦ã„ãªã„å ´åˆ</li>
                <li><strong>node.error()ã¨ã®æ··åŒ</strong>: node.error()ã¯æ˜ç¤ºçš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹ã€throwã¨ã¯ç•°ãªã‚‹</li>
                <li><strong>msg.errorã®ä¸Šæ›¸ã</strong>: å‡¦ç†é€”ä¸­ã§msg.errorã‚’å¤‰æ›´ã™ã‚‹ã¨å…ƒã®æƒ…å ±ãŒå¤±ã‚ã‚Œã‚‹</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Catchãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Statusãƒãƒ¼ãƒ‰</strong>: ãƒãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰åŒ–ã‚’ç›£è¦–</li>
                <li><strong>Completeãƒãƒ¼ãƒ‰</strong>: ãƒãƒ¼ãƒ‰ã®å‡¦ç†å®Œäº†ã‚’æ¤œçŸ¥</li>
                <li><strong>Linkãƒãƒ¼ãƒ‰</strong>: ãƒ•ãƒ­ãƒ¼é–“ã®æ¥ç¶šï¼ˆã‚¨ãƒ©ãƒ¼å‡¦ç†ã®å…±é€šåŒ–ã«ä¾¿åˆ©ï¼‰</li>
                <li><strong>Functionãƒãƒ¼ãƒ‰</strong>: node.error()ã§ã®ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ–¹æ³•</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>ã‚¨ãƒ©ãƒ¼ãŒã‚­ãƒ£ãƒƒãƒã•ã‚Œãªã„</td>
                <td>Catchãƒãƒ¼ãƒ‰ãŒåˆ¥ã‚¿ãƒ–ã«ã‚ã‚‹</td>
                <td>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿãƒãƒ¼ãƒ‰ã¨åŒã˜ã‚¿ãƒ–ã«Catchã‚’é…ç½®</td>
            </tr>
            <tr>
                <td>ç‰¹å®šãƒãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã®ã¿ã‚­ãƒ£ãƒƒãƒã—ãŸã„</td>
                <td>ã‚¹ã‚³ãƒ¼ãƒ—ãŒã€Œã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã€ã«ãªã£ã¦ã„ã‚‹</td>
                <td>ã€Œé¸æŠã—ãŸãƒãƒ¼ãƒ‰ã€ã«å¤‰æ›´ã—ã¦å¯¾è±¡ã‚’æŒ‡å®š</td>
            </tr>
            <tr>
                <td>CatchãŒ2å›ç™ºç«ã™ã‚‹</td>
                <td>è¤‡æ•°ã®CatchãŒåŒã˜ãƒãƒ¼ãƒ‰ã‚’å¯¾è±¡ã«ã—ã¦ã„ã‚‹</td>
                <td>ã‚¹ã‚³ãƒ¼ãƒ—ã‚’è¦‹ç›´ã—ã¦é‡è¤‡ã‚’è§£æ¶ˆ</td>
            </tr>
            <tr>
                <td>msg.errorãŒç©º</td>
                <td>ã‚¨ãƒ©ãƒ¼ãŒthrowä»¥å¤–ã®æ–¹æ³•ã§ç™ºç”Ÿ</td>
                <td>node.error(msg, "ã‚¨ãƒ©ãƒ¼")ã‚’ä½¿ç”¨ã—ã¦æ˜ç¤ºçš„ã«ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ</td>
            </tr>
            <tr>
                <td>æœªæ•æ‰CatchãŒå‹•ä½œã—ãªã„</td>
                <td>åˆ¥ã®CatchãŒã™ã§ã«ã‚­ãƒ£ãƒƒãƒã—ã¦ã„ã‚‹</td>
                <td>ä»–ã®Catchã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ç¢ºèªã€ã¾ãŸã¯å‰Šé™¤</td>
            </tr>
            <tr>
                <td>ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå…ƒãŒã‚ã‹ã‚‰ãªã„</td>
                <td>msg.error.sourceã‚’ç¢ºèªã—ã¦ã„ãªã„</td>
                <td>Debugã§msgå…¨ä½“ã‚’å‡ºåŠ›ã—ã¦source.nameã‚’ç¢ºèª</td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: IoTã‚»ãƒ³ã‚µãƒ¼ç•°å¸¸æ¤œçŸ¥</h3>
        <div class="code-block">æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼/æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼/æ°—åœ§ã‚»ãƒ³ã‚µãƒ¼
â†“
ãƒ‡ãƒ¼ã‚¿å¤‰æ›å‡¦ç†ï¼ˆJSONãƒ‘ãƒ¼ã‚¹ï¼‰
â†“ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚
Catchãƒãƒ¼ãƒ‰
â†“
ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’æ•´å½¢
â†“
ç•°å¸¸ã‚»ãƒ³ã‚µãƒ¼ã‚’ç‰¹å®šã—ã¦ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è­¦å‘Šè¡¨ç¤º
+ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ‹…å½“ã«Slacké€šçŸ¥</div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: APIé€£æºã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</h3>
        <div class="code-block">å¤–éƒ¨APIå‘¼ã³å‡ºã—ï¼ˆå¤©æ°—APIã€æ±ºæ¸ˆAPIç­‰ï¼‰
â†“ é€šä¿¡ã‚¨ãƒ©ãƒ¼/ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
Catchãƒãƒ¼ãƒ‰
â†“
Functionãƒãƒ¼ãƒ‰ã§ãƒªãƒˆãƒ©ã‚¤åˆ¤å®š
â†“ ãƒªãƒˆãƒ©ã‚¤å¯èƒ½
é…å»¶å¾Œã«å†è©¦è¡Œï¼ˆæœ€å¤§3å›ï¼‰
â†“ ãƒªãƒˆãƒ©ã‚¤ä¸Šé™
ä»£æ›¿å‡¦ç†ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨ï¼‰+ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²</div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: Raspberry Piãƒ‡ãƒã‚¤ã‚¹ç›£è¦–</h3>
        <div class="code-block">GPIOãƒ”ãƒ³èª­ã¿å–ã‚Š
â†“ ãƒ‡ãƒã‚¤ã‚¹æœªæ¥ç¶š/èª­ã¿å–ã‚Šã‚¨ãƒ©ãƒ¼
Catchãƒãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒã‚¤ã‚¹ã”ã¨ã«å€‹åˆ¥è¨­å®šï¼‰
â†“
ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã§åˆ†å²ï¼ˆSwitchï¼‰
â”œâ”€ æ¥ç¶šã‚¨ãƒ©ãƒ¼ â†’ å†æ¥ç¶šè©¦è¡Œ
â”œâ”€ èª­ã¿å–ã‚Šã‚¨ãƒ©ãƒ¼ â†’ ã‚»ãƒ³ã‚µãƒ¼ãƒªã‚»ãƒƒãƒˆ
â””â”€ ãã®ä»– â†’ ç®¡ç†è€…é€šçŸ¥

æœªæ•æ‰Catchãƒãƒ¼ãƒ‰ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
â†“
å…¨ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜</div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã®å …ç‰¢åŒ–</h3>
        <div class="code-block">MySQLãƒãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ¼ã‚¿æŒ¿å…¥/æ›´æ–°ï¼‰
â†“ æ¥ç¶šã‚¨ãƒ©ãƒ¼/ã‚¯ã‚¨ãƒªã‚¨ãƒ©ãƒ¼
Catchãƒãƒ¼ãƒ‰
â†“
ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã‚’åˆ¤å®š
â”œâ”€ æ¥ç¶šã‚¨ãƒ©ãƒ¼ â†’ æ¥ç¶šãƒ—ãƒ¼ãƒ«å†ä½œæˆ
â”œâ”€ é‡è¤‡ã‚­ãƒ¼ â†’ æ—¢å­˜ãƒ‡ãƒ¼ã‚¿æ›´æ–°ã«åˆ‡æ›¿
â”œâ”€ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ â†’ ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
â””â”€ ãã®ä»– â†’ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° + ç®¡ç†è€…é€šçŸ¥

æˆåŠŸæ™‚ã¯Statusãƒãƒ¼ãƒ‰ã§ç›£è¦–</div>
        
        <h2>ğŸ“– 8. node.error() ã¨ throw ã®é•ã„</h2>
        
        <h3>Functionãƒãƒ¼ãƒ‰ã§ã®ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>æ–¹æ³•</th>
                <th>æ§‹æ–‡</th>
                <th>ç‰¹å¾´</th>
            </tr>
            <tr>
                <td><strong>throw</strong></td>
                <td><code>throw new Error("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸");</code></td>
                <td>å‡¦ç†ã‚’å³åº§ã«ä¸­æ–­ã€Catchã§ã‚­ãƒ£ãƒƒãƒå¯èƒ½</td>
            </tr>
            <tr>
                <td><strong>node.error()</strong></td>
                <td><code>node.error("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", msg);</code></td>
                <td>ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¤ã¤å‡¦ç†ã‚’ç¶™ç¶šå¯èƒ½ã€ç¬¬2å¼•æ•°ã§msgã‚’æ¸¡ã™</td>
            </tr>
            <tr>
                <td><strong>node.warn()</strong></td>
                <td><code>node.warn("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸");</code></td>
                <td>è­¦å‘Šãƒ­ã‚°ã®ã¿ã€Catchã§ã¯æ•æ‰ã•ã‚Œãªã„</td>
            </tr>
        </table>
        
        <div class="code-block">// throw: å‡¦ç†ä¸­æ–­ + Catchã§æ•æ‰
if (msg.payload === undefined) {
    throw new Error("payloadãŒã‚ã‚Šã¾ã›ã‚“");
}

// node.error(): ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ + å‡¦ç†ç¶™ç¶šå¯èƒ½
if (msg.payload.value < 0) {
    node.error("è² ã®å€¤ã¯ç„¡åŠ¹ã§ã™", msg);
    // ã“ã“ã§å‡¦ç†ã‚’ç¶™ç¶šã™ã‚‹ã‹ã€return null;ã§çµ‚äº†
}

// node.warn(): è­¦å‘Šã®ã¿ï¼ˆCatchã§ã¯æ•æ‰ã•ã‚Œãªã„ï¼‰
if (msg.payload.value > 100) {
    node.warn("å€¤ãŒä¸Šé™ã‚’è¶…ãˆã¦ã„ã¾ã™: " + msg.payload.value);
}</div>
        
        <h2>ğŸ”— 9. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/handling-errors" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</a></li>
            <li><a href="https://nodered.org/docs/user-guide/nodes#catch" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Catchãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://nodered.org/docs/user-guide/writing-functions#handling-errors" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Functionãƒãƒ¼ãƒ‰ã§ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†</a></li>
            <li><a href="https://cookbook.nodered.org/" target="_blank">Node-RED Cookbook</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Catchãƒãƒ¼ãƒ‰ã¯å …ç‰¢ãªãƒ•ãƒ­ãƒ¼æ§‹ç¯‰ã«æ¬ ã‹ã›ãªã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</small><br>
            <small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã¨.js-code[data-copy="true"]ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            var codeBlocks = document.querySelectorAll('.flow-json, .js-code[data-copy="true"]');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                var button = document.createElement('button');
                button.className = 'copy-button';
                button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ï¼ˆãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’é™¤å¤–ï¼‰
                    var code = block.textContent.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    
                    // æ”¹è¡Œã‚’é©åˆ‡ã«å‡¦ç†ï¼ˆNode-REDã«ãƒšãƒ¼ã‚¹ãƒˆæ™‚ã«è¦‹ã‚„ã™ãã™ã‚‹ï¼‰
                    if (block.classList.contains('js-code')) {
                        // JavaScriptã‚³ãƒ¼ãƒ‰ã®å ´åˆã€è¡Œã”ã¨ã«æ”¹è¡Œã‚’ç¶­æŒ
                        code = block.innerText.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    }
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';" title="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ </a>
</body>
</html>
