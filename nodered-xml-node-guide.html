<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED XML ãƒãƒ¼ãƒ‰ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.8; max-width: 1000px; margin: 0 auto; padding: 20px; background-color: #f5f5f5; color: #333; }
        h1 { color: #b92d5d; border-bottom: 3px solid #b92d5d; padding-bottom: 10px; }
        h2 { color: #d33682; margin-top: 40px; border-left: 5px solid #d33682; padding-left: 15px; }
        h3 { color: #555; margin-top: 25px; }
        .container { background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .node-example { background-color: #2d3133; padding: 20px; border-radius: 5px; margin: 20px 0; color: white; font-family: 'Courier New', monospace; display: flex; align-items: center; flex-wrap: wrap; gap: 5px; }
        .node { display: inline-block; padding: 8px 15px; border-radius: 4px; margin: 5px; font-weight: bold; font-size: 14px; }
        .node-inject { background-color: #3fadb5; color: white; }
        .node-debug { background-color: #87a48d; color: white; }
        .node-function { background-color: #e8a658; color: white; }
        .node-xml { background-color: #ffe4c4; color: #333; }
        .node-template { background-color: #d4b8a0; color: #333; }
        .arrow { color: #999; font-size: 20px; margin: 0 10px; }
        .important { background-color: #fce4ec; border-left: 4px solid #b92d5d; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .tip { background-color: #e8f5e9; border-left: 4px solid #4caf50; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .warning { background-color: #fff3e0; border-left: 4px solid #ff9800; padding: 15px; margin: 20px 0; border-radius: 0 5px 5px 0; }
        .code-block { background-color: #2d3133; color: #f8f8f2; padding: 15px; border-radius: 5px; margin: 15px 0; overflow-x: auto; font-family: 'Courier New', Consolas, monospace; font-size: 14px; white-space: pre; }
        .flow-json { background-color: #1a1a2e; color: #a6e22e; padding: 15px; border-radius: 5px; font-family: 'Courier New', Consolas, monospace; font-size: 12px; overflow-x: auto; white-space: pre; position: relative; max-height: 400px; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background-color: #b92d5d; color: white; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .exercise { background-color: #e3f2fd; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #2196f3; }
        .exercise h3 { color: #1976d2; margin-top: 0; }
        .difficulty { display: inline-block; padding: 3px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; margin-left: 10px; }
        .difficulty-easy { background-color: #c8e6c9; color: #2e7d32; }
        .difficulty-medium { background-color: #fff9c4; color: #f57f17; }
        .difficulty-hard { background-color: #ffcdd2; color: #c62828; }
        details { background-color: #f5f5f5; padding: 10px 15px; border-radius: 5px; margin: 10px 0; }
        details summary { cursor: pointer; font-weight: bold; color: #1976d2; }
        details[open] summary { margin-bottom: 10px; }
        .toc { background-color: #fafafa; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin: 20px 0; }
        .toc h3 { margin-top: 0; color: #b92d5d; }
        .toc ul { list-style: none; padding-left: 0; }
        .toc li { padding: 5px 0; }
        .toc a { color: #1976d2; text-decoration: none; }
        .toc a:hover { text-decoration: underline; }
        .copy-btn { position: absolute; top: 5px; right: 5px; background-color: #666; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 12px; }
        .copy-btn:hover { background-color: #888; }
        .compare-box { display: flex; gap: 20px; flex-wrap: wrap; }
        .compare-item { flex: 1; min-width: 300px; background: #f9f9f9; padding: 15px; border-radius: 8px; }
        .compare-item h4 { margin-top: 0; color: #1976d2; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ Node-RED XML ãƒãƒ¼ãƒ‰å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <div class="toc">
            <h3>ğŸ“š ç›®æ¬¡</h3>
            <ul>
                <li><a href="#section1">1. æ¦‚è¦</a></li>
                <li><a href="#section2">2. è¨­å®šè©³ç´°</a></li>
                <li><a href="#section3">3. å¤‰æ›ãƒ«ãƒ¼ãƒ«</a></li>
                <li><a href="#section4">4. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</a></li>                <li><a href="#section5">5. æ¼”ç¿’å•é¡Œ</a></li>
                <li><a href="#section6">6. ã¾ã¨ã‚</a></li>
                <li><a href="#section7">7. å®Ÿå‹™æ´»ç”¨ä¾‹</a></li>
            </ul>
        </div>
        
        <h2 id="section1">ğŸ“– 1. æ¦‚è¦</h2>
        
        <p><strong>XML ãƒãƒ¼ãƒ‰</strong>ã¯ã€XMLæ–‡å­—åˆ—ã¨JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç›¸äº’å¤‰æ›ã™ã‚‹ãƒãƒ¼ãƒ‰ã§ã™ã€‚XMLå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†APIã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã®é€£æºã«ä½¿ç”¨ã—ã¾ã™ã€‚</p>
        
        <p>ğŸ“š <strong>ç¿»è¨³è€…ã«ä¾‹ãˆã‚‹ã¨</strong>ï¼šXML ãƒãƒ¼ãƒ‰ã¯2ã¤ã®è¨€èªï¼ˆXMLå½¢å¼ã¨JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ï¼‰ã‚’ç›¸äº’ã«ç¿»è¨³ã™ã‚‹é€šè¨³è€…ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã©ã¡ã‚‰ã®å½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ã¦ã‚‚ã€ã‚‚ã†ä¸€æ–¹ã®å½¢å¼ã«å¤‰æ›ã—ã¦ãã‚Œã¾ã™ã€‚</p>
        
        <div class="node-example">
            <span class="node node-template">XMLæ–‡å­—åˆ—</span>
            <span class="arrow">â†’</span>
            <span class="node node-xml">XML</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li>å…¥åŠ›ãŒXMLæ–‡å­—åˆ— â†’ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›</li>
                <li>å…¥åŠ›ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â†’ XMLæ–‡å­—åˆ—ã«å¤‰æ›</li>
                <li>è‡ªå‹•ã§å¤‰æ›æ–¹å‘ã‚’åˆ¤å®š</li>
                <li>å±æ€§ã‚„ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã‚‚é©åˆ‡ã«å‡¦ç†</li>
            </ul>
        </div>
        
        <h2 id="section2">âš™ï¸ 2. è¨­å®šè©³ç´°</h2>
        
        <h3>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</h3>
        <table>
            <tr><th>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</th><th>èª¬æ˜</th><th>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</th></tr>
            <tr><td><strong>Property</strong></td><td>å¤‰æ›å¯¾è±¡ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</td><td>msg.payload</td></tr>
            <tr><td><strong>Attribute prefix</strong></td><td>å±æ€§ã‚’è¡¨ã™ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹</td><td>ç©º</td></tr>
            <tr><td><strong>Text content</strong></td><td>ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã®ã‚­ãƒ¼å</td><td>ç©º</td></tr>
        </table>
        
        <h2 id="section3">ğŸ”„ 3. å¤‰æ›ãƒ«ãƒ¼ãƒ«</h2>
        
        <h3>XML â†’ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰æ›</h3>
        <div class="compare-box">
            <div class="compare-item">
                <h4>å…¥åŠ›ï¼ˆXMLï¼‰</h4>
                <div class="code-block">&lt;person id="1"&gt;
  &lt;name&gt;ç”°ä¸­å¤ªéƒ&lt;/name&gt;
  &lt;age&gt;30&lt;/age&gt;
&lt;/person&gt;</div>
            </div>
            <div class="compare-item">
                <h4>å‡ºåŠ›ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰</h4>
                <div class="code-block">{
  "person": {
    "$": { "id": "1" },
    "name": ["ç”°ä¸­å¤ªéƒ"],
    "age": ["30"]
  }
}</div>
            </div>
        </div>
        
        <h3>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â†’ XMLå¤‰æ›</h3>
        <div class="compare-box">
            <div class="compare-item">
                <h4>å…¥åŠ›ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰</h4>
                <div class="code-block">{
  "book": {
    "$": { "isbn": "123" },
    "title": "Node-REDå…¥é–€",
    "price": 2000
  }
}</div>
            </div>
            <div class="compare-item">
                <h4>å‡ºåŠ›ï¼ˆXMLï¼‰</h4>
                <div class="code-block">&lt;?xml version="1.0"?&gt;
&lt;book isbn="123"&gt;
  &lt;title&gt;Node-REDå…¥é–€&lt;/title&gt;
  &lt;price&gt;2000&lt;/price&gt;
&lt;/book&gt;</div>
            </div>
        </div>
        
        <h3>å±æ€§ã¨ãƒ†ã‚­ã‚¹ãƒˆã®è¡¨ç¾</h3>
        <table>
            <tr><th>XMLè¦ç´ </th><th>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¾</th></tr>
            <tr><td>å±æ€§ <code>&lt;tag attr="value"&gt;</code></td><td><code>{ "$": { "attr": "value" } }</code></td></tr>
            <tr><td>ãƒ†ã‚­ã‚¹ãƒˆ <code>&lt;tag&gt;text&lt;/tag&gt;</code></td><td><code>{ "tag": ["text"] }</code> ã¾ãŸã¯ <code>{ "_": "text" }</code></td></tr>
            <tr><td>å±æ€§+ãƒ†ã‚­ã‚¹ãƒˆ</td><td><code>{ "$": { "attr": "v" }, "_": "text" }</code></td></tr>
        </table>
        
        <h2 id="section4">ğŸ”§ 4. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        <div class="important">
            <p><strong>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹æ³•:</strong></p>
            <ol>
                <li>ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONã‚’ã‚³ãƒ”ãƒ¼</li>
                <li>Node-REDã‚¨ãƒ‡ã‚£ã‚¿ã§ <strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ èª­ã¿è¾¼ã¿</strong> ã‚’é¸æŠ</li>
                <li>JSONã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã€Œèª­ã¿è¾¼ã¿ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
            <p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>

        
        <details>
            <summary>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <div class="flow-json">[
    {
        "id": "xml_sample_tab",
        "type": "tab",
        "label": "XML ã‚µãƒ³ãƒ—ãƒ«",
        "disabled": false,
        "info": ""
    },
    {
        "id": "xml_comment1",
        "type": "comment",
        "z": "xml_sample_tab",
        "name": "â”â”â” XML â†’ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰æ› â”â”â”",
        "info": "",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "xml_inject1",
        "type": "inject",
        "z": "xml_sample_tab",
        "name": "å®Ÿè¡Œ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 100,
        "wires": [["xml_template1"]]
    },
    {
        "id": "xml_template1",
        "type": "template",
        "z": "xml_sample_tab",
        "name": "XMLæ–‡å­—åˆ—",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<catalog>\n  <book id=\"001\">\n    <title>Node-REDå…¥é–€</title>\n    <author>å±±ç”°å¤ªéƒ</author>\n    <price currency=\"JPY\">2500</price>\n  </book>\n  <book id=\"002\">\n    <title>IoTå®Ÿè·µã‚¬ã‚¤ãƒ‰</title>\n    <author>éˆ´æœ¨èŠ±å­</author>\n    <price currency=\"JPY\">3000</price>\n  </book>\n</catalog>",
        "output": "str",
        "x": 290,
        "y": 100,
        "wires": [["xml_parse"]]
    },
    {
        "id": "xml_parse",
        "type": "xml",
        "z": "xml_sample_tab",
        "name": "XMLâ†’Obj",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 450,
        "y": 100,
        "wires": [["xml_debug1"]]
    },
    {
        "id": "xml_debug1",
        "type": "debug",
        "z": "xml_sample_tab",
        "name": "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 620,
        "y": 100,
        "wires": []
    },
    {
        "id": "xml_comment2",
        "type": "comment",
        "z": "xml_sample_tab",
        "name": "â”â”â” ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â†’ XMLå¤‰æ› â”â”â”",
        "info": "",
        "x": 180,
        "y": 180,
        "wires": []
    },
    {
        "id": "xml_inject2",
        "type": "inject",
        "z": "xml_sample_tab",
        "name": "å®Ÿè¡Œ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 240,
        "wires": [["xml_func1"]]
    },
    {
        "id": "xml_func1",
        "type": "function",
        "z": "xml_sample_tab",
        "name": "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ",
        "func": "msg.payload = {\n    \"order\": {\n        \"$\": { \"id\": \"ORD-001\" },\n        \"customer\": \"ç”°ä¸­å•†åº—\",\n        \"items\": {\n            \"item\": [\n                { \"name\": \"å•†å“A\", \"qty\": \"2\" },\n                { \"name\": \"å•†å“B\", \"qty\": \"1\" }\n            ]\n        },\n        \"total\": \"5000\"\n    }\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 240,
        "wires": [["xml_build"]]
    },
    {
        "id": "xml_build",
        "type": "xml",
        "z": "xml_sample_tab",
        "name": "Objâ†’XML",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 470,
        "y": 240,
        "wires": [["xml_debug2"]]
    },
    {
        "id": "xml_debug2",
        "type": "debug",
        "z": "xml_sample_tab",
        "name": "XMLå‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 620,
        "y": 240,
        "wires": []
    },
    {
        "id": "xml_comment3",
        "type": "comment",
        "z": "xml_sample_tab",
        "name": "â”â”â” ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã®ä¾‹ â”â”â”",
        "info": "",
        "x": 160,
        "y": 320,
        "wires": []
    },
    {
        "id": "xml_inject3",
        "type": "inject",
        "z": "xml_sample_tab",
        "name": "å®Ÿè¡Œ",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 380,
        "wires": [["xml_template2"]]
    },
    {
        "id": "xml_template2",
        "type": "template",
        "z": "xml_sample_tab",
        "name": "ã‚»ãƒ³ã‚µãƒ¼XML",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "<sensors>\n  <sensor id=\"temp01\" type=\"temperature\">\n    <value unit=\"celsius\">25.5</value>\n    <timestamp>2024-01-15T10:30:00</timestamp>\n  </sensor>\n  <sensor id=\"hum01\" type=\"humidity\">\n    <value unit=\"percent\">60</value>\n    <timestamp>2024-01-15T10:30:00</timestamp>\n  </sensor>\n</sensors>",
        "output": "str",
        "x": 290,
        "y": 380,
        "wires": [["xml_parse2"]]
    },
    {
        "id": "xml_parse2",
        "type": "xml",
        "z": "xml_sample_tab",
        "name": "XMLâ†’Obj",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 450,
        "y": 380,
        "wires": [["xml_func2"]]
    },
    {
        "id": "xml_func2",
        "type": "function",
        "z": "xml_sample_tab",
        "name": "æ¸©åº¦æŠ½å‡º",
        "func": "// ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æ¸©åº¦ã‚’æŠ½å‡º\nvar sensors = msg.payload.sensors.sensor;\nvar tempSensor = sensors.find(s => s.$.type === \"temperature\");\n\nmsg.payload = {\n    sensorId: tempSensor.$.id,\n    value: parseFloat(tempSensor.value[0]._),\n    unit: tempSensor.value[0].$.unit,\n    timestamp: tempSensor.timestamp[0]\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 380,
        "wires": [["xml_debug3"]]
    },
    {
        "id": "xml_debug3",
        "type": "debug",
        "z": "xml_sample_tab",
        "name": "æ¸©åº¦ãƒ‡ãƒ¼ã‚¿",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.value",
        "statusType": "msg",
        "x": 770,
        "y": 380,
        "wires": []
    }
]</div>
        </details>
        
        
        <h3>ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: XML â†’ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰æ›</h3>
        <p>ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã€ŒXML â†’ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå¤‰æ›ã€ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
        <div class="node-example">
            <span class="node node-template">XMLæ–‡å­—åˆ—</span>
            <span class="arrow">â†’</span>
            <span class="node node-xml">XMLâ†’Obj</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</span>
        </div>
        <p><strong>ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
        <ul>
            <li>å±æ€§ã¯ <code>$</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ ¼ç´ã•ã‚Œã‚‹</li>
            <li>ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã¯ <code>_</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ ¼ç´ã•ã‚Œã‚‹</li>
        </ul>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â†’ XMLå¤‰æ›</h3>
        <p>ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã€Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ â†’ XMLå¤‰æ›ã€ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
        <div class="node-example">
            <span class="node node-function">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ</span>
            <span class="arrow">â†’</span>
            <span class="node node-xml">Objâ†’XML</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">XMLæ–‡å­—åˆ—</span>
        </div>
        <p><strong>ãƒã‚¤ãƒ³ãƒˆ:</strong> å±æ€§ã‚’ã¤ã‘ã‚‹å ´åˆã¯ <code>$</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨</p>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã®ä¾‹</h3>
        <p>ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã€Œãƒ‡ãƒ¼ã‚¿æŠ½å‡ºã®ä¾‹ã€ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>
        <div class="node-example">
            <span class="node node-template">ã‚»ãƒ³ã‚µãƒ¼XML</span>
            <span class="arrow">â†’</span>
            <span class="node node-xml">XMLâ†’Obj</span>
            <span class="arrow">â†’</span>
            <span class="node node-function">æ¸©åº¦æŠ½å‡º</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">æ¸©åº¦ãƒ‡ãƒ¼ã‚¿</span>
        </div>
        <p><strong>ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
        <ul>
            <li><code>find()</code> ã§ç‰¹å®šã®è¦ç´ ã‚’æ¤œç´¢</li>
            <li>å±æ€§ã‚¢ã‚¯ã‚»ã‚¹: <code>element.$.type</code></li>
            <li>ãƒ†ã‚­ã‚¹ãƒˆå€¤: <code>element.value[0]._</code></li>
        </ul>
        
        <h2 id="section5">ğŸ“ 5. æ¼”ç¿’å•é¡Œ</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªXMLå¤‰æ› <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> ã‚·ãƒ³ãƒ—ãƒ«ãªXMLæ–‡å­—åˆ—ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>Template ãƒãƒ¼ãƒ‰ã§XMLæ–‡å­—åˆ—ã‚’ä½œæˆã—ã€XML ãƒãƒ¼ãƒ‰ã§å¤‰æ›ã—ã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex1_tab", "type": "tab", "label": "æ¼”ç¿’1"},
    {"id": "ex1_inject", "type": "inject", "z": "ex1_tab", "name": "å®Ÿè¡Œ", "props": [], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "x": 130, "y": 100, "wires": [["ex1_template"]]},
    {"id": "ex1_template", "type": "template", "z": "ex1_tab", "name": "XML", "field": "payload", "fieldType": "msg", "format": "text", "syntax": "plain", "template": "<user><name>å±±ç”°å¤ªéƒ</name><email><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f28b939f939693b2978a939f829e97dc919d9f">[email&#160;protected]</a></email></user>", "output": "str", "x": 270, "y": 100, "wires": [["ex1_xml"]]},
    {"id": "ex1_xml", "type": "xml", "z": "ex1_tab", "name": "XMLâ†’Obj", "property": "payload", "attr": "", "chr": "", "x": 410, "y": 100, "wires": [["ex1_debug"]]},
    {"id": "ex1_debug", "type": "debug", "z": "ex1_tab", "name": "çµæœ", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 550, "y": 100, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰XMLç”Ÿæˆ <span class="difficulty difficulty-easy">åˆç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰XMLæ–‡å­—åˆ—ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>Function ãƒãƒ¼ãƒ‰ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€XML ãƒãƒ¼ãƒ‰ã§å¤‰æ›ã—ã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex2_tab", "type": "tab", "label": "æ¼”ç¿’2"},
    {"id": "ex2_inject", "type": "inject", "z": "ex2_tab", "name": "å®Ÿè¡Œ", "props": [], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "x": 130, "y": 100, "wires": [["ex2_func"]]},
    {"id": "ex2_func", "type": "function", "z": "ex2_tab", "name": "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ", "func": "msg.payload = {\n    \"product\": {\n        \"name\": \"ãƒãƒ¼ãƒˆPC\",\n        \"price\": \"98000\",\n        \"stock\": \"15\"\n    }\n};\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 280, "y": 100, "wires": [["ex2_xml"]]},
    {"id": "ex2_xml", "type": "xml", "z": "ex2_tab", "name": "Objâ†’XML", "property": "payload", "attr": "", "chr": "", "x": 430, "y": 100, "wires": [["ex2_debug"]]},
    {"id": "ex2_debug", "type": "debug", "z": "ex2_tab", "name": "XMLå‡ºåŠ›", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 580, "y": 100, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: å±æ€§ä»˜ãXMLã®å‡¦ç† <span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> å±æ€§ã‚’æŒã¤XMLã‚’è§£æã—ã€å±æ€§å€¤ã‚’å–å¾—ã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>å±æ€§ã¯ <code>$</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ ¼ç´ã•ã‚Œã¾ã™ã€‚ä¾‹: <code>msg.payload.tag.$.attrName</code></p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex3_tab", "type": "tab", "label": "æ¼”ç¿’3"},
    {"id": "ex3_inject", "type": "inject", "z": "ex3_tab", "name": "å®Ÿè¡Œ", "props": [], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "x": 130, "y": 100, "wires": [["ex3_template"]]},
    {"id": "ex3_template", "type": "template", "z": "ex3_tab", "name": "å±æ€§ä»˜ãXML", "field": "payload", "fieldType": "msg", "format": "text", "syntax": "plain", "template": "<item id=\"ITM001\" category=\"electronics\">\n  <name>ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³</name>\n  <price currency=\"JPY\">50000</price>\n</item>", "output": "str", "x": 290, "y": 100, "wires": [["ex3_xml"]]},
    {"id": "ex3_xml", "type": "xml", "z": "ex3_tab", "name": "XMLâ†’Obj", "property": "payload", "attr": "", "chr": "", "x": 450, "y": 100, "wires": [["ex3_func"]]},
    {"id": "ex3_func", "type": "function", "z": "ex3_tab", "name": "å±æ€§æŠ½å‡º", "func": "var item = msg.payload.item;\nmsg.payload = {\n    id: item.$.id,\n    category: item.$.category,\n    name: item.name[0],\n    price: item.price[0]._,\n    currency: item.price[0].$.currency\n};\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 600, "y": 100, "wires": [["ex3_debug"]]},
    {"id": "ex3_debug", "type": "debug", "z": "ex3_tab", "name": "æŠ½å‡ºçµæœ", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 750, "y": 100, "wires": []}
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: å±æ€§ä»˜ãXMLã®ç”Ÿæˆ <span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            <p><strong>ğŸ“‹ èª²é¡Œ:</strong> å±æ€§ã‚’æŒã¤XMLã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚</p>
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p>å±æ€§ã‚’è¨­å®šã™ã‚‹ã«ã¯ <code>"$": { "attrName": "value" }</code> å½¢å¼ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</p>
            </details>
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {"id": "ex4_tab", "type": "tab", "label": "æ¼”ç¿’4"},
    {"id": "ex4_inject", "type": "inject", "z": "ex4_tab", "name": "å®Ÿè¡Œ", "props": [], "repeat": "", "crontab": "", "once": false, "onceDelay": 0.1, "topic": "", "x": 130, "y": 100, "wires": [["ex4_func"]]},
    {"id": "ex4_func", "type": "function", "z": "ex4_tab", "name": "å±æ€§ä»˜ãObj", "func": "msg.payload = {\n    \"response\": {\n        \"$\": { \"status\": \"success\", \"code\": \"200\" },\n        \"data\": {\n            \"user\": {\n                \"$\": { \"id\": \"U001\" },\n                \"name\": \"ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼\"\n            }\n        }\n    }\n};\nreturn msg;", "outputs": 1, "timeout": 0, "noerr": 0, "initialize": "", "finalize": "", "libs": [], "x": 290, "y": 100, "wires": [["ex4_xml"]]},
    {"id": "ex4_xml", "type": "xml", "z": "ex4_tab", "name": "Objâ†’XML", "property": "payload", "attr": "", "chr": "", "x": 450, "y": 100, "wires": [["ex4_debug"]]},
    {"id": "ex4_debug", "type": "debug", "z": "ex4_tab", "name": "XMLå‡ºåŠ›", "active": true, "tosidebar": true, "console": false, "tostatus": false, "complete": "payload", "targetType": "msg", "x": 600, "y": 100, "wires": []}
]</div>
            </details>
        </div>
        
        <h2 id="section6">âœ… 6. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <p><strong>ğŸ¯ é‡è¦ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li>XMLæ–‡å­—åˆ— â†” ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç›¸äº’å¤‰æ›</li>
                <li>å±æ€§ã¯ <code>$</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§è¡¨ç¾</li>
                <li>ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ <code>_</code> ã¾ãŸã¯é…åˆ—ã§è¡¨ç¾</li>
                <li>å…¥åŠ›å½¢å¼ã‚’è‡ªå‹•åˆ¤å®šã—ã¦å¤‰æ›æ–¹å‘ã‚’æ±ºå®š</li>
            </ul>
        </div>
        
        <div class="warning">
            <p><strong>âš ï¸ æ³¨æ„äº‹é …:</strong></p>
            <ul>
                <li>ä¸æ­£ãªXMLã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ï¼ˆäº‹å‰ã«Catchè¨­ç½®ã‚’æ¨å¥¨ï¼‰</li>
                <li>è¦ç´ ã®é †åºã¯ä¿æŒã•ã‚Œãªã„å ´åˆãŒã‚ã‚‹</li>
                <li>åå‰ç©ºé–“ã‚’æŒã¤XMLã¯è¿½åŠ ã®è€ƒæ…®ãŒå¿…è¦</li>
            </ul>
        </div>
        
        <h2 id="section7">ğŸ­ 7. å®Ÿå‹™æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: SOAP APIé€£æº</h3>
        <p>SOAP Webã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€šä¿¡ã§XMLãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å‡¦ç†ã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹2: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†</h3>
        <p>XMLå½¢å¼ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€è¨­å®šå€¤ã‚’ãƒ•ãƒ­ãƒ¼ã§ä½¿ç”¨ã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹3: ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ é€£æº</h3>
        <p>XMLå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿äº¤æ›ã‚’è¡Œã†å¤ã„ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºã€‚</p>
        
        <h3>ã‚±ãƒ¼ã‚¹4: RSS/Atomãƒ•ã‚£ãƒ¼ãƒ‰å‡¦ç†</h3>
        <p>RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’è§£æã—ã¦æœ€æ–°è¨˜äº‹ã‚’å–å¾—ãƒ»è¡¨ç¤ºã€‚</p>
        
        <p style="margin-top: 40px;"><a href="https://nodered.org/docs/" target="_blank">ğŸ“š Node-RED å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></p>
    </div>
    
    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        document.querySelectorAll('.flow-json').forEach(function(block) {
            var btn = document.createElement('button');
            btn.className = 'copy-btn';
            btn.textContent = 'ã‚³ãƒ”ãƒ¼';
            btn.onclick = function() {
                navigator.clipboard.writeText(block.textContent).then(function() {
                    btn.textContent = 'ã‚³ãƒ”ãƒ¼å®Œäº†!';
                    setTimeout(function() { btn.textContent = 'ã‚³ãƒ”ãƒ¼'; }, 2000);
                });
            };
            block.style.position = 'relative';
            block.appendChild(btn);
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style