<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Changeãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .node-switch {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-template {
            background-color: #d4b8a0;
            color: #333;
        }
        
        .node-http-request {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-mqtt-in {
            background-color: #d0a0c0;
            color: #333;
        }
        
        .node-json {
            background-color: #c9e7d4;
            color: #333;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            white-space: pre-wrap;
        }
        
        .js-code {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border: none;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            position: relative;
            white-space: pre;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .copy-button svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #e7a070;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #e7a070;
            margin-top: 0;
        }
        
        .mode-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-set {
            background-color: #28a745;
            color: white;
        }
        
        .badge-change {
            background-color: #17a2b8;
            color: white;
        }
        
        .badge-delete {
            background-color: #dc3545;
            color: white;
        }
        
        .badge-move {
            background-color: #6f42c1;
            color: white;
        }
        
        .data-flow {
            background-color: #f0f0f0;
            border: 2px dashed #999;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .data-flow .before {
            background-color: #ffcccc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .after {
            background-color: #ccffcc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .arrow-down {
            display: block;
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
        
        .value-type {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin: 2px;
        }
        
        .type-str {
            background-color: #a6e22e;
            color: #333;
        }
        
        .type-num {
            background-color: #66d9ef;
            color: #333;
        }
        
        .type-bool {
            background-color: #f92672;
            color: white;
        }
        
        .type-json {
            background-color: #fd971f;
            color: #333;
        }
        
        .type-msg {
            background-color: #ae81ff;
            color: white;
        }
        
        .type-flow {
            background-color: #e6db74;
            color: #333;
        }
        
        .type-global {
            background-color: #f8f8f2;
            color: #333;
        }
        
        .type-env {
            background-color: #75715e;
            color: white;
        }
        
        .type-jsonata {
            background-color: #ff6188;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ Node-RED Changeãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Changeãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Changeãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€ŒChangeã€ã£ã¦ä½•?</h3>
        <p>
            Changeãƒãƒ¼ãƒ‰ã¯ã€<strong>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å¤‰æ›´ãƒ»è¨­å®šãƒ»å‰Šé™¤ãƒ»ç§»å‹•ã™ã‚‹</strong>ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>éƒµä¾¿ç‰©ã®å®›åæ›¸ãæ›ãˆã‚„è»¢é€ã‚µãƒ¼ãƒ“ã‚¹</strong>ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
        </p>
        
        <div class="important">
            <p><strong>ğŸ“® éƒµä¾¿å±€ã®ä»•åˆ†ã‘ä½œæ¥­ã«ä¾‹ãˆã‚‹ã¨:</strong></p>
            <ul>
                <li>âœï¸ <strong>å®›åã‚’æ›¸ãæ›ãˆã‚‹</strong> = ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã‚’è¨­å®šï¼ˆSetï¼‰</li>
                <li>ğŸ”„ <strong>å†…å®¹ã‚’åˆ¥ã®å°ç­’ã«ç§»ã™</strong> = ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç§»å‹•ï¼ˆMoveï¼‰</li>
                <li>ğŸ—‘ï¸ <strong>ä¸è¦ãªæ›¸é¡ã‚’ç ´æ£„</strong> = ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‰Šé™¤ï¼ˆDeleteï¼‰</li>
                <li>ğŸ“ <strong>ä¸€éƒ¨ã®æ–‡å­—ã‚’ä¿®æ­£</strong> = å€¤ã‚’ç½®æ›ï¼ˆChangeï¼‰</li>
            </ul>
        </div>
        
        <h3>ğŸ“¦ åŸºæœ¬çš„ãªå‹•ä½œ</h3>
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p>
            Changeãƒãƒ¼ãƒ‰ã¯ã€å…¥åŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚Šã€æŒ‡å®šã—ãŸãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦
            <strong>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å¤‰æ›´</strong>ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
            Functionãƒãƒ¼ãƒ‰ã‚’ä½¿ã‚ãšã«ã€ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ãƒ¼ã‚¿æ“ä½œãŒå¯èƒ½ã§ã™ã€‚
        </p>
        
        <div class="data-flow">
            <div class="before">
                <strong>å…¥åŠ›</strong><br>
                msg.payload = 1702345678901<br>
                <small>(ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—)</small>
            </div>
            <span class="arrow-down">â†“ Change â†“</span>
            <div class="after">
                <strong>å‡ºåŠ›</strong><br>
                msg.payload = "Hello World!"<br>
                <small>(æ–‡å­—åˆ—ã«å¤‰æ›´)</small>
            </div>
        </div>
        
        <h2>âš™ï¸ 2. Changeãƒãƒ¼ãƒ‰ã®4ã¤ã®æ“ä½œ</h2>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-set">Set</span> å€¤ã®ä»£å…¥</h4>
                <p>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«æ–°ã—ã„å€¤ã‚’è¨­å®š</p>
                <div class="code-block">msg.payload = "Hello World!"
msg.topic = "greeting"</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-change">Change</span> å€¤ã®ç½®æ›</h4>
                <p>æ–‡å­—åˆ—ã®ä¸€éƒ¨ã‚’æ¤œç´¢ã—ã¦ç½®æ›</p>
                <div class="code-block">"Hello" â†’ "Hi"
æ­£è¦è¡¨ç¾ã‚‚ä½¿ç”¨å¯èƒ½</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-delete">Delete</span> å€¤ã®å‰Šé™¤</h4>
                <p>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®Œå…¨ã«å‰Šé™¤</p>
                <div class="code-block">delete msg.payload
delete msg._msgid</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-move">Move</span> å€¤ã®ç§»å‹•</h4>
                <p>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’åˆ¥ã®å ´æ‰€ã«ç§»å‹•</p>
                <div class="code-block">msg.topic â†’ msg.payload
(å…ƒã®topicã¯å‰Šé™¤ã•ã‚Œã‚‹)</div>
            </div>
        </div>
        
        <h3>ğŸ“‹ è¨­å®šé …ç›®ä¸€è¦§</h3>
        
        <table>
            <tr>
                <th>è¨­å®šé …ç›®</th>
                <th>èª¬æ˜</th>
                <th>ä½¿ç”¨ä¾‹</th>
            </tr>
            <tr>
                <td><strong>æ“ä½œã‚¿ã‚¤ãƒ—</strong></td>
                <td>Set/Change/Delete/Moveã‹ã‚‰é¸æŠ</td>
                <td>ä»£å…¥ã€ç½®æ›ã€å‰Šé™¤ã€ç§»å‹•</td>
            </tr>
            <tr>
                <td><strong>å¯¾è±¡ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</strong></td>
                <td>æ“ä½œå¯¾è±¡ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒ‡å®š</td>
                <td>msg.payload, flow.count</td>
            </tr>
            <tr>
                <td><strong>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¿ã‚¤ãƒ—</strong></td>
                <td>msg/flow/global ã‹ã‚‰é¸æŠ</td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ãƒ•ãƒ­ãƒ¼å¤‰æ•°ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°</td>
            </tr>
            <tr>
                <td><strong>å€¤</strong></td>
                <td>è¨­å®šã™ã‚‹å€¤ï¼ˆSetã®å ´åˆï¼‰</td>
                <td>"Hello", 123, true</td>
            </tr>
            <tr>
                <td><strong>å€¤ã®ã‚¿ã‚¤ãƒ—</strong></td>
                <td>å€¤ã®å‹ã‚’æŒ‡å®š</td>
                <td>æ–‡å­—åˆ—ã€æ•°å€¤ã€JSONataç­‰</td>
            </tr>
            <tr>
                <td><strong>æ¤œç´¢æ–‡å­—åˆ—</strong></td>
                <td>ç½®æ›å¯¾è±¡ï¼ˆChangeã®å ´åˆï¼‰</td>
                <td>"old", /pattern/g</td>
            </tr>
            <tr>
                <td><strong>ç½®æ›æ–‡å­—åˆ—</strong></td>
                <td>ç½®æ›å¾Œã®å€¤ï¼ˆChangeã®å ´åˆï¼‰</td>
                <td>"new"</td>
            </tr>
            <tr>
                <td><strong>ç§»å‹•å…ˆ</strong></td>
                <td>ç§»å‹•å…ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆMoveã®å ´åˆï¼‰</td>
                <td>msg.data, msg.result</td>
            </tr>
        </table>
        
        <h3>ğŸ¯ å€¤ã®ã‚¿ã‚¤ãƒ—ä¸€è¦§</h3>
        
        <p>Changeãƒãƒ¼ãƒ‰ã®ã€ŒSetã€æ“ä½œã§ã¯ã€æ§˜ã€…ãªã‚¿ã‚¤ãƒ—ã®å€¤ã‚’è¨­å®šã§ãã¾ã™ã€‚</p>
        
        <table>
            <tr>
                <th>ã‚¿ã‚¤ãƒ—</th>
                <th>èª¬æ˜</th>
                <th>ä¾‹</th>
            </tr>
            <tr>
                <td><span class="value-type type-str">str</span></td>
                <td>æ–‡å­—åˆ—</td>
                <td>"Hello World!"</td>
            </tr>
            <tr>
                <td><span class="value-type type-num">num</span></td>
                <td>æ•°å€¤</td>
                <td>123, 3.14</td>
            </tr>
            <tr>
                <td><span class="value-type type-bool">bool</span></td>
                <td>çœŸå½å€¤</td>
                <td>true, false</td>
            </tr>
            <tr>
                <td><span class="value-type type-json">JSON</span></td>
                <td>JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</td>
                <td>{"name": "Alice", "age": 30}</td>
            </tr>
            <tr>
                <td><span class="value-type type-msg">msg.</span></td>
                <td>ä»–ã®msgãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤</td>
                <td>msg.topic, msg.payload.name</td>
            </tr>
            <tr>
                <td><span class="value-type type-flow">flow.</span></td>
                <td>ãƒ•ãƒ­ãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ•°</td>
                <td>flow.count, flow.config</td>
            </tr>
            <tr>
                <td><span class="value-type type-global">global.</span></td>
                <td>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ•°</td>
                <td>global.settings</td>
            </tr>
            <tr>
                <td><span class="value-type type-env">env</span></td>
                <td>ç’°å¢ƒå¤‰æ•°</td>
                <td>HOME, NODE_ENV</td>
            </tr>
            <tr>
                <td><span class="value-type type-jsonata">JSONata</span></td>
                <td>JSONataå¼ã§å‹•çš„ã«è¨ˆç®—</td>
                <td>payload & ", World!"</td>
            </tr>
        </table>
        
        <h2>ğŸ¯ 3. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <div class="important">
            <p><strong>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹æ³•:</strong></p>
            <ol>
                <li>ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONã‚’ã‚³ãƒ”ãƒ¼</li>
                <li>Node-REDã‚¨ãƒ‡ã‚£ã‚¿ã§ <strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ èª­ã¿è¾¼ã¿</strong> ã‚’é¸æŠ</li>
                <li>JSONã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã€Œèª­ã¿è¾¼ã¿ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
            <p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>
        
        <details>
            <summary>ğŸ“‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <p style="margin: 10px 0; color: #666;"><small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small></p>
            <div class="flow-json">
[
    {
        "id": "9feb177422142bb3",
        "type": "tab",
        "label": "change",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "87bd706a.aec93",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Set message property to a fixed value",
        "info": "Change node can set value to message payload.\n\nSee Node-RED cookbook [item](https://cookbook.nodered.org/basic/set-message-property-fixed).",
        "x": 270,
        "y": 120,
        "wires": []
    },
    {
        "id": "ac4c748f.fd1bc8",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 180,
        "wires": [
            [
                "67974c84.7ca2c4"
            ]
        ]
    },
    {
        "id": "67974c84.7ca2c4",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Hello World!",
                "tot": "str"
            }
        ],
"onlyset": false,
        "x": 440,
        "y": 180,
        "wires": [
            [
                "6b23a342.86d9cc"
            ]
        ]
    },
    {
        "id": "6b23a342.86d9cc",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 650,
        "y": 180,
        "wires": []
    },
    {
        "id": "26e7643f.13ebcc",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Set any property value",
        "info": "Change node can set value to any message property.",
        "x": 220,
        "y": 280,
        "wires": []
    },
    {
        "id": "4da2494d.9aff68",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 340,
        "wires": [
            [
                "5111e689.62e838"
            ]
        ]
    },
    {
        "id": "58ea5868.0596e8",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 340,
        "wires": []
    },
    {
        "id": "5111e689.62e838",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "set payload & topic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Hello, World!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Title",
                "tot": "str"
            }
        ],
"onlyset": false,
        "x": 420,
        "y": 340,
        "wires": [
            [
                "58ea5868.0596e8"
            ]
        ]
    },
    {
        "id": "a9039cda.3649e",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Set value using JSONata",
        "info": "Change node can set value to using JSONata expression.",
        "x": 230,
        "y": 440,
        "wires": []
    },
    {
        "id": "bdcdd579.cfe668",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 500,
        "wires": [
            [
                "28d110a7.ce3e2"
            ]
        ]
    },
    {
        "id": "c6677fa5.8c111",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 500,
        "wires": []
    },
    {
        "id": "28d110a7.ce3e2",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "use JSONata",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Hello",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload & \", World!\"",
                "tot": "jsonata"
            }
        ],
"onlyset": false,
        "x": 400,
        "y": 500,
        "wires": [
            [
                "c6677fa5.8c111"
            ]
        ]
    },
    {
        "id": "e9143349.a64f7",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Set value from environment variable",
        "info": "Change node can set value from environment variable.",
        "x": 260,
        "y": 600,
        "wires": []
    },
    {
        "id": "a7c2725.a631f9",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 660,
        "wires": [
            [
                "e455c302.2f795"
            ]
        ]
    },
    {
        "id": "6f203119.21895",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 660,
        "wires": []
    },
    {
        "id": "e455c302.2f795",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "set env var",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "HOME",
                "tot": "env"
            }
        ],
"onlyset": false,
        "x": 400,
        "y": 660,
        "wires": [
            [
                "6f203119.21895"
            ]
        ]
    },
    {
        "id": "6ecac54d.c43ffc",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Set flow context",
        "info": "Change node can set flow context.",
        "x": 200,
        "y": 760,
        "wires": []
    },
    {
        "id": "80e966d3.9d7a78",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 934,
        "wires": [
            [
                "abaee298.2d77e"
            ]
        ]
    },
    {
        "id": "60ab671d.b0bbf8",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 934,
        "wires": []
    },
    {
        "id": "abaee298.2d77e",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "increment count",
        "rules": [
            {
                "t": "set",
                "p": "count",
                "pt": "flow",
                "to": "$flowContext(\"count\")+1",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "count",
                "tot": "flow"
            }
        ],
"onlyset": false,
        "x": 440,
        "y": 934,
        "wires": [
            [
                "60ab671d.b0bbf8"
            ]
        ]
    },
    {
        "id": "2de2bb38.f20ff4",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 840,
        "wires": [
            [
                "7b96521e.a3cb0c"
            ]
        ]
    },
    {
        "id": "597b63cd.b3218c",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 840,
        "wires": []
    },
    {
        "id": "7b96521e.a3cb0c",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "set count to 0",
        "rules": [
            {
                "t": "set",
                "p": "count",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "count",
                "tot": "flow"
            }
        ],
"onlyset": false,
        "x": 440,
        "y": 840,
        "wires": [
            [
                "597b63cd.b3218c"
            ]
        ]
    },
    {
        "id": "3d8cdc6d.2620e4",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "â†‘ Initialize",
        "info": "",
        "x": 260,
        "y": 800,
        "wires": []
    },
    {
        "id": "d8069121.80de7",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "â†‘ Count up",
        "info": "",
        "x": 260,
        "y": 894,
        "wires": []
    },
    {
        "id": "670fff8d.c60e2",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Delete message property",
        "info": "Change node can delete a message property.\n\nSee Node-RED cookbook [item](https://cookbook.nodered.org/basic/delete-message-property).",
        "x": 230,
        "y": 1020,
        "wires": []
    },
    {
        "id": "6708b393.04895c",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 1080,
        "wires": [
            [
                "d8757f71.765a9"
            ]
        ]
    },
    {
        "id": "d8757f71.765a9",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
"onlyset": false,
        "x": 450,
        "y": 1080,
        "wires": [
            [
                "20c077b.e11c188"
            ]
        ]
    },
    {
        "id": "20c077b.e11c188",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 650,
        "y": 1080,
        "wires": []
    },
    {
        "id": "6e779a3b.4fdc24",
        "type": "comment",
        "z": "9feb177422142bb3",
        "name": "Move message property",
        "info": "Change node can move a message property to a different property.\n\nSee Node-RED cookbook [item](https://cookbook.nodered.org/basic/move-message-property).",
        "x": 230,
        "y": 1180,
        "wires": []
    },
    {
        "id": "bae6cb28.2ac588",
        "type": "inject",
        "z": "9feb177422142bb3",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "Hello",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 1240,
        "wires": [
            [
                "436d3311.248cdc"
            ]
        ]
    },
    {
        "id": "436d3311.248cdc",
        "type": "change",
        "z": "9feb177422142bb3",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
"onlyset": false,
        "x": 460,
        "y": 1240,
        "wires": [
            [
                "7865b104.64061"
            ]
        ]
    },
    {
        "id": "7865b104.64061",
        "type": "debug",
        "z": "9feb177422142bb3",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 650,
        "y": 1240,
        "wires": []
    }
]
            </div>
        </details>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: å›ºå®šå€¤ã®è¨­å®šï¼ˆSetï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å›ºå®šã®å€¤ã‚’è¨­å®š</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(Set)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>Injectãƒãƒ¼ãƒ‰ãŒã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’é€ä¿¡</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§msg.payloadã‚’ "Hello World!" ã«æ›¸ãæ›ãˆ</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§ "Hello World!" ãŒè¡¨ç¤º</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«: å€¤ã®ä»£å…¥
å¯¾è±¡: msg.payload
å€¤: "Hello World!" (æ–‡å­—åˆ—)

å…¥åŠ›: msg.payload = 1702345678901
å‡ºåŠ›: msg.payload = "Hello World!"</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: è¤‡æ•°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åŒæ™‚è¨­å®š</h3>
        <p><strong>ç”¨é€”:</strong> 1ã¤ã®Changeãƒãƒ¼ãƒ‰ã§è¤‡æ•°ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä¸€åº¦ã«è¨­å®š</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(2ãƒ«ãƒ¼ãƒ«)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug<br><small>(å®Œå…¨msg)</small></span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«1: msg.payload = "Hello, World!" (æ–‡å­—åˆ—)
ãƒ«ãƒ¼ãƒ«2: msg.topic = "Title" (æ–‡å­—åˆ—)

å‡ºåŠ›:
  msg.payload = "Hello, World!"
  msg.topic = "Title"</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: JSONataå¼ã§ã®å‹•çš„è¨­å®š</h3>
        <p><strong>ç”¨é€”:</strong> æ—¢å­˜ã®å€¤ã‚’åŠ å·¥ã—ã¦æ–°ã—ã„å€¤ã‚’è¨­å®š</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(JSONata)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ JSONataã®æ´»ç”¨ä¾‹:</strong></p>
            <ul>
                <li><code>payload & ", World!"</code> - æ–‡å­—åˆ—çµåˆ</li>
                <li><code>payload * 2</code> - æ•°å€¤è¨ˆç®—</li>
                <li><code>$now()</code> - ç¾åœ¨æ™‚åˆ»å–å¾—</li>
                <li><code>$uppercase(payload)</code> - å¤§æ–‡å­—å¤‰æ›</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«1: msg.payload = "Hello" (æ–‡å­—åˆ—)
ãƒ«ãƒ¼ãƒ«2: msg.payload = payload & ", World!" (JSONata)

å‡¦ç†: "Hello" + ", World!"
å‡ºåŠ›: msg.payload = "Hello, World!"</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³4: ç’°å¢ƒå¤‰æ•°ã®å–å¾—</h3>
        <p><strong>ç”¨é€”:</strong> ã‚·ã‚¹ãƒ†ãƒ ã®ç’°å¢ƒå¤‰æ•°ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¨­å®š</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(env)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«: å€¤ã®ä»£å…¥
å¯¾è±¡: msg.payload
å€¤: HOME (ç’°å¢ƒå¤‰æ•°)

å‡ºåŠ›: msg.payload = "/home/pi" (Raspberry Piã®å ´åˆ)</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³5: ãƒ•ãƒ­ãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®æ“ä½œ</h3>
        <p><strong>ç”¨é€”:</strong> ãƒ•ãƒ­ãƒ¼å†…ã§å…±æœ‰ã™ã‚‹å¤‰æ•°ã®è¨­å®šãƒ»å‚ç…§</p>
        
        <div class="node-example">
            <span class="node node-inject">åˆæœŸåŒ–</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(count=0)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
            <br><br>
            <span class="node node-inject">ã‚«ã‚¦ãƒ³ãƒˆ</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(count+1)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å®Ÿè£…:</strong></p>
            <ol>
                <li>åˆæœŸåŒ–: flow.count ã‚’ 0 ã«è¨­å®š</li>
                <li>ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—: JSONataã§ <code>$flowContext("count")+1</code></li>
                <li>çµæœã‚’msg.payloadã«ä»£å…¥ã—ã¦å‡ºåŠ›</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹ï¼ˆåˆæœŸåŒ–ï¼‰:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«1: flow.count = 0 (æ•°å€¤)
ãƒ«ãƒ¼ãƒ«2: msg.payload = flow.count

å‡ºåŠ›: msg.payload = 0</div>
        
        <p><strong>è¨­å®šä¾‹ï¼ˆã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ï¼‰:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«1: flow.count = $flowContext("count")+1 (JSONata)
ãƒ«ãƒ¼ãƒ«2: msg.payload = flow.count

å‡ºåŠ›: msg.payload = 1, 2, 3, ... (ã‚¯ãƒªãƒƒã‚¯ã”ã¨ã«å¢—åŠ )</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³6: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‰Šé™¤ï¼ˆDeleteï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> ä¸è¦ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰å‰Šé™¤</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(Delete)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug<br><small>(å®Œå…¨msg)</small></span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«: å‰Šé™¤
å¯¾è±¡: msg.payload

å…¥åŠ›: msg = {payload: 1702345678901, topic: "", _msgid: "xxx"}
å‡ºåŠ›: msg = {topic: "", _msgid: "xxx"} (payloadãŒæ¶ˆãˆã‚‹)</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³7: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ç§»å‹•ï¼ˆMoveï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’åˆ¥ã®å ´æ‰€ã«ç§»å‹•ï¼ˆå…ƒã¯å‰Šé™¤ã•ã‚Œã‚‹ï¼‰</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject<br><small>(topic="Hello")</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-change">Change<br><small>(Move)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ«ãƒ¼ãƒ«: ç§»å‹•
ç§»å‹•å…ƒ: msg.topic
ç§»å‹•å…ˆ: msg.payload

å…¥åŠ›: msg.topic = "Hello", msg.payload = 1702345678901
å‡ºåŠ›: msg.payload = "Hello" (topicã¯å‰Šé™¤ã•ã‚Œã‚‹)</div>
        
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªå€¤ã®è¨­å®š<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>Changeãƒãƒ¼ãƒ‰ã§JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’msg.payloadã«è¨­å®šã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Changeã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>msg.payloadã« {"name": "Alice", "age": 25} ã‚’è¨­å®š</li>
                <li>Debugã§å®Œå…¨ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç¢ºèª</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Debugã« {"name": "Alice", "age": 25} ãŒè¡¨ç¤º</li>
            </ul>

            <p><strong>âœ… æˆåŠŸã®æ¡ä»¶:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸç›´å¾Œã€ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>è¡¨ç¤ºã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã« <code>name: "Alice"</code> ã¨ <code>age: 25</code> ã®ä¸¡ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå«ã¾ã‚Œã‚‹</li>
                <li>æ•°å€¤ã® <code>age</code> ãŒæ–‡å­—åˆ—ã§ã¯ãªãæ•°å€¤å‹ï¼ˆ25ï¼‰ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>Injectãƒãƒ¼ãƒ‰ãŒé€ã£ãŸã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæœ€çµ‚å‡ºåŠ›ã«å«ã¾ã‚Œã¦ã„ãªã„ï¼ˆChangeãƒãƒ¼ãƒ‰ã§ä¸Šæ›¸ãã•ã‚Œã¦ã„ã‚‹ï¼‰</li>
            </ul>

            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>payload: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã§OK</li>
                </ul>
                <p><strong>Changeãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ«ãƒ¼ãƒ«: å€¤ã®ä»£å…¥ï¼ˆSetï¼‰</li>
                    <li>å¯¾è±¡: msg.payload</li>
                    <li>å€¤ã®ã‚¿ã‚¤ãƒ—: JSON</li>
                    <li>å€¤: {"name": "Alice", "age": 25}</li>
                </ul>
                <p><strong>Debugãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å‡ºåŠ›: msg.payload</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex1_change"]]
    },
    {
        "id": "ex1_change",
        "type": "change",
        "name": "JSONã‚’è¨­å®š",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"name\": \"Alice\", \"age\": 25}",
                "tot": "json"
            }
        ],
"onlyset": false,
        "x": 280,
        "y": 100,
        "wires": [["ex1_debug"]]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 450,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ãƒã‚¹ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨­å®š<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€éƒ¨ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Changeï¼ˆ2ã¤ï¼‰ã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>1ã¤ç›®ã®Changeã§åŸºæœ¬ã®JSONã‚’è¨­å®š: {"sensor": {"temp": 0, "humidity": 0}}</li>
                <li>2ã¤ç›®ã®Changeã§msg.payload.sensor.tempã‚’25ã«å¤‰æ›´</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>å‡ºåŠ›: {"sensor": {"temp": 25, "humidity": 0}}</li>
            </ul>

            <p><strong>âœ… æˆåŠŸã®æ¡ä»¶:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸç›´å¾Œã€ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ã«ãƒã‚¹ãƒˆã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li><code>sensor.temp</code> ã®å€¤ãŒ <code>25</code>ï¼ˆæ•°å€¤å‹ï¼‰ã«ãªã£ã¦ã„ã‚‹</li>
                <li><code>sensor.humidity</code> ã®å€¤ãŒ <code>0</code>ï¼ˆåˆæœŸå€¤ã®ã¾ã¾ï¼‰ã«ãªã£ã¦ã„ã‚‹</li>
                <li>2ã¤ç›®ã®Changeãƒãƒ¼ãƒ‰ã ã‘ã§ã¯å¤‰æ›´ã§ããšã€1ã¤ç›®ã§ãƒ™ãƒ¼ã‚¹JSONã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã‚‹</li>
            </ul>

            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>1ã¤ç›®ã®Changeãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ«ãƒ¼ãƒ«: å€¤ã®ä»£å…¥ï¼ˆSetï¼‰</li>
                    <li>å¯¾è±¡: msg.payload</li>
                    <li>å€¤ã®ã‚¿ã‚¤ãƒ—: JSON</li>
                    <li>å€¤: {"sensor": {"temp": 0, "humidity": 0}}</li>
                </ul>
                <p><strong>2ã¤ç›®ã®Changeãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ«ãƒ¼ãƒ«: å€¤ã®ä»£å…¥ï¼ˆSetï¼‰</li>
                    <li>å¯¾è±¡: msg.payload.sensor.tempï¼ˆãƒã‚¹ãƒˆã—ãŸãƒ‘ã‚¹ï¼‰</li>
                    <li>å€¤ã®ã‚¿ã‚¤ãƒ—: æ•°å€¤</li>
                    <li>å€¤: 25</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex2_change1"]]
    },
    {
        "id": "ex2_change1",
        "type": "change",
        "name": "åŸºæœ¬JSONè¨­å®š",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"sensor\": {\"temp\": 0, \"humidity\": 0}}",
                "tot": "json"
            }
        ],
"onlyset": false,
        "x": 280,
        "y": 100,
        "wires": [["ex2_change2"]]
    },
    {
        "id": "ex2_change2",
        "type": "change",
        "name": "tempå¤‰æ›´",
        "rules": [
            {
                "t": "set",
                "p": "payload.sensor.temp",
                "pt": "msg",
                "to": "25",
                "tot": "num"
            }
        ],
"onlyset": false,
        "x": 460,
        "y": 100,
        "wires": [["ex2_debug"]]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 610,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: æ–‡å­—åˆ—ã®ç½®æ›ï¼ˆChangeæ“ä½œï¼‰<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã®æ–‡å­—åˆ—ã‚’æ¤œç´¢ã—ã¦ç½®æ›ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Changeã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›æ–‡å­—åˆ—: "Hello, Node-RED!"</li>
                <li>"Node-RED" ã‚’ "World" ã«ç½®æ›</li>
                <li>å‡ºåŠ›: "Hello, World!"</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Debugã« "Hello, World!" ãŒè¡¨ç¤º</li>
            </ul>

            <p><strong>âœ… æˆåŠŸã®æ¡ä»¶:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸç›´å¾Œã€ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ã«æ–‡å­—åˆ— <code>"Hello, World!"</code> ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>å…ƒã®æ–‡å­—åˆ— <code>"Node-RED"</code> ãŒå‡ºåŠ›ã«å«ã¾ã‚Œã¦ã„ãªã„</li>
                <li>ç½®æ›å¾Œã‚‚å‰å¾Œã®æ–‡å­—åˆ—ï¼ˆ<code>"Hello, "</code> ã¨ <code>"!"</code>ï¼‰ãŒãã®ã¾ã¾æ®‹ã£ã¦ã„ã‚‹</li>
            </ul>

            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>payload: æ–‡å­—åˆ—å‹</li>
                    <li>å€¤: Hello, Node-RED!</li>
                </ul>
                <p><strong>Changeãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ«ãƒ¼ãƒ«: ç½®æ›ï¼ˆChangeï¼‰</li>
                    <li>å¯¾è±¡: msg.payload</li>
                    <li>æ¤œç´¢: Node-RED</li>
                    <li>ç½®æ›: World</li>
                    <li>æ­£è¦è¡¨ç¾: ã‚ªãƒ•</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex3_inject",
        "type": "inject",
        "name": "ãƒ†ã‚¹ãƒˆæ–‡å­—åˆ—",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Hello, Node-RED!",
        "payloadType": "str",
        "x": 140,
        "y": 100,
        "wires": [["ex3_change"]]
    },
    {
        "id": "ex3_change",
        "type": "change",
        "name": "æ–‡å­—åˆ—ç½®æ›",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "Node-RED",
                "fromt": "str",
                "to": "World",
                "tot": "str"
            }
        ],
"onlyset": false,
        "x": 320,
        "y": 100,
        "wires": [["ex3_debug"]]
    },
    {
        "id": "ex3_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 490,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ•´å½¢<span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>è¤‡æ•°ã®ãƒ«ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>å…¥åŠ›: msg.payload = {"raw_temp": 2550, "raw_humidity": 650}</li>
                <li>raw_tempã‚’100ã§å‰²ã£ã¦å®Ÿéš›ã®æ¸©åº¦ã«å¤‰æ›ï¼ˆ25.5ï¼‰</li>
                <li>raw_humidityã‚’10ã§å‰²ã£ã¦å®Ÿéš›ã®æ¹¿åº¦ã«å¤‰æ›ï¼ˆ65.0ï¼‰</li>
                <li>å…ƒã®rawãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤</li>
                <li>ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’msg.timestampã«è¿½åŠ </li>
                <li>å‡ºåŠ›: {"temp": 25.5, "humidity": 65, "timestamp": "2024-..."}</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>ç”Ÿãƒ‡ãƒ¼ã‚¿ãŒå¤‰æ›ãƒ»æ•´å½¢ã•ã‚Œã¦å‡ºåŠ›ã•ã‚Œã‚‹</li>
            </ul>

            <p><strong>âœ… æˆåŠŸã®æ¡ä»¶:</strong></p>
            <ul>
                <li>ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ã« <code>temp: 25.5</code>ã€<code>humidity: 65</code>ã€<code>timestamp</code> ã®3ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>å…ƒã® <code>raw_temp</code> ã¨ <code>raw_humidity</code> ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå‡ºåŠ›ã«å«ã¾ã‚Œã¦ã„ãªã„</li>
                <li><code>timestamp</code> ã®å€¤ãŒISO 8601å½¢å¼ã®æ—¥æ™‚æ–‡å­—åˆ—ã«ãªã£ã¦ã„ã‚‹</li>
                <li>ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ãŸã³ã« <code>timestamp</code> ã®å€¤ãŒæ›´æ–°ã•ã‚Œã‚‹</li>
            </ul>

            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>payload: JSONå‹</li>
                    <li>å€¤: {"raw_temp": 2550, "raw_humidity": 650}</li>
                </ul>
                <p><strong>Changeãƒãƒ¼ãƒ‰ã®è¨­å®šï¼ˆè¤‡æ•°ãƒ«ãƒ¼ãƒ«ï¼‰:</strong></p>
                <ul>
                    <li>ãƒ«ãƒ¼ãƒ«1: msg.payload.temp = payload.raw_temp / 100 (JSONata)</li>
                    <li>ãƒ«ãƒ¼ãƒ«2: msg.payload.humidity = payload.raw_humidity / 10 (JSONata)</li>
                    <li>ãƒ«ãƒ¼ãƒ«3: msg.payload.raw_temp ã‚’å‰Šé™¤</li>
                    <li>ãƒ«ãƒ¼ãƒ«4: msg.payload.raw_humidity ã‚’å‰Šé™¤</li>
                    <li>ãƒ«ãƒ¼ãƒ«5: msg.payload.timestamp = $now() (JSONata)</li>
                </ul>
                <p><strong>JSONataå¼ã®ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
                <ul>
                    <li>è¨ˆç®—: <code>payload.raw_temp / 100</code></li>
                    <li>ç¾åœ¨æ™‚åˆ»: <code>$now()</code></li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex4_inject",
        "type": "inject",
        "name": "ã‚»ãƒ³ã‚µãƒ¼ç”Ÿãƒ‡ãƒ¼ã‚¿",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"raw_temp\": 2550, \"raw_humidity\": 650}",
        "payloadType": "json",
        "x": 150,
        "y": 100,
        "wires": [["ex4_change"]]
    },
    {
        "id": "ex4_change",
        "type": "change",
        "name": "ãƒ‡ãƒ¼ã‚¿æ•´å½¢",
        "rules": [
            {
                "t": "set",
                "p": "payload.temp",
                "pt": "msg",
                "to": "payload.raw_temp / 100",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.humidity",
                "pt": "msg",
                "to": "payload.raw_humidity / 10",
                "tot": "jsonata"
            },
            {
                "t": "delete",
                "p": "payload.raw_temp",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.raw_humidity",
                "pt": "msg"
            },
            {
                "t": "set",
                "p": "payload.timestamp",
                "pt": "msg",
                "to": "$now()",
                "tot": "jsonata"
            }
        ],
"onlyset": false,
        "x": 360,
        "y": 100,
        "wires": [["ex4_debug"]]
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "name": "æ•´å½¢çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 530,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Changeãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>4ã¤ã®æ“ä½œ</strong>: Setï¼ˆä»£å…¥ï¼‰ã€Changeï¼ˆç½®æ›ï¼‰ã€Deleteï¼ˆå‰Šé™¤ï¼‰ã€Moveï¼ˆç§»å‹•ï¼‰</li>
                <li>âœ… <strong>è¤‡æ•°ãƒ«ãƒ¼ãƒ«</strong>: 1ã¤ã®ãƒãƒ¼ãƒ‰ã§è¤‡æ•°ã®æ“ä½œã‚’é †ç•ªã«å®Ÿè¡Œå¯èƒ½</li>
                <li>âœ… <strong>æ§˜ã€…ãªå€¤ã‚¿ã‚¤ãƒ—</strong>: æ–‡å­—åˆ—ã€æ•°å€¤ã€JSONã€msgã€flowã€globalã€envã€JSONata</li>
                <li>âœ… <strong>ãƒã‚¹ãƒˆã‚¢ã‚¯ã‚»ã‚¹</strong>: msg.payload.sensor.temp ã®ã‚ˆã†ãªæ·±ã„ãƒ‘ã‚¹ã‚‚æŒ‡å®šå¯èƒ½</li>
                <li>âœ… <strong>Functionã®ä»£æ›¿</strong>: å˜ç´”ãªæ“ä½œãªã‚‰Functionãƒãƒ¼ãƒ‰ã‚ˆã‚Šè»½é‡ã§å¯èª­æ€§ãŒé«˜ã„</li>
            </ul>
        </div>
        
        <div class="warning">
            <h3>âš ï¸ ã‚ˆãã‚ã‚‹é–“é•ã„</h3>
            <ul>
                <li><strong>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã®æ··åŒ</strong>: msg.payload ã¨ payload ã®é•ã„ã«æ³¨æ„ï¼ˆå¾Œè€…ã¯JSONataå†…ã§ä½¿ç”¨ï¼‰</li>
                <li><strong>å€¤ã‚¿ã‚¤ãƒ—ã®é¸æŠãƒŸã‚¹</strong>: æ•°å€¤ã‚’æ–‡å­—åˆ—ã¨ã—ã¦è¨­å®šã™ã‚‹ã¨è¨ˆç®—ã§ããªã„</li>
                <li><strong>å­˜åœ¨ã—ãªã„ãƒ‘ã‚¹ã¸ã®ä»£å…¥</strong>: ä¸­é–“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆãŒã‚ã‚‹</li>
                <li><strong>Moveã®ä»•æ§˜</strong>: ç§»å‹•å…ƒã¯å‰Šé™¤ã•ã‚Œã‚‹ï¼ˆã‚³ãƒ”ãƒ¼ã§ã¯ãªã„ï¼‰</li>
                <li><strong>ãƒ«ãƒ¼ãƒ«ã®å®Ÿè¡Œé †åº</strong>: ä¸Šã‹ã‚‰é †ã«å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ä¾å­˜é–¢ä¿‚ã«æ³¨æ„</li>
                <li><strong>JSONataã®æ–‡å­—åˆ—çµåˆ</strong>: + ã§ã¯ãªã & ã‚’ä½¿ç”¨</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Changeãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Switchãƒãƒ¼ãƒ‰</strong>: æ¡ä»¶åˆ†å²ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒ¯ã‚Šåˆ†ã‘</li>
                <li><strong>Functionãƒãƒ¼ãƒ‰</strong>: ã‚ˆã‚Šè¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ãŒå¿…è¦ãªå ´åˆ</li>
                <li><strong>Templateãƒãƒ¼ãƒ‰</strong>: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã£ãŸæ–‡å­—åˆ—ç”Ÿæˆ</li>
                <li><strong>JSONãƒãƒ¼ãƒ‰</strong>: JSONæ–‡å­—åˆ—ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç›¸äº’å¤‰æ›</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>å€¤ãŒè¨­å®šã•ã‚Œãªã„</td>
                <td>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ‘ã‚¹ã®èª¤ã‚Š</td>
                <td>msg.ã‚’å«ã‚ãŸå®Œå…¨ãªãƒ‘ã‚¹ã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>JSONataã§ã‚¨ãƒ©ãƒ¼</td>
                <td>æ§‹æ–‡ã‚¨ãƒ©ãƒ¼</td>
                <td>JSONataã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆJ:ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã§æ¤œè¨¼</td>
            </tr>
            <tr>
                <td>æ•°å€¤è¨ˆç®—ãŒã§ããªã„</td>
                <td>å€¤ãŒæ–‡å­—åˆ—ã«ãªã£ã¦ã„ã‚‹</td>
                <td>å€¤ã‚¿ã‚¤ãƒ—ã‚’ã€Œæ•°å€¤ã€ã«å¤‰æ›´ã€ã¾ãŸã¯$number()ã§å¤‰æ›</td>
            </tr>
            <tr>
                <td>ç½®æ›ãŒå‹•ä½œã—ãªã„</td>
                <td>å¤§æ–‡å­—å°æ–‡å­—ã®é•ã„</td>
                <td>æ­£è¦è¡¨ç¾ã§ /pattern/i ã‚’ä½¿ç”¨</td>
            </tr>
            <tr>
                <td>flowå¤‰æ•°ãŒå–å¾—ã§ããªã„</td>
                <td>åˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„</td>
                <td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã€ã¾ãŸã¯åˆæœŸåŒ–ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆ</td>
            </tr>
            <tr>
                <td>ãƒã‚¹ãƒˆã—ãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒä½œã‚Œãªã„</td>
                <td>è¦ªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ãªã„</td>
                <td>å…ˆã«è¦ªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ã‹ã‚‰å­ã‚’è¨­å®š</td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: MQTTãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ•´å½¢</h3>
        <div class="code-block">MQTTã§å—ä¿¡: "25.5,65,1013" (CSVå½¢å¼)
â†“
Changeãƒãƒ¼ãƒ‰ã§æ•´å½¢:
  msg.payload = {
    "temperature": æœ€åˆã®å€¤,
    "humidity": 2ç•ªç›®ã®å€¤,
    "pressure": 3ç•ªç›®ã®å€¤,
    "device_id": msg.topic,
    "timestamp": $now()
  }
â†“
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ or ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤º</div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: APIå¿œç­”ã®åŠ å·¥</h3>
        <div class="code-block">HTTP Request â†’ å¤§é‡ã®JSONãƒ‡ãƒ¼ã‚¿ã‚’å—ä¿¡
â†“
Changeãƒãƒ¼ãƒ‰:
  1. å¿…è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã ã‘æŠ½å‡º (Set)
  2. ä¸è¦ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‰Šé™¤ (Delete)
  3. ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã‚’å¤‰æ›´ (Move)
  4. å˜ä½å¤‰æ› (JSONata)
â†“
è»½é‡åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’æ¬¡ã®å‡¦ç†ã¸</div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: Raspberry Piã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†</h3>
        <div class="code-block">GPIOãƒãƒ¼ãƒ‰ â†’ ç”Ÿã®ã‚»ãƒ³ã‚µãƒ¼å€¤ (0-4095)
â†“
Changeãƒãƒ¼ãƒ‰:
  1. ADCå€¤ã‚’å®Ÿéš›ã®é›»åœ§ã«å¤‰æ› (JSONata: payload * 3.3 / 4095)
  2. é›»åœ§ã‚’æ¸©åº¦ã«å¤‰æ› (JSONata: å¤‰æ›å¼)
  3. ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å€¤ã‚’é©ç”¨ (flowå¤‰æ•°ã‹ã‚‰å–å¾—)
  4. ã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤ãƒã‚§ãƒƒã‚¯ç”¨ã®ãƒ•ãƒ©ã‚°ã‚’è¿½åŠ 
â†“
ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º + ã‚¢ãƒ©ãƒ¼ãƒˆå‡¦ç†</div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®ç®¡ç†</h3>
        <div class="code-block">Webãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰è¨­å®šå—ä¿¡
â†“
Changeãƒãƒ¼ãƒ‰:
  1. global.settings ã«è¨­å®šã‚’ä¿å­˜
  2. æ¤œè¨¼æ¸ˆã¿ãƒ•ãƒ©ã‚°ã‚’è¿½åŠ 
  3. æ›´æ–°æ—¥æ™‚ã‚’è¨˜éŒ²
â†“
åˆ¥ã®ãƒ•ãƒ­ãƒ¼:
  global.settings ã‚’å‚ç…§ã—ã¦å‹•ä½œã‚’å¤‰æ›´
  ï¼ˆå†èµ·å‹•ã—ã¦ã‚‚è¨­å®šãŒç¶­æŒã•ã‚Œã‚‹ï¼‰</div>
        
        <h2>ğŸ“– 8. JSONataæ´»ç”¨ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h2>
        
        <h3>ã‚ˆãä½¿ã†JSONataå¼</h3>
        
        <table>
            <tr>
                <th>ç›®çš„</th>
                <th>JSONataå¼</th>
                <th>èª¬æ˜</th>
            </tr>
            <tr>
                <td>æ–‡å­—åˆ—çµåˆ</td>
                <td><code>payload & " suffix"</code></td>
                <td>+ã§ã¯ãªã&ã‚’ä½¿ç”¨</td>
            </tr>
            <tr>
                <td>æ•°å€¤è¨ˆç®—</td>
                <td><code>payload * 1.1</code></td>
                <td>å››å‰‡æ¼”ç®—ãŒå¯èƒ½</td>
            </tr>
            <tr>
                <td>ç¾åœ¨æ™‚åˆ»</td>
                <td><code>$now()</code></td>
                <td>ISOå½¢å¼ã®ç¾åœ¨æ™‚åˆ»</td>
            </tr>
            <tr>
                <td>å¤§æ–‡å­—å¤‰æ›</td>
                <td><code>$uppercase(payload)</code></td>
                <td>æ–‡å­—åˆ—ã‚’å¤§æ–‡å­—ã«</td>
            </tr>
            <tr>
                <td>é…åˆ—ã®é•·ã•</td>
                <td><code>$count(payload)</code></td>
                <td>é…åˆ—ã®è¦ç´ æ•°</td>
            </tr>
            <tr>
                <td>æ¡ä»¶åˆ†å²</td>
                <td><code>payload > 30 ? "é«˜" : "ä½"</code></td>
                <td>ä¸‰é …æ¼”ç®—å­</td>
            </tr>
            <tr>
                <td>flowå¤‰æ•°å‚ç…§</td>
                <td><code>$flowContext("count")</code></td>
                <td>ãƒ•ãƒ­ãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—</td>
            </tr>
            <tr>
                <td>globalå¤‰æ•°å‚ç…§</td>
                <td><code>$globalContext("config")</code></td>
                <td>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—</td>
            </tr>
            <tr>
                <td>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ</td>
                <td><code>{"temp": payload.t, "hum": payload.h}</code></td>
                <td>æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</td>
            </tr>
            <tr>
                <td>é…åˆ—ãƒ•ã‚£ãƒ«ã‚¿</td>
                <td><code>payload[value > 10]</code></td>
                <td>æ¡ä»¶ã«åˆã†è¦ç´ ã‚’æŠ½å‡º</td>
            </tr>
        </table>
        
        <h2>ğŸ”— 9. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/nodes#change" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Changeãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://cookbook.nodered.org/basic/set-message-property-fixed" target="_blank">Node-RED Cookbook: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨­å®š</a></li>
            <li><a href="https://cookbook.nodered.org/basic/delete-message-property" target="_blank">Node-RED Cookbook: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‰Šé™¤</a></li>
            <li><a href="https://cookbook.nodered.org/basic/move-message-property" target="_blank">Node-RED Cookbook: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ç§»å‹•</a></li>
            <li><a href="https://docs.jsonata.org/" target="_blank">JSONataãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
            <li><a href="https://try.jsonata.org/" target="_blank">JSONata Exerciserï¼ˆã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Changeãƒãƒ¼ãƒ‰ã¯ãƒ•ãƒ­ãƒ¼ã®ä¸­ã§æœ€ã‚‚ã‚ˆãä½¿ã‚ã‚Œã‚‹åŸºæœ¬ãƒãƒ¼ãƒ‰ã®ä¸€ã¤ã§ã™ã€‚</small><br>
            <small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã¨.js-code[data-copy="true"]ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            var codeBlocks = document.querySelectorAll('.flow-json, .js-code[data-copy="true"]');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                var button = document.createElement('button');
                button.className = 'copy-button';
                button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ï¼ˆãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’é™¤å¤–ï¼‰
                    var code = block.textContent.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    
                    // æ”¹è¡Œã‚’é©åˆ‡ã«å‡¦ç†ï¼ˆNode-REDã«ãƒšãƒ¼ã‚¹ãƒˆæ™‚ã«è¦‹ã‚„ã™ãã™ã‚‹ï¼‰
                    if (block.classList.contains('js-code')) {
                        // JavaScriptã‚³ãƒ¼ãƒ‰ã®å ´åˆã€è¡Œã”ã¨ã«æ”¹è¡Œã‚’ç¶­æŒ
                        code = block.innerText.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    }
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';" title="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ </a>
</body>
</html>
