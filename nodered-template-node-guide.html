<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Templateãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-template {
            background-color: #deb887;
            color: white;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #8f0000;
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #deb887;
            margin-top: 0;
        }
        
        .syntax-example {
            background-color: #fff;
            border: 2px solid #deb887;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .syntax-example h4 {
            color: #deb887;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ Node-RED Templateãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Templateãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Templateãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€ã£ã¦ä½•?</h3>
        <p>
            Templateãƒãƒ¼ãƒ‰ã¯ã€<strong>å¤‰æ•°ã‚’å«ã‚€æ–‡æ›¸ã®å‹ç´™</strong>ã‚’ä½¿ã£ã¦ã€å‹•çš„ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>å·®ã—è¾¼ã¿å°åˆ·</strong>ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
        </p>
        
        <div class="tip">
            <h3>ğŸ’¡ æ—¥å¸¸ç”Ÿæ´»ã§ã®ä¾‹ãˆ</h3>
            <p><strong>çµå©šå¼ã®æ‹›å¾…çŠ¶ä½œæˆ</strong></p>
            <ul>
                <li>ã€Œã€‡ã€‡æ§˜ã¸ã€â† åå‰ã®éƒ¨åˆ†ã ã‘å¤‰ãˆã‚‹</li>
                <li>åŸºæœ¬çš„ãªæ–‡é¢ã¯åŒã˜ã¾ã¾</li>
                <li>ãã‚Œãã‚Œã®äººã«åˆã‚ã›ãŸæ‹›å¾…çŠ¶ãŒã§ãã‚‹</li>
            </ul>
            <p>Templateãƒãƒ¼ãƒ‰ã‚‚åŒã˜ã‚ˆã†ã«ã€åŸºæœ¬çš„ãªå‹ç´™ã«å¤‰æ•°ã‚’åŸ‹ã‚è¾¼ã‚“ã§ã€ãƒ‡ãƒ¼ã‚¿ã«å¿œã˜ãŸæ–‡æ›¸ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™!</p>
        </div>
        
        <h3>ğŸ¯ Templateãƒãƒ¼ãƒ‰ãŒã§ãã‚‹ã“ã¨</h3>
        <ul>
            <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¤‰æ•°(msg)ã‚’ä½¿ã£ãŸå‹•çš„ãªæ–‡å­—åˆ—ç”Ÿæˆ</li>
            <li>Mustacheè¨˜æ³•ã«ã‚ˆã‚‹æŸ”è»Ÿãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå‡¦ç†</li>
            <li>HTMLã€JSONã€YAMLå½¢å¼ã®å‡ºåŠ›</li>
            <li>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ•´å½¢è¡¨ç¤º</li>
            <li>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ</li>
            <li>APIå¿œç­”ã®æ•´å½¢</li>
        </ul>
        
        <h3>ğŸ“Š åŸºæœ¬çš„ãªå‹•ä½œä¾‹</h3>
        
        <div class="node-example">
            <span class="node node-inject">inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">template</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
        </div>
        
        <p><strong>æµã‚Œ:</strong></p>
        <ol>
            <li>Injectãƒãƒ¼ãƒ‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡: <code>msg.payload = {name: "å¤ªéƒ", temp: 25}</code></li>
            <li>Templateãƒãƒ¼ãƒ‰ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨: <code>"ã“ã‚“ã«ã¡ã¯{{payload.name}}ã•ã‚“ã€æ°—æ¸©ã¯{{payload.temp}}â„ƒã§ã™"</code></li>
            <li>çµæœã‚’å‡ºåŠ›: <code>"ã“ã‚“ã«ã¡ã¯å¤ªéƒã•ã‚“ã€æ°—æ¸©ã¯25â„ƒã§ã™"</code></li>
        </ol>
        
        <h2>ğŸ”§ 2. Mustacheè¨˜æ³•ã®åŸºæœ¬</h2>
        
        <p>Templateãƒãƒ¼ãƒ‰ã¯<strong>Mustache</strong>ã¨ã„ã†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨˜æ³•ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</p>
        
        <h3>åŸºæœ¬æ§‹æ–‡</h3>
        
        <div class="syntax-example">
            <h4>å¤‰æ•°ã®å±•é–‹</h4>
            <div class="code-block">
{{å¤‰æ•°å}}           â† å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤º
{{payload.name}}     â† msg.payloadã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®nameãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
{{topic}}            â† msg.topicã®å€¤
            </div>
        </div>
        
        <div class="syntax-example">
            <h4>æ¡ä»¶åˆ†å²</h4>
            <div class="code-block">
{{#payload.isError}}
  ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
{{/payload.isError}}

{{^payload.isError}}
  æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™
{{/payload.isError}}
            </div>
        </div>
        
        <div class="syntax-example">
            <h4>ãƒ«ãƒ¼ãƒ—å‡¦ç†</h4>
            <div class="code-block">
{{#payload.sensors}}
  ã‚»ãƒ³ã‚µãƒ¼å: {{name}}ã€å€¤: {{value}}
{{/payload.sensors}}
            </div>
        </div>
        
        <h3>ğŸ“‹ Mustacheè¨˜æ³•ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</h3>
        
        <table>
            <tr>
                <th>è¨˜æ³•</th>
                <th>èª¬æ˜</th>
                <th>ä½¿ç”¨ä¾‹</th>
            </tr>
            <tr>
                <td><code>{{å¤‰æ•°}}</code></td>
                <td>å¤‰æ•°ã®å€¤ã‚’è¡¨ç¤º</td>
                <td><code>{{payload.temperature}}</code></td>
            </tr>
            <tr>
                <td><code>{{#å¤‰æ•°}}...{{/å¤‰æ•°}}</code></td>
                <td>æ¡ä»¶ãŒçœŸã®æ™‚ã€ã¾ãŸã¯é…åˆ—ã‚’ãƒ«ãƒ¼ãƒ—</td>
                <td><code>{{#payload.data}}{{value}}{{/payload.data}}</code></td>
            </tr>
            <tr>
                <td><code>{{^å¤‰æ•°}}...{{/å¤‰æ•°}}</code></td>
                <td>æ¡ä»¶ãŒå½ã®æ™‚</td>
                <td><code>{{^payload.error}}OK{{/payload.error}}</code></td>
            </tr>
            <tr>
                <td><code>{{!ã‚³ãƒ¡ãƒ³ãƒˆ}}</code></td>
                <td>ã‚³ãƒ¡ãƒ³ãƒˆ(å‡ºåŠ›ã•ã‚Œãªã„)</td>
                <td><code>{{!ã“ã‚Œã¯èª¬æ˜æ–‡ã§ã™}}</code></td>
            </tr>
            <tr>
                <td><code>{{&å¤‰æ•°}}</code></td>
                <td>HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãªã—ã§å‡ºåŠ›</td>
                <td><code>{{&payload.html}}</code></td>
            </tr>
        </table>
        
        <h2>âš™ï¸ 3. è©³ç´°ãªè¨­å®šé …ç›®</h2>
        
        <h3>å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¨­å®š</h3>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4>Plain text</h4>
                <p>é€šå¸¸ã®ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚æœ€ã‚‚ä¸€èˆ¬çš„ãªä½¿ç”¨æ–¹æ³•ã§ã™ã€‚</p>
                <p><strong>ç”¨é€”:</strong> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã€ãƒ­ã‚°å‡ºåŠ›</p>
            </div>
            
            <div class="feature-card">
                <h4>Parsed JSON</h4>
                <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®çµæœã‚’JSONå½¢å¼ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã€JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚</p>
                <p><strong>ç”¨é€”:</strong> å‹•çš„ãªJSONãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ</p>
            </div>
            
            <div class="feature-card">
                <h4>Parsed YAML</h4>
                <p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®çµæœã‚’YAMLå½¢å¼ã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã—ã€JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚</p>
                <p><strong>ç”¨é€”:</strong> è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ</p>
            </div>
        </div>
        
        <h3>ğŸ“ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼è§£æ</h3>
        
        <p>å®Ÿéš›ã®Node-REDã§å‹•ä½œã™ã‚‹3ã¤ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†:</p>
        
        <h4>ã‚µãƒ³ãƒ—ãƒ«1: é…åˆ—ãƒ‡ãƒ¼ã‚¿ã®ãƒ«ãƒ¼ãƒ—å‡¦ç†(Advanced Mustache)</h4>
        
        <div class="node-example">
            <span class="node node-inject">Price of fruits</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">template</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
        </div>
        
        <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
        <div class="code-block">
// msg.topic = "Fruits"
// msg.payload = 
[
  {"name":"apple", "price":100},
  {"name":"orange", "price":80},
  {"name":"banana", "price":210}
]
        </div>
        
        <p><strong>Templateãƒãƒ¼ãƒ‰:</strong></p>
        <div class="code-block">
# Price List of {{topic}}

{{! outputs list of prices }}
{{#payload}}
- {{name}}: {{price}}
{{/payload}}
        </div>
        
        <p><strong>å‡ºåŠ›çµæœ:</strong></p>
        <div class="code-block">
# Price List of Fruits

- apple: 100
- orange: 80
- banana: 210
        </div>
        
        <div class="tip">
            <h4>ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆè§£èª¬</h4>
            <ul>
                <li><code>{{topic}}</code>: msg.topicã®å€¤ã‚’è¡¨ç¤º</li>
                <li><code>{{! ã‚³ãƒ¡ãƒ³ãƒˆ }}</code>: Mustacheã®ã‚³ãƒ¡ãƒ³ãƒˆ(å‡ºåŠ›ã•ã‚Œãªã„)</li>
                <li><code>{{#payload}}...{{/payload}}</code>: é…åˆ—ã®å„è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—</li>
                <li>ãƒ«ãƒ¼ãƒ—å†…ã§<code>{{name}}</code>ã¨<code>{{price}}</code>ã«ã‚¢ã‚¯ã‚»ã‚¹</li>
            </ul>
        </div>
        
        <h4>ã‚µãƒ³ãƒ—ãƒ«2: Parsed JSONå‡ºåŠ›</h4>
        
        <div class="node-example">
            <span class="node node-inject">inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">JSON template</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
        </div>
        
        <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
        <div class="code-block">
// msg.topic = "message"
// msg.payload = "Hello, World!"
        </div>
        
        <p><strong>Templateãƒãƒ¼ãƒ‰:</strong></p>
        <div class="code-block">
// Output as: Parsed JSON
{
    "key" : "{{topic}}",
    "value": "{{payload}}"
}
        </div>
        
        <p><strong>å‡ºåŠ›çµæœ(JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ):</strong></p>
        <div class="code-block">
{
  key: "message",
  value: "Hello, World!"
}
        </div>
        
        <div class="important">
            <h4>âš ï¸ é‡è¦: Parsed JSONå‡ºåŠ›ã®ç‰¹å¾´</h4>
            <p><strong>Output as: Parsed JSON</strong> ã‚’é¸æŠã™ã‚‹ã¨:</p>
            <ul>
                <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆã—ãŸæ–‡å­—åˆ—ãŒJSONã¨ã—ã¦ãƒ‘ãƒ¼ã‚¹ã•ã‚Œã‚‹</li>
                <li>msg.payloadã¯<strong>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹</strong>ã«ãªã‚‹(æ–‡å­—åˆ—ã§ã¯ãªã„)</li>
                <li>æ¬¡ã®ãƒãƒ¼ãƒ‰ã§ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
                <li>ä¾‹: <code>msg.payload.key</code>, <code>msg.payload.value</code></li>
            </ul>
        </div>
        
        <h4>ã‚µãƒ³ãƒ—ãƒ«3: Parsed YAMLå‡ºåŠ›</h4>
        
        <div class="node-example">
            <span class="node node-inject">inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">YAML template</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">debug</span>
        </div>
        
        <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
        <div class="code-block">
// msg.topic = "message"
// msg.payload = "Hello, World!"
        </div>
        
        <p><strong>Templateãƒãƒ¼ãƒ‰:</strong></p>
        <div class="code-block">
// Output as: Parsed YAML
key: {{topic}}
value: {{payload}}
        </div>
        
        <p><strong>å‡ºåŠ›çµæœ(JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ):</strong></p>
        <div class="code-block">
{
  key: "message",
  value: "Hello, World!"
}
        </div>
        
        <div class="tip">
            <h4>ğŸ’¡ YAMLå½¢å¼ã®åˆ©ç‚¹</h4>
            <ul>
                <li>JSONã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€æ›¸ãã‚„ã™ã„</li>
                <li>å¼•ç”¨ç¬¦ãŒä¸è¦</li>
                <li>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆã«æœ€é©</li>
                <li>æœ€çµ‚çš„ã«ã¯JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ãˆã‚‹</li>
            </ul>
        </div>
        
        <h4>ğŸ”§ ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¯èƒ½ãªã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</h4>
        <details>
            <summary>ğŸ“¦ å®Œå…¨ãªã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</summary>
            <p>ä»¥ä¸‹ã®JSONã‚’Node-REDã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã€3ã¤ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†:</p>
            <div class="flow-json">
[
    {
        "id": "eaf91a6b.a55da8",
        "type": "comment",
        "z": "be6b9938caeba497",
        "name": "1 Advanced mustache example",
        "info": "Template node can create a string value using [Mustache](http://mustache.github.io/mustache.5.html) syntax.",
        "x": 290,
        "y": 120,
        "wires": []
    },
    {
        "id": "61fbfe34.14a02",
        "type": "inject",
        "z": "be6b9938caeba497",
        "name": "Price of fruits",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "Fruits",
        "payload": "[{\"name\":\"apple\",\"price\":100},{\"name\":\"orange\",\"price\":80},{\"name\":\"banana\",\"price\":210}]",
        "payloadType": "json",
        "x": 290,
        "y": 180,
        "wires": [
            [
                "bf0cb02.d8e4b5"
            ]
        ]
    },
    {
        "id": "bf0cb02.d8e4b5",
        "type": "template",
        "z": "be6b9938caeba497",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "# Price List of {{topic}}\n\n{{! outputs list of prices }}\n{{#payload}}\n- {{name}}: {{price}}\n{{/payload}}\n",
        "output": "str",
        "x": 460,
        "y": 180,
        "wires": [
            [
                "153eb0ff.5622df"
            ]
        ]
    },
    {
        "id": "153eb0ff.5622df",
        "type": "debug",
        "z": "be6b9938caeba497",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 180,
        "wires": []
    },
    {
        "id": "fe821493.2e0e28",
        "type": "comment",
        "z": "be6b9938caeba497",
        "name": "2 Parse result as JSON",
        "info": "Template node can create a string value using [Mustache](http://mustache.github.io/mustache.5.html) syntax.\nIf `Partsed JSON` output is selected, the created string is parsed as JSON format and JavaScript object is send as an output payload value.",
        "x": 260,
        "y": 300,
        "wires": []
    },
    {
        "id": "931f94e8.592cd8",
        "type": "inject",
        "z": "be6b9938caeba497",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "message",
        "payload": "Hello, World!",
        "payloadType": "str",
        "x": 320,
        "y": 360,
        "wires": [
            [
                "bb2b0dad.b24b5"
            ]
        ]
    },
    {
        "id": "bb2b0dad.b24b5",
        "type": "template",
        "z": "be6b9938caeba497",
        "name": "JSON template",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"key\" : \"{{topic}}\",\n    \"value\": \"{{payload}}\"\n}\n",
        "output": "json",
        "x": 540,
        "y": 360,
        "wires": [
            [
                "baf2e48.2b97418"
            ]
        ]
    },
    {
        "id": "baf2e48.2b97418",
        "type": "debug",
        "z": "be6b9938caeba497",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 360,
        "wires": []
    },
    {
        "id": "6ad06659.a1e4e8",
        "type": "comment",
        "z": "be6b9938caeba497",
        "name": "3 Parse result as YAML",
        "info": "Template node can create a string value using [Mustache](http://mustache.github.io/mustache.5.html) syntax.\nIf `Partsed YAML` output is selected, the created string is parsed as YAML format and JavaScript object is send as an output payload value.",
        "x": 260,
        "y": 500,
        "wires": []
    },
    {
        "id": "8d6be9a2.c3fa58",
        "type": "inject",
        "z": "be6b9938caeba497",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "message",
        "payload": "Hello, World!",
        "payloadType": "str",
        "x": 320,
        "y": 560,
        "wires": [
            [
                "69369c3.4a98164"
            ]
        ]
    },
    {
        "id": "69369c3.4a98164",
        "type": "template",
        "z": "be6b9938caeba497",
        "name": "YAML template",
        "field": "payload",
        "fieldType": "msg",
        "format": "yaml",
        "syntax": "mustache",
        "template": "key: {{topic}}\nvalue: {{payload}}",
        "output": "yaml",
        "x": 540,
        "y": 560,
        "wires": [
            [
                "11fb2934.f5de27"
            ]
        ]
    },
    {
        "id": "11fb2934.f5de27",
        "type": "debug",
        "z": "be6b9938caeba497",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 730,
        "y": 560,
        "wires": []
    }
]
            </div>
        </details>
        
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: åŸºæœ¬çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰å—ã‘å–ã£ãŸæ¸©åº¦ãƒ‡ãƒ¼ã‚¿ã‚’ã€èª­ã¿ã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«æ•´å½¢ã—ã¦è¡¨ç¤ºã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§æ¸©åº¦ãƒ‡ãƒ¼ã‚¿(ä¾‹: 25)ã‚’é€ä¿¡</li>
                <li>Templateãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€Œç¾åœ¨ã®æ¸©åº¦ã¯ã€‡â„ƒã§ã™ã€ã¨ã„ã†å½¢å¼ã«æ•´å½¢</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§çµæœã‚’è¡¨ç¤º</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>25ã‚’é€ä¿¡ â†’ "ç¾åœ¨ã®æ¸©åº¦ã¯25â„ƒã§ã™" ã¨è¡¨ç¤º</li>
                <li>30ã‚’é€ä¿¡ â†’ "ç¾åœ¨ã®æ¸©åº¦ã¯30â„ƒã§ã™" ã¨è¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>Format: Plain text</li>
                    <li>Template: <code>ç¾åœ¨ã®æ¸©åº¦ã¯{{payload}}â„ƒã§ã™</code></li>
                    <li>Output as: Plain text</li>
                </ul>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>Payload: numberå‹ã§æ¸©åº¦ã®å€¤(ä¾‹: 25)</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "æ¸©åº¦25â„ƒ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "25",
        "payloadType": "num",
        "x": 120,
        "y": 100,
        "wires": [["ex1_template"]]
    },
    {
        "id": "ex1_template",
        "type": "template",
        "name": "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•´å½¢",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "ç¾åœ¨ã®æ¸©åº¦ã¯{{payload}}â„ƒã§ã™",
        "output": "str",
        "x": 290,
        "y": 100,
        "wires": [["ex1_debug"]]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 450,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>æ¸©åº¦25â„ƒãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>ãƒ‡ãƒãƒƒã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã« "ç¾åœ¨ã®æ¸©åº¦ã¯25â„ƒã§ã™" ãŒè¡¨ç¤º</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®HTMLæ•´å½¢<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>æ¸©åº¦ã¨æ¹¿åº¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€HTMLå½¢å¼ã§æ•´å½¢è¡¨ç¤ºã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§æ¸©åº¦ã¨æ¹¿åº¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é€ä¿¡</li>
                <li>Templateãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦HTMLå½¢å¼ã§æ•´å½¢</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§çµæœã‚’è¡¨ç¤º</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>æ¸©åº¦25â„ƒã€æ¹¿åº¦60%ã®ãƒ‡ãƒ¼ã‚¿ â†’ HTMLå½¢å¼ã§è¡¨ç¤º</li>
                <li>h2ã‚¿ã‚°ã§è¦‹å‡ºã—ã€pã‚¿ã‚°ã§ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>Format: Plain text</li>
                    <li>HTMLæ§‹é€ ã‚’å«ã‚€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆ</li>
                    <li><code>{{payload.temperature}}</code> ã¨ <code>{{payload.humidity}}</code> ã‚’ä½¿ç”¨</li>
                </ul>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>Payload: JSONå‹</li>
                    <li>å€¤: <code>{"temperature": 25, "humidity": 60}</code></li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"temperature\":25,\"humidity\":60}",
        "payloadType": "json",
        "x": 140,
        "y": 100,
        "wires": [["ex2_template"]]
    },
    {
        "id": "ex2_template",
        "type": "template",
        "name": "HTMLæ•´å½¢",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<h2>ç’°å¢ƒã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿</h2>\n<p>æ¸©åº¦: {{payload.temperature}}â„ƒ</p>\n<p>æ¹¿åº¦: {{payload.humidity}}%</p>\n<p>æ¸¬å®šæ—¥æ™‚: {{_msgid}}</p>",
        "output": "str",
        "x": 310,
        "y": 100,
        "wires": [["ex2_debug"]]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "name": "HTMLå‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 470,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>HTMLå½¢å¼ã§æ•´å½¢ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤º</li>
                    <li>msg._msgidã‚‚è‡ªå‹•çš„ã«åŸ‹ã‚è¾¼ã¾ã‚Œã‚‹</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: é…åˆ—ãƒ‡ãƒ¼ã‚¿ã®Markdownæ•´å½¢<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>å•†å“ã®é…åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€Mustacheã®ãƒ«ãƒ¼ãƒ—æ©Ÿèƒ½ã‚’ä½¿ã£ã¦Markdownå½¢å¼ã®å•†å“ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§å•†å“ãƒ‡ãƒ¼ã‚¿ã®é…åˆ—ã‚’é€ä¿¡(å•†å“åã¨ä¾¡æ ¼)</li>
                <li>Templateãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒ—å‡¦ç†ã§ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ</li>
                <li>Markdownå½¢å¼(ç®‡æ¡æ›¸ã)ã§å‡ºåŠ›</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§çµæœã‚’è¡¨ç¤º</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>å„å•†å“ãŒã€Œ- å•†å“å: ä¾¡æ ¼ã€ã®å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>è¦‹å‡ºã—ã«"Price List of ã€‡ã€‡"ãŒè¡¨ç¤ºã•ã‚Œã‚‹</li>
                <li>é…åˆ—ã®å…¨ã¦ã®è¦ç´ ãŒé †ç•ªã«å‡¦ç†ã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®é«˜åº¦ãªæ©Ÿèƒ½:</strong></p>
                <ul>
                    <li>ãƒ«ãƒ¼ãƒ—: <code>{{#payload}}...{{/payload}}</code></li>
                    <li>ã‚³ãƒ¡ãƒ³ãƒˆ: <code>{{! ã“ã‚Œã¯ã‚³ãƒ¡ãƒ³ãƒˆ }}</code></li>
                    <li>é…åˆ—ã®è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹: <code>{{name}}</code>, <code>{{price}}</code></li>
                    <li>topicã®åˆ©ç”¨: <code>{{topic}}</code></li>
                </ul>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ä¾‹:</strong></p>
                <div class="code-block">
[
  {"name": "apple", "price": 100},
  {"name": "orange", "price": 80},
  {"name": "banana", "price": 210}
]
                </div>
                <p><strong>Templateã®æ›¸ãæ–¹:</strong></p>
                <div class="code-block">
# Price List of {{topic}}

{{! outputs list of prices }}
{{#payload}}
- {{name}}: {{price}}
{{/payload}}
                </div>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex3_inject",
        "type": "inject",
        "name": "Price of fruits",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "Fruits",
        "payload": "[{\"name\":\"apple\",\"price\":100},{\"name\":\"orange\",\"price\":80},{\"name\":\"banana\",\"price\":210}]",
        "payloadType": "json",
        "x": 140,
        "y": 100,
        "wires": [["ex3_template"]]
    },
    {
        "id": "ex3_template",
        "type": "template",
        "name": "Markdownç”Ÿæˆ",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "# Price List of {{topic}}\n\n{{! outputs list of prices }}\n{{#payload}}\n- {{name}}: {{price}}\n{{/payload}}\n",
        "output": "str",
        "x": 330,
        "y": 100,
        "wires": [["ex3_debug"]]
    },
    {
        "id": "ex3_debug",
        "type": "debug",
        "name": "Markdownå‡ºåŠ›",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 510,
        "y": 100,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>Price of fruitsãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>Markdownå½¢å¼ã®ãƒªã‚¹ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹</li>
                    <li>å‡ºåŠ›:</li>
                </ul>
                <div class="code-block">
# Price List of Fruits

- apple: 100
- orange: 80
- banana: 210
                </div>
                <p><strong>ğŸ“ å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
                <ul>
                    <li>{{#payload}}...{{/payload}}ã§é…åˆ—ã®å„è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—</li>
                    <li>ãƒ«ãƒ¼ãƒ—å†…ã§ã¯è¦ç´ ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
                    <li>{{! ã‚³ãƒ¡ãƒ³ãƒˆ }}ã¯å‡ºåŠ›ã•ã‚Œãªã„(ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ãƒ¡ãƒ¢ç”¨)</li>
                    <li>Markdownå½¢å¼ã§è¦‹ã‚„ã™ã„å‡ºåŠ›ãŒå¯èƒ½</li>
                </ul>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: Parsed JSON/YAMLå‡ºåŠ›ã®æ´»ç”¨<span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’Templateãƒãƒ¼ãƒ‰ã§å—ã‘å–ã‚Šã€Parsed JSONæ©Ÿèƒ½ã‚’ä½¿ã£ã¦APIãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã™ã‚‹ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectãƒãƒ¼ãƒ‰ã§ã‚»ãƒ³ã‚µãƒ¼åã¨æ¸¬å®šå€¤ã‚’é€ä¿¡</li>
                <li>Templateãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦JSONå½¢å¼ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ </li>
                <li>å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’"Parsed JSON"ã«è¨­å®š</li>
                <li>Debugãƒãƒ¼ãƒ‰ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¡¨ç¤º</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>å…¥åŠ›: <code>{name: "æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼1", value: 25}</code></li>
                <li>å‡ºåŠ›: JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(æ–‡å­—åˆ—ã§ã¯ãªã„)ã¨ã—ã¦æ¬¡ã®ãƒãƒ¼ãƒ‰ã«æ¸¡ã•ã‚Œã‚‹</li>
                <li>ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã©ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•ä»˜ä¸ã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®é‡è¦è¨­å®š:</strong></p>
                <ul>
                    <li>Format: JSON</li>
                    <li>Output as: <strong>Parsed JSON</strong> (é‡è¦!)</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§æœ‰åŠ¹ãªJSONæ§‹æ–‡ã‚’ä½¿ç”¨</li>
                    <li>æ•°å€¤ã¯å¼•ç”¨ç¬¦ãªã—ã€æ–‡å­—åˆ—ã¯å¼•ç”¨ç¬¦ã‚ã‚Š</li>
                </ul>
                <p><strong>Parsed JSON vs Plain text:</strong></p>
                <table>
                    <tr>
                        <th>è¨­å®š</th>
                        <th>å‡ºåŠ›å‹</th>
                        <th>ç”¨é€”</th>
                    </tr>
                    <tr>
                        <td>Plain text</td>
                        <td>æ–‡å­—åˆ—</td>
                        <td>è¡¨ç¤ºã€ãƒ­ã‚°å‡ºåŠ›</td>
                    </tr>
                    <tr>
                        <td>Parsed JSON</td>
                        <td>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</td>
                        <td>APIå¿œç­”ã€æ¬¡ãƒãƒ¼ãƒ‰ã§ã®ãƒ‡ãƒ¼ã‚¿å‡¦ç†</td>
                    </tr>
                </table>
                <p><strong>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹:</strong></p>
                <div class="code-block">
{
    "sensor": "{{payload.name}}",
    "value": {{payload.value}},
    "unit": "â„ƒ",
    "status": "active",
    "timestamp": "{{_msgid}}"
}
                </div>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼(Parsed JSONç‰ˆ)</summary>
                <div class="flow-json">
[
    {
        "id": "ex4_inject_json",
        "type": "inject",
        "name": "ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "sensor_data",
        "payload": "{\"name\":\"æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼1\",\"value\":25}",
        "payloadType": "json",
        "x": 140,
        "y": 80,
        "wires": [["ex4_template_json"]]
    },
    {
        "id": "ex4_template_json",
        "type": "template",
        "name": "JSON API Response",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "{\n    \"sensor\": \"{{payload.name}}\",\n    \"value\": {{payload.value}},\n    \"unit\": \"â„ƒ\",\n    \"status\": \"active\",\n    \"timestamp\": \"{{_msgid}}\"\n}",
        "output": "json",
        "x": 360,
        "y": 80,
        "wires": [["ex4_debug_json"]]
    },
    {
        "id": "ex4_debug_json",
        "type": "debug",
        "name": "JSON Object",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 570,
        "y": 80,
        "wires": []
    },
    {
        "id": "ex4_inject_yaml",
        "type": "inject",
        "name": "ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿",
        "props": [
            {"p": "payload"},
            {"p": "topic", "vt": "str"}
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "sensor_data",
        "payload": "{\"name\":\"æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼2\",\"value\":28}",
        "payloadType": "json",
        "x": 140,
        "y": 160,
        "wires": [["ex4_template_yaml"]]
    },
    {
        "id": "ex4_template_yaml",
        "type": "template",
        "name": "YAML Config",
        "field": "payload",
        "fieldType": "msg",
        "format": "yaml",
        "syntax": "mustache",
        "template": "sensor: {{payload.name}}\nvalue: {{payload.value}}\nunit: â„ƒ\nstatus: active\ntimestamp: {{_msgid}}",
        "output": "yaml",
        "x": 330,
        "y": 160,
        "wires": [["ex4_debug_yaml"]]
    },
    {
        "id": "ex4_debug_yaml",
        "type": "debug",
        "name": "YAML Object",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 570,
        "y": 160,
        "wires": []
    }
]
                </div>
                <p><strong>âœ… å‹•ä½œç¢ºèª:</strong></p>
                <ul>
                    <li>ä¸Šã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒœã‚¿ãƒ³ â†’ JSONå½¢å¼ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ</li>
                    <li>ä¸‹ã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒœã‚¿ãƒ³ â†’ YAMLå½¢å¼ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ</li>
                    <li>ã©ã¡ã‚‰ã‚‚æœ€çµ‚çš„ã«ã¯JavaScriptã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å‡ºåŠ›</li>
                    <li>æ¬¡ã®ãƒãƒ¼ãƒ‰ã§ <code>msg.payload.sensor</code> ãªã©ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</li>
                </ul>
                <p><strong>ğŸ“ å¿œç”¨ä¾‹:</strong></p>
                <ul>
                    <li><strong>APIå¿œç­”ç”Ÿæˆ:</strong> http responseãƒãƒ¼ãƒ‰ã¸æ¥ç¶šã—ã¦REST APIæ§‹ç¯‰</li>
                    <li><strong>ãƒ‡ãƒ¼ã‚¿å¤‰æ›:</strong> å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºã«å¿…è¦ãªå½¢å¼ã¸å¤‰æ›</li>
                    <li><strong>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ:</strong> YAMLå½¢å¼ã§å‹•çš„ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ</li>
                    <li><strong>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰:</strong> ã‚°ãƒ©ãƒ•è¡¨ç¤ºç”¨ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æ•´å½¢</li>
                </ul>
                <p><strong>ğŸ” JSON vs YAMLæ¯”è¼ƒ:</strong></p>
                <div class="code-block">
// JSONå½¢å¼
{
    "key": "{{topic}}",
    "value": "{{payload}}"
}

// YAMLå½¢å¼(å¼•ç”¨ç¬¦ä¸è¦ã§èª­ã¿ã‚„ã™ã„)
key: {{topic}}
value: {{payload}}
                </div>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Templateãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>Mustacheè¨˜æ³•</strong>: ã‚·ãƒ³ãƒ—ãƒ«ã§å¼·åŠ›ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³</li>
                <li>âœ… <strong>å‹•çš„æ–‡å­—åˆ—ç”Ÿæˆ</strong>: å¤‰æ•°ã‚’åŸ‹ã‚è¾¼ã‚“ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ</li>
                <li>âœ… <strong>è¤‡æ•°ã®å‡ºåŠ›å½¢å¼</strong>: Plain textã€JSONã€YAMLã«å¯¾å¿œ</li>
                <li>âœ… <strong>æ¡ä»¶åˆ†å²ã¨ãƒ«ãƒ¼ãƒ—</strong>: è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã‚‚å¯¾å¿œ</li>
                <li>âœ… <strong>IoTæ´»ç”¨</strong>: ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®æ•´å½¢ã€ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã«æœ€é©</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Templateãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Changeãƒãƒ¼ãƒ‰</strong>: ã‚ˆã‚Šç°¡å˜ãªãƒ‡ãƒ¼ã‚¿å¤‰æ›</li>
                <li><strong>Functionãƒãƒ¼ãƒ‰</strong>: JavaScriptã§ã®é«˜åº¦ãªå‡¦ç†</li>
                <li><strong>Dashboardãƒãƒ¼ãƒ‰</strong>: Templateã§ç”Ÿæˆã—ãŸHTMLã‚’è¡¨ç¤º</li>
                <li><strong>http responseãƒãƒ¼ãƒ‰</strong>: Webã‚µãƒ¼ãƒãƒ¼ã§ã®Templateæ´»ç”¨</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>å¤‰æ•°ãŒå±•é–‹ã•ã‚Œãš{{}}ãŒãã®ã¾ã¾è¡¨ç¤º</td>
                <td>æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã¾ãŸã¯å¤‰æ•°ãŒå­˜åœ¨ã—ãªã„</td>
                <td>å¤‰æ•°åã®ã‚¹ãƒšãƒ«ã¨éšå±¤ã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>JSONå‡ºåŠ›ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ</td>
                <td>ç„¡åŠ¹ãªJSONå½¢å¼</td>
                <td>ã‚«ãƒ³ãƒã€æ‹¬å¼§ã€å¼•ç”¨ç¬¦ã‚’ãƒã‚§ãƒƒã‚¯</td>
            </tr>
            <tr>
                <td>ãƒ«ãƒ¼ãƒ—ãŒå‹•ä½œã—ãªã„</td>
                <td>é…åˆ—ã§ãªã„ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨</td>
                <td>msg.payloadãŒé…åˆ—ã‹ç¢ºèª</td>
            </tr>
            <tr>
                <td>HTMLã‚¿ã‚°ãŒã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã•ã‚Œã‚‹</td>
                <td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å®‰å…¨ãªå‡ºåŠ›</td>
                <td>{{&å¤‰æ•°}}ã‚’ä½¿ç”¨(è¦æ³¨æ„)</td>
            </tr>
            <tr>
                <td>YAMLå‡ºåŠ›ã§ã‚¨ãƒ©ãƒ¼</td>
                <td>ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®ä¸æ•´åˆ</td>
                <td>ã‚¹ãƒšãƒ¼ã‚¹ã¨ã‚¿ãƒ–ã‚’çµ±ä¸€</td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: IoTã‚»ãƒ³ã‚µãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h3>
        <div class="code-block">
Injectãƒãƒ¼ãƒ‰(å®šæœŸå®Ÿè¡Œ)
â†“
Functionãƒãƒ¼ãƒ‰(ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿åé›†)
â†“
Templateãƒãƒ¼ãƒ‰(HTMLãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ)
â†“
Dashboard UIãƒãƒ¼ãƒ‰(è¡¨ç¤º)
        </div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: APIå¿œç­”ã®æ•´å½¢</h3>
        <div class="code-block">
HTTP Inãƒãƒ¼ãƒ‰(ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ä¿¡)
â†“
Functionãƒãƒ¼ãƒ‰(ãƒ‡ãƒ¼ã‚¿å‡¦ç†)
â†“
Templateãƒãƒ¼ãƒ‰(JSONå¿œç­”ç”Ÿæˆ)
â†“
HTTP Responseãƒãƒ¼ãƒ‰(å¿œç­”è¿”é€)
        </div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h3>
        <div class="code-block">
Triggerãƒãƒ¼ãƒ‰(ç•°å¸¸æ¤œçŸ¥)
â†“
Templateãƒãƒ¼ãƒ‰(ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ç”Ÿæˆ)
â†“
Emailé€ä¿¡ãƒãƒ¼ãƒ‰
        </div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å‹•çš„ç”Ÿæˆ</h3>
        <div class="code-block">
Injectãƒãƒ¼ãƒ‰(è¨­å®šå€¤é€ä¿¡)
â†“
Templateãƒãƒ¼ãƒ‰(YAMLç”Ÿæˆ)
â†“
File Writeãƒãƒ¼ãƒ‰(ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜)
        </div>
        
        <h2>ğŸ”— 8. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/nodes#template" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Templateãƒãƒ¼ãƒ‰</a></li>
            <li><a href="http://mustache.github.io/mustache.5.html" target="_blank">Mustacheè¨˜æ³• å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
            <li><a href="https://cookbook.nodered.org/basic/operate-on-payload" target="_blank">Node-RED Cookbook: ãƒ‡ãƒ¼ã‚¿æ“ä½œ</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Templateãƒãƒ¼ãƒ‰ã¯ãƒ‡ãƒ¼ã‚¿æ•´å½¢ã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã‚¯ãƒ©ã‚¹ã®ã¿ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ (æ¼”ç¿’å•é¡Œã®JSONãƒ•ãƒ­ãƒ¼ã®ã¿)
            const codeBlocks = document.querySelectorAll('.flow-json');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
                    const code = block.textContent.replace('ã‚³ãƒ”ãƒ¼', '').trim();
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.textContent = 'ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
</body>
</html>
