<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Joinãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-split {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-join {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-template {
            background-color: #d4b8a0;
            color: #333;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .node-switch {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-csv {
            background-color: #c9e7d4;
            color: #333;
        }
        
        .node-delay {
            background-color: #e6bcbe;
            color: #333;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            white-space: pre-wrap;
        }
        
        .js-code {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border: none;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            position: relative;
            white-space: pre;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .copy-button svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #e2d96e;
            color: #333;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #b8a830;
            margin-top: 0;
        }
        
        .mode-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-auto {
            background-color: #28a745;
            color: white;
        }
        
        .badge-manual {
            background-color: #17a2b8;
            color: white;
        }
        
        .badge-reduce {
            background-color: #6f42c1;
            color: white;
        }
        
        .badge-string {
            background-color: #e2d96e;
            color: #333;
        }
        
        .badge-array {
            background-color: #17a2b8;
            color: white;
        }
        
        .badge-object {
            background-color: #6f42c1;
            color: white;
        }
        
        .badge-merged {
            background-color: #dc3545;
            color: white;
        }
        
        .data-flow {
            background-color: #f0f0f0;
            border: 2px dashed #999;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .data-flow .before {
            background-color: #ffcccc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .after {
            background-color: #ccffcc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .arrow-down {
            display: block;
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”— Node-RED Joinãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Joinãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Joinãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€ŒJoinã€ã£ã¦ä½•?</h3>
        <p>
            Joinãƒãƒ¼ãƒ‰ã¯ã€<strong>è¤‡æ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«çµåˆã™ã‚‹</strong>ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>ãƒ‘ã‚ºãƒ«ã®ãƒ”ãƒ¼ã‚¹ã‚’çµ„ã¿åˆã‚ã›ã¦1æšã®çµµã‚’å®Œæˆã•ã›ã‚‹</strong>ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
        </p>
        
        <div class="important">
            <p><strong>ğŸ§© ãƒ‘ã‚ºãƒ«ã®çµ„ã¿ç«‹ã¦ã«ä¾‹ãˆã‚‹ã¨:</strong></p>
            <ul>
                <li>ğŸ§© <strong>ãƒãƒ©ãƒãƒ©ã®ãƒ”ãƒ¼ã‚¹ã‚’å—ã‘å–ã‚‹</strong> = è¤‡æ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé †ç•ªã«å±Šã</li>
                <li>ğŸ” <strong>ãƒ”ãƒ¼ã‚¹ã®ç•ªå·ã‚’ç¢ºèª</strong> = msg.partsã§é †åºã‚„ç·æ•°ã‚’ç¢ºèª</li>
                <li>ğŸ–¼ï¸ <strong>ãƒ”ãƒ¼ã‚¹ã‚’ä¸¦ã¹ã¦çµ„ã¿åˆã‚ã›ã‚‹</strong> = Joinãƒãƒ¼ãƒ‰ã§çµåˆ</li>
                <li>âœ¨ <strong>1æšã®çµµãŒå®Œæˆ</strong> = 1ã¤ã®çµåˆã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›</li>
            </ul>
        </div>
        
        <h3>ğŸ“¦ åŸºæœ¬çš„ãªå‹•ä½œ</h3>
        <div class="node-example">
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-function">å‡¦ç†</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p>
            Joinãƒãƒ¼ãƒ‰ã¯ã€è¤‡æ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚Šã€ãã‚Œã‚‰ã‚’<strong>1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¾ã¨ã‚ã¦å‡ºåŠ›</strong>ã—ã¾ã™ã€‚
            <strong>Splitãƒãƒ¼ãƒ‰</strong>ã§åˆ†å‰²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å†çµåˆã—ãŸã‚Šã€ç•°ãªã‚‹ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ãŸã‚Šã§ãã¾ã™ã€‚
        </p>
        
        <div class="data-flow">
            <div class="before">
                <strong>å…¥åŠ›(3ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)</strong><br>
                "Apple" â†’ "Orange" â†’ "Banana"
            </div>
            <span class="arrow-down">â†“ Join â†“</span>
            <div class="after">
                <strong>å‡ºåŠ›(1ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)</strong><br>
                ["Apple", "Orange", "Banana"]
            </div>
        </div>
        
        <h2>âš™ï¸ 2. Joinãƒãƒ¼ãƒ‰ã®3ã¤ã®ãƒ¢ãƒ¼ãƒ‰</h2>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-auto">è‡ªå‹•</span> Automatic</h4>
                <p>Splitãƒãƒ¼ãƒ‰ã¨é€£æºã—ã¦è‡ªå‹•çš„ã«å†çµåˆ</p>
                <div class="code-block">msg.partsã‚’ä½¿ç”¨ã—ã¦
å…ƒã®å½¢å¼ã«å¾©å…ƒ</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-manual">æ‰‹å‹•</span> Manual</h4>
                <p>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã‚„ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’æŒ‡å®šã—ã¦çµåˆ</p>
                <div class="code-block">æ–‡å­—åˆ—/é…åˆ—/ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
å½¢å¼ã‚’é¸æŠå¯èƒ½</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-reduce">Reduce</span> Reduce</h4>
                <p>JSONataå¼ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é›†è¨ˆãƒ»å¤‰æ›</p>
                <div class="code-block">åˆè¨ˆã€å¹³å‡ã€é…åˆ—å¤‰æ›
ãªã©æŸ”è»Ÿãªå‡¦ç†</div>
            </div>
        </div>
        
        <h3>ğŸ“‹ è¨­å®šé …ç›®ä¸€è¦§</h3>
        
        <table>
            <tr>
                <th>è¨­å®šé …ç›®</th>
                <th>èª¬æ˜</th>
                <th>ä½¿ç”¨ãƒ¢ãƒ¼ãƒ‰</th>
            </tr>
            <tr>
                <td><strong>å‹•ä½œ</strong></td>
                <td>è‡ªå‹•/æ‰‹å‹•/Reduceã‹ã‚‰é¸æŠ</td>
                <td>å…¨ãƒ¢ãƒ¼ãƒ‰å…±é€š</td>
            </tr>
            <tr>
                <td><strong>å‡ºåŠ›</strong></td>
                <td>æ–‡å­—åˆ—/é…åˆ—/ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ/ãƒãƒ¼ã‚¸</td>
                <td>æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>å¯¾è±¡ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</strong></td>
                <td>çµåˆå¯¾è±¡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</td>
                <td>æ‰‹å‹•/Reduce</td>
            </tr>
            <tr>
                <td><strong>é€£çµæ–‡å­—</strong></td>
                <td>æ–‡å­—åˆ—çµåˆæ™‚ã®åŒºåˆ‡ã‚Šæ–‡å­—</td>
                <td>æ‰‹å‹•(æ–‡å­—åˆ—)</td>
            </tr>
            <tr>
                <td><strong>ä½¿ç”¨ã™ã‚‹å€¤</strong></td>
                <td>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆçµåˆæ™‚ã®ã‚­ãƒ¼ã¨ãªã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</td>
                <td>æ‰‹å‹•(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)</td>
            </tr>
            <tr>
                <td><strong>åˆè¨ˆå€¤</strong></td>
                <td>çµåˆã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ•°</td>
                <td>æ‰‹å‹•/Reduce</td>
            </tr>
            <tr>
                <td><strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</strong></td>
                <td>æŒ‡å®šç§’æ•°å¾Œã«å¼·åˆ¶çµåˆ</td>
                <td>æ‰‹å‹•/Reduce</td>
            </tr>
            <tr>
                <td><strong>æ—¢å­˜ã®msg.partsãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ç”¨</strong></td>
                <td>æ—¢å­˜ã®msg.partsæƒ…å ±ã‚’ä½¿ç”¨ã—ã¦ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’èªè­˜</td>
                <td>æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>è“„ç©ãƒ¢ãƒ¼ãƒ‰</strong></td>
                <td>å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡æ™‚ã«å‡ºåŠ›ã‚’ç”Ÿæˆ</td>
                <td>æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>Reduceå¼</strong></td>
                <td>JSONataå¼ã§é›†è¨ˆå‡¦ç†ã‚’å®šç¾©</td>
                <td>Reduceãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>åˆæœŸå€¤</strong></td>
                <td>Reduceå‡¦ç†ã®åˆæœŸå€¤</td>
                <td>Reduceãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>æœ€çµ‚å‡¦ç†</strong></td>
                <td>çµåˆå®Œäº†å¾Œã®å¤‰æ›å¼</td>
                <td>Reduceãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
            <tr>
                <td><strong>é€†é †ã§è©•ä¾¡</strong></td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€†é †ã§å‡¦ç†</td>
                <td>Reduceãƒ¢ãƒ¼ãƒ‰</td>
            </tr>
        </table>
        
        <h3>ğŸ¯ msg.partsã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</h3>
        
        <p>Splitãƒãƒ¼ãƒ‰ãŒä»˜ä¸ã™ã‚‹<code>msg.parts</code>æƒ…å ±ã‚’ä½¿ã£ã¦ã€Joinãƒãƒ¼ãƒ‰ã¯è‡ªå‹•çš„ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å†çµåˆã—ã¾ã™ã€‚</p>
        
        <div class="code-block">msg.parts = {
    id: "abc123",      // åˆ†å‰²ã‚°ãƒ«ãƒ¼ãƒ—ã®è­˜åˆ¥å­
    index: 0,          // ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é †ç•ª(0ã‹ã‚‰)
    count: 3,          // ç·åˆ†å‰²æ•°
    type: "array",     // å…ƒã®ãƒ‡ãƒ¼ã‚¿å‹
    key: "Apple"       // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆ†å‰²æ™‚ã®ã‚­ãƒ¼å
}</div>
        
        <h2>ğŸ¯ 3. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <div class="important">
            <p><strong>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹æ³•:</strong></p>
            <ol>
                <li>ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONã‚’ã‚³ãƒ”ãƒ¼</li>
                <li>Node-REDã‚¨ãƒ‡ã‚£ã‚¿ã§ <strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ èª­ã¿è¾¼ã¿</strong> ã‚’é¸æŠ</li>
                <li>JSONã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã€Œèª­ã¿è¾¼ã¿ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
            <p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>
        
        <details>
            <summary>ğŸ“‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <p style="margin: 10px 0; color: #666;"><small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small></p>
            <div class="flow-json">[{"id":"4775a535c935964a","type":"tab","label":"join","disabled":false,"info":"","env":[]},{"id":"afe74de5.58488","type":"comment","z":"4775a535c935964a","name":"Example: Automatic Mode","info":"Join node can be used to join payload of messages into single message payload. In automatic mode, it uses `parts` property to decide sequence of messages to join.","x":230,"y":120,"wires":[]},{"id":"d0c8c78e.1281e8","type":"inject","z":"4775a535c935964a","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":280,"y":240,"wires":[["c59ac70d.bb9c58"]]},{"id":"c59ac70d.bb9c58","type":"template","z":"4775a535c935964a","name":"data","field":"payload","fieldType":"msg","format":"text","syntax":"plain","template":"Apple\nOrange\nBanana\nKiwi","output":"str","x":430,"y":240,"wires":[["21829618.af5b0a"]]},{"id":"d6c9fe0.d34ad","type":"join","z":"4775a535c935964a","name":"","mode":"auto","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","useparts":false,"accumulate":"false","timeout":"","count":"","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":710,"y":240,"wires":[["8defdbb8.aa9c08"]]},{"id":"21829618.af5b0a","type":"split","z":"4775a535c935964a","name":"","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":570,"y":240,"wires":[["d6c9fe0.d34ad"]]},{"id":"8defdbb8.aa9c08","type":"debug","z":"4775a535c935964a","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":870,"y":240,"wires":[]},{"id":"7bf47d74.b233b4","type":"comment","z":"4775a535c935964a","name":"Example: Manual Mode","info":"","x":260,"y":360,"wires":[]},{"id":"7f104f68.aecff","type":"inject","z":"4775a535c935964a","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":280,"y":480,"wires":[["ed0381d3.e25fc"]]},{"id":"ed0381d3.e25fc","type":"template","z":"4775a535c935964a","name":"data","field":"payload","fieldType":"msg","format":"text","syntax":"plain","template":"Apple\nOrange\nBanana\nKiwi","output":"str","x":430,"y":480,"wires":[["12b322b7.78f48d"]]},{"id":"a4f5546e.28b268","type":"join","z":"4775a535c935964a","name":"","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":",","joinerType":"str","useparts":false,"accumulate":"false","timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":710,"y":480,"wires":[["e3e636ab.5c5068"]]},{"id":"12b322b7.78f48d","type":"split","z":"4775a535c935964a","name":"","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":570,"y":480,"wires":[["a4f5546e.28b268"]]},{"id":"e3e636ab.5c5068","type":"debug","z":"4775a535c935964a","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":870,"y":480,"wires":[]},{"id":"6a104137.204b3","type":"comment","z":"4775a535c935964a","name":"Join two consecutive messages (count=2)","info":"","x":350,"y":420,"wires":[]},{"id":"9279b993.ba7ed8","type":"comment","z":"4775a535c935964a","name":"Example: Reduce Mode","info":"","x":260,"y":1220,"wires":[]},{"id":"e415861b.d82e38","type":"inject","z":"4775a535c935964a","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":280,"y":1340,"wires":[["7c8a4816.500ed8"]]},{"id":"7c8a4816.500ed8","type":"template","z":"4775a535c935964a","name":"data","field":"payload","fieldType":"msg","format":"json","syntax":"plain","template":"[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]","output":"json","x":430,"y":1340,"wires":[["7f64da1f.611014"]]},{"id":"5fde318f.23897","type":"join","z":"4775a535c935964a","name":"","mode":"reduce","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":",","joinerType":"str","useparts":false,"accumulate":"false","timeout":"","count":"","reduceRight":false,"reduceExp":"$A+payload","reduceInit":"0","reduceInitType":"num","reduceFixup":"$A/$N","x":710,"y":1340,"wires":[["50977eaf.0490b"]]},{"id":"50977eaf.0490b","type":"debug","z":"4775a535c935964a","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":870,"y":1340,"wires":[]},{"id":"57bce4bf.38d02c","type":"comment","z":"4775a535c935964a","name":"Calculate average using Reduce","info":"","x":320,"y":1280,"wires":[]},{"id":"7f64da1f.611014","type":"split","z":"4775a535c935964a","name":"","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":570,"y":1340,"wires":[["5fde318f.23897"]]},{"id":"array_comment","type":"comment","z":"4775a535c935964a","name":"Example: Array Mode (ãƒ‘ã‚¿ãƒ¼ãƒ³4)","info":"é…åˆ—å½¢å¼ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµåˆ","x":280,"y":780,"wires":[]},{"id":"p4_inject","type":"inject","z":"4775a535c935964a","name":"å®Ÿè¡Œ","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Apple,Orange,Banana,Kiwi","payloadType":"str","x":270,"y":900,"wires":[["p4_split"]]},{"id":"p4_split","type":"split","z":"4775a535c935964a","name":"åˆ†å‰²","splt":",","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":410,"y":900,"wires":[["p4_join"]]},{"id":"p4_join","type":"join","z":"4775a535c935964a","name":"é…åˆ—çµåˆ","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":",","joinerType":"str","useparts":false,"accumulate":"false","timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":550,"y":900,"wires":[["p4_debug"]]},{"id":"p4_debug","type":"debug","z":"4775a535c935964a","name":"çµæœ","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":710,"y":900,"wires":[]},{"id":"p4_note","type":"comment","z":"4775a535c935964a","name":"Join 2 messages into array","info":"","x":300,"y":840,"wires":[]},{"id":"timeout_comment","type":"comment","z":"4775a535c935964a","name":"Example: Timeout Mode (ãƒ‘ã‚¿ãƒ¼ãƒ³3)","info":"ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµåˆ","x":300,"y":580,"wires":[]},{"id":"p3_inject","type":"inject","z":"4775a535c935964a","name":"å®Ÿè¡Œ","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Apple,Orange,Banana,Kiwi","payloadType":"str","x":280,"y":700,"wires":[["p3_split"]]},{"id":"p3_split","type":"split","z":"4775a535c935964a","name":"åˆ†å‰²","splt":",","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":420,"y":700,"wires":[["p3_delay"]]},{"id":"p3_delay","type":"delay","z":"4775a535c935964a","name":"1ç§’/msg","pauseType":"rate","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"allowrate":false,"outputs":1,"x":550,"y":700,"wires":[["p3_join"]]},{"id":"p3_join","type":"join","z":"4775a535c935964a","name":"2ç§’ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ","mode":"custom","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":",","joinerType":"str","useparts":false,"accumulate":"false","timeout":"2","count":"","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":720,"y":700,"wires":[["p3_debug"]]},{"id":"p3_debug","type":"debug","z":"4775a535c935964a","name":"çµæœ","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":880,"y":700,"wires":[]},{"id":"p3_note","type":"comment","z":"4775a535c935964a","name":"Join with 2 second timeout","info":"","x":310,"y":640,"wires":[]},{"id":"object_comment","type":"comment","z":"4775a535c935964a","name":"Example: Object Mode (ãƒ‘ã‚¿ãƒ¼ãƒ³5)","info":"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµåˆ","x":290,"y":1000,"wires":[]},{"id":"p5_inject","type":"inject","z":"4775a535c935964a","name":"å®Ÿè¡Œ","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":270,"y":1120,"wires":[["p5_template"]]},{"id":"p5_template","type":"template","z":"4775a535c935964a","name":"å•†å“ãƒ‡ãƒ¼ã‚¿","field":"payload","fieldType":"msg","format":"json","syntax":"plain","template":"[{\"name\": \"Apple\", \"price\": 100}, {\"name\": \"Orange\", \"price\": 80}]","output":"json","x":420,"y":1120,"wires":[["p5_split"]]},{"id":"p5_split","type":"split","z":"4775a535c935964a","name":"åˆ†å‰²","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":570,"y":1120,"wires":[["p5_change"]]},{"id":"p5_change","type":"change","z":"4775a535c935964a","name":"topic/payloadè¨­å®š","rules":[{"t":"set","p":"topic","pt":"msg","to":"payload.name","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"payload.price","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1120,"wires":[["p5_join"]]},{"id":"p5_join","type":"join","z":"4775a535c935964a","name":"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆçµåˆ","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"topic","joiner":",","joinerType":"str","useparts":false,"accumulate":"false","timeout":"","count":"2","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":940,"y":1120,"wires":[["p5_debug"]]},{"id":"p5_debug","type":"debug","z":"4775a535c935964a","name":"çµæœ","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1110,"y":1120,"wires":[]},{"id":"p5_note","type":"comment","z":"4775a535c935964a","name":"Create key/value object from array","info":"","x":330,"y":1060,"wires":[]}]            </div>
        </details>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰ï¼ˆSplitã¨é€£æºï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> Splitãƒãƒ¼ãƒ‰ã§åˆ†å‰²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…ƒã®å½¢å¼ã«å†çµåˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join<br><small>(è‡ªå‹•)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>"Apple\nOrange\nBanana\nKiwi" ã‚’Splitã§åˆ†å‰²</li>
                <li>4ã¤ã®å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé †ç•ªã«é€ä¿¡ã•ã‚Œã‚‹</li>
                <li>JoinãŒSplitãŒä»˜ä¸ã—ãŸmsg.partsã‚’ä½¿ã£ã¦è‡ªå‹•å†çµåˆ</li>
                <li>å…ƒã®å½¢å¼ã«æˆ»ã‚‹</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: è‡ªå‹•

å…¥åŠ›: "Apple" â†’ "Orange" â†’ "Banana" â†’ "Kiwi" (4ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
å‡ºåŠ›: "Apple\nOrange\nBanana\nKiwi" (1ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°æŒ‡å®šï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> æŒ‡å®šã—ãŸæ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµåˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join<br><small>(count=2)</small></span>
            <span class="arrow">â†’â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>4ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ "Apple", "Orange", "Banana", "Kiwi" ã‚’å—ä¿¡</li>
                <li>2ã¤ãšã¤çµåˆã—ã¦å‡ºåŠ›</li>
                <li>"Apple,Orange" â†’ "Banana,Kiwi" ã®2ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•
çµåˆå½¢å¼: æ–‡å­—åˆ—
çµåˆæ–‡å­—: ,
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 2

å…¥åŠ›: "Apple" â†’ "Orange" â†’ "Banana" â†’ "Kiwi"
å‡ºåŠ›: "Apple,Orange" â†’ "Banana,Kiwi"</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæŒ‡å®šï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> æŒ‡å®šæ™‚é–“å†…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµåˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-delay">Delay<br><small>(1ç§’/msg)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join<br><small>(2ç§’)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ç§’é–“éš”ã§å—ä¿¡</li>
                <li>2ç§’ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§çµåˆ</li>
                <li>2ç§’ä»¥å†…ã«å±Šã„ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã¾ã¨ã‚ã¦å‡ºåŠ›</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•
çµåˆå½¢å¼: æ–‡å­—åˆ—
çµåˆæ–‡å­—: ,
ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 2ç§’

å…¥åŠ›: 1ç§’é–“éš”ã§ "Apple" â†’ "Orange" â†’ "Banana" â†’ "Kiwi"
å‡ºåŠ›: "Apple,Orange" â†’ "Banana,Kiwi" (ç´„2ç§’ã”ã¨ã«å‡ºåŠ›)</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³4: é…åˆ—å½¢å¼ã§ã®çµåˆ</h3>
        <p><strong>ç”¨é€”:</strong> è¤‡æ•°ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é…åˆ—ã«ã¾ã¨ã‚ã‚‹</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join<br><small>(é…åˆ—)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•
çµåˆå½¢å¼: é…åˆ—
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 2

å…¥åŠ›: "Apple" â†’ "Orange" â†’ "Banana" â†’ "Kiwi"
å‡ºåŠ›: ["Apple", "Orange"] â†’ ["Banana", "Kiwi"]</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³5: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã§ã®çµåˆ</h3>
        <p><strong>ç”¨é€”:</strong> msg.topicã‚’ã‚­ãƒ¼ã¨ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template<br><small>(é…åˆ—)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-change">Change<br><small>(topicè¨­å®š)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join<br><small>(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>Templateãƒãƒ¼ãƒ‰ã§é…åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ</li>
                <li>Splitãƒãƒ¼ãƒ‰ã§é…åˆ—ã‚’å€‹åˆ¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«åˆ†å‰²</li>
                <li>Changeãƒãƒ¼ãƒ‰ã§msg.topicã«å•†å“åã€msg.payloadã«ä¾¡æ ¼ã‚’è¨­å®š</li>
                <li>Joinã§topicã‚’ã‚­ãƒ¼ã€payloadã‚’å€¤ã¨ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«çµåˆ</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•
çµåˆå½¢å¼: ã‚­ãƒ¼/å€¤ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 2

å…¥åŠ›: {topic: "Apple", payload: 100} â†’ {topic: "Orange", payload: 80}
å‡ºåŠ›: {"Apple": 100, "Orange": 80}</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³6: Reduceãƒ¢ãƒ¼ãƒ‰ï¼ˆå¹³å‡å€¤è¨ˆç®—ï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’é›†è¨ˆã—ã¦å˜ä¸€ã®å€¤ã«</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template<br><small>([1-10])</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-join">Join<br><small>(Reduce)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ Reduceã®ç‰¹æ®Šå¤‰æ•°:</strong></p>
            <ul>
                <li><strong>$A</strong>: ç´¯ç©å€¤ï¼ˆã‚¢ã‚­ãƒ¥ãƒ ãƒ¬ãƒ¼ã‚¿ï¼‰</li>
                <li><strong>$I</strong>: ç¾åœ¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ0ã‹ã‚‰ï¼‰</li>
                <li><strong>$N</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç·æ•°</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ãƒ¢ãƒ¼ãƒ‰: Reduce
Reduceå¼: $A + payload
åˆæœŸå€¤: 0
æœ€çµ‚å‡¦ç†: $A / $N

å…¥åŠ›: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
å‡¦ç†: (1+2+3+4+5+6+7+8+9+10) / 10
å‡ºåŠ›: 5.5 (å¹³å‡å€¤)</div>
        
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: æ–‡å­—åˆ—ã®çµåˆ<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®éƒ½å¸‚åã‚’åˆ†å‰²ã—ã€ã€Œ/ã€ã§å†çµåˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Splitã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: "æ±äº¬,å¤§é˜ª,åå¤å±‹,ç¦å²¡"</li>
                <li>å‡ºåŠ›: "æ±äº¬/å¤§é˜ª/åå¤å±‹/ç¦å²¡"</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Debugã«çµåˆã•ã‚ŒãŸæ–‡å­—åˆ—ãŒè¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>payload: æ–‡å­—åˆ—å‹ã§ "æ±äº¬,å¤§é˜ª,åå¤å±‹,ç¦å²¡"</li>
                </ul>
                <p><strong>Splitãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åˆ†å‰²æ–¹æ³•: æ–‡å­—åˆ—</li>
                    <li>åŒºåˆ‡ã‚Šæ–‡å­—: <code>,</code></li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•</li>
                    <li>çµåˆå½¢å¼: æ–‡å­—åˆ—</li>
                    <li>çµåˆæ–‡å­—: <code>/</code></li>
                    <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 4ï¼ˆã¾ãŸã¯msg.parts.countã‚’ä½¿ã†è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰ã§ã‚‚å¯ï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "éƒ½å¸‚åå…¥åŠ›",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "æ±äº¬,å¤§é˜ª,åå¤å±‹,ç¦å²¡",
        "payloadType": "str",
        "x": 130,
        "y": 100,
        "wires": [["ex1_split"]]
    },
    {
        "id": "ex1_split",
        "type": "split",
        "name": "ã‚«ãƒ³ãƒåˆ†å‰²",
        "splt": ",",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 300,
        "y": 100,
        "wires": [["ex1_join"]]
    },
    {
        "id": "ex1_join",
        "type": "join",
        "name": "ã‚¹ãƒ©ãƒƒã‚·ãƒ¥çµåˆ",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "/",
        "joinerType": "str",
        "useparts": false,
        "accumulate": "false",
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 480,
        "y": 100,
        "wires": [["ex1_debug"]]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 650,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: é…åˆ—ã¸ã®å¤‰æ›<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>æ”¹è¡ŒåŒºåˆ‡ã‚Šã®ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ†å‰²ã—ã€é…åˆ—ã«å¤‰æ›ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Splitã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆ: "ã‚Šã‚“ã”\nã¿ã‹ã‚“\nãƒãƒŠãƒŠ"</li>
                <li>å‡ºåŠ›: ["ã‚Šã‚“ã”", "ã¿ã‹ã‚“", "ãƒãƒŠãƒŠ"]</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Debugã«é…åˆ—ãŒè¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: ã‚Šã‚“ã”ã€ã¿ã‹ã‚“ã€ãƒãƒŠãƒŠã‚’æ”¹è¡Œã§åŒºåˆ‡ã£ã¦å…¥åŠ›</li>
                    <li>å‡ºåŠ›: æ–‡å­—åˆ—</li>
                </ul>
                <p><strong>Splitãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åˆ†å‰²æ–¹æ³•: æ–‡å­—åˆ—</li>
                    <li>åŒºåˆ‡ã‚Šæ–‡å­—: <code>\n</code>ï¼ˆæ”¹è¡Œï¼‰</li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•</li>
                    <li>çµåˆå½¢å¼: é…åˆ—</li>
                    <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 3</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex2_template"]]
    },
    {
        "id": "ex2_template",
        "type": "template",
        "name": "ãƒ•ãƒ«ãƒ¼ãƒ„ãƒªã‚¹ãƒˆ",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "ã‚Šã‚“ã”\nã¿ã‹ã‚“\nãƒãƒŠãƒŠ",
        "output": "str",
        "x": 260,
        "y": 100,
        "wires": [["ex2_split"]]
    },
    {
        "id": "ex2_split",
        "type": "split",
        "name": "æ”¹è¡Œåˆ†å‰²",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 420,
        "y": 100,
        "wires": [["ex2_join"]]
    },
    {
        "id": "ex2_join",
        "type": "join",
        "name": "é…åˆ—ã«çµåˆ",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": false,
        "accumulate": "false",
        "timeout": "",
        "count": "3",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 580,
        "y": 100,
        "wires": [["ex2_debug"]]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 730,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>å•†å“ã¨ä¾¡æ ¼ã®ãƒšã‚¢ã‹ã‚‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Splitã€Changeã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: {"name": "Apple", "price": 150}, {"name": "Orange", "price": 80}</li>
                <li>å‡ºåŠ›: {"Apple": 150, "Orange": 80}</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>å•†å“åã‚’ã‚­ãƒ¼ã€ä¾¡æ ¼ã‚’å€¤ã¨ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå‡ºåŠ›ã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: JSON</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: <code>[{"name": "Apple", "price": 150}, {"name": "Orange", "price": 80}]</code></li>
                    <li>å‡ºåŠ›å½¢å¼: ãƒ‘ãƒ¼ã‚¹æ¸ˆã¿JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆé…åˆ—ã¨ã—ã¦å‡ºåŠ›ã•ã‚Œã‚‹ï¼‰</li>
                </ul>
                <p><strong>Splitãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>é…åˆ—ã¯è‡ªå‹•èªè­˜ã•ã‚Œã‚‹ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§OK</li>
                </ul>
                <p><strong>Changeãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>msg.topic ã‚’ msg.payload.name ã«è¨­å®š</li>
                    <li>msg.payload ã‚’ msg.payload.price ã«è¨­å®š</li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: æ‰‹å‹•</li>
                    <li>çµåˆå½¢å¼: ã‚­ãƒ¼/å€¤ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</li>
                    <li>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°: 2</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex3_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex3_template"]]
    },
    {
        "id": "ex3_template",
        "type": "template",
        "name": "å•†å“ãƒ‡ãƒ¼ã‚¿",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[{\"name\": \"Apple\", \"price\": 150}, {\"name\": \"Orange\", \"price\": 80}]",
        "output": "json",
        "x": 260,
        "y": 100,
        "wires": [["ex3_split"]]
    },
    {
        "id": "ex3_split",
        "type": "split",
        "name": "åˆ†å‰²",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 390,
        "y": 100,
        "wires": [["ex3_change"]]
    },
    {
        "id": "ex3_change",
        "type": "change",
        "name": "topic/payloadè¨­å®š",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.price",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 100,
        "wires": [["ex3_join"]]
    },
    {
        "id": "ex3_join",
        "type": "join",
        "name": "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆçµåˆ",
        "mode": "custom",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ",",
        "joinerType": "str",
        "useparts": false,
        "accumulate": "false",
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 700,
        "y": 100,
        "wires": [["ex3_debug"]]
    },
    {
        "id": "ex3_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 850,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: Reduceã§åˆè¨ˆå€¤ã‚’è¨ˆç®—<span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®åˆè¨ˆå€¤ã‚’è¨ˆç®—ã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Splitã€Joinï¼ˆReduceï¼‰ã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: [10, 25, 30, 15, 20]</li>
                <li>å‡ºåŠ›: 100ï¼ˆåˆè¨ˆå€¤ï¼‰</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>5ã¤ã®æ•°å€¤ã®åˆè¨ˆå€¤ãŒå‡ºåŠ›ã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: JSON</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: [10, 25, 30, 15, 20]</li>
                    <li>å‡ºåŠ›: JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</li>
                </ul>
                <p><strong>Splitãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>é…åˆ—ã¯è‡ªå‹•èªè­˜ã•ã‚Œã‚‹ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§OK</li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: Reduce</li>
                    <li>Reduceå¼: <code>$A + payload</code></li>
                    <li>åˆæœŸå€¤: 0ï¼ˆæ•°å€¤å‹ï¼‰</li>
                    <li>æœ€çµ‚å‡¦ç†: ç©ºï¼ˆåˆè¨ˆã®ã¿ãªã®ã§ä¸è¦ï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">
[
    {
        "id": "ex4_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex4_template"]]
    },
    {
        "id": "ex4_template",
        "type": "template",
        "name": "ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[10, 25, 30, 15, 20]",
        "output": "json",
        "x": 270,
        "y": 100,
        "wires": [["ex4_split"]]
    },
    {
        "id": "ex4_split",
        "type": "split",
        "name": "åˆ†å‰²",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 410,
        "y": 100,
        "wires": [["ex4_join"]]
    },
    {
        "id": "ex4_join",
        "type": "join",
        "name": "åˆè¨ˆè¨ˆç®—",
        "mode": "reduce",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ",",
        "joinerType": "str",
        "useparts": false,
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "$A + payload",
        "reduceInit": "0",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 550,
        "y": 100,
        "wires": [["ex4_debug"]]
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 690,
        "y": 100,
        "wires": []
    }
]
                </div>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Joinãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰</strong>: Splitãƒãƒ¼ãƒ‰ã¨é€£æºã—ã¦msg.partsã‚’ä½¿ç”¨ã—ã¦å†çµåˆ</li>
                <li>âœ… <strong>æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€msg.completeã§çµåˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’åˆ¶å¾¡</li>
                <li>âœ… <strong>çµåˆå½¢å¼</strong>: æ–‡å­—åˆ—ã€é…åˆ—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ãƒãƒ¼ã‚¸ã‹ã‚‰é¸æŠå¯èƒ½</li>
                <li>âœ… <strong>Reduceãƒ¢ãƒ¼ãƒ‰</strong>: JSONataå¼ã§æŸ”è»Ÿãªé›†è¨ˆå‡¦ç†ï¼ˆ$A, $I, $Nã‚’æ´»ç”¨ï¼‰</li>
                <li>âœ… <strong>msg.complete</strong>: trueã‚’è¨­å®šã™ã‚‹ã¨å³åº§ã«çµåˆã‚’å®Œäº†</li>
            </ul>
        </div>
        
        <div class="warning">
            <h3>âš ï¸ ã‚ˆãã‚ã‚‹é–“é•ã„</h3>
            <ul>
                <li><strong>msg.partsã®æ¶ˆå¤±</strong>: é€”ä¸­ã®ãƒãƒ¼ãƒ‰ã§msg.partsã‚’å‰Šé™¤ã™ã‚‹ã¨è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰ãŒæ©Ÿèƒ½ã—ãªã„</li>
                <li><strong>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã®ä¸ä¸€è‡´</strong>: æŒ‡å®šã—ãŸcountæ•°ã«é”ã—ãªã„ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã¾ã§å¾…æ©Ÿ</li>
                <li><strong>ç•°ãªã‚‹idã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</strong>: msg.parts.idãŒç•°ãªã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯åˆ¥ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹</li>
                <li><strong>Reduceå¼ã®ã‚¨ãƒ©ãƒ¼</strong>: JSONataå¼ã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã«æ³¨æ„</li>
                <li><strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæœªè¨­å®š</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæƒã‚ãªã„å ´åˆã€æ°¸ä¹…ã«å¾…æ©Ÿã—ã¦ã—ã¾ã†</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Joinãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Splitãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†å‰²ï¼ˆJoinã¨å¯¾ã«ãªã‚‹ãƒãƒ¼ãƒ‰ï¼‰</li>
                <li><strong>Sortãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä¸¦ã¹æ›¿ãˆ</li>
                <li><strong>Batchãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</li>
                <li><strong>Aggregateãƒãƒ¼ãƒ‰</strong>: ã‚ˆã‚Šé«˜åº¦ãªé›†è¨ˆå‡¦ç†</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>çµåˆã•ã‚Œãªã„</td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ãŒä¸è¶³</td>
                <td>countæ•°ã®ç¢ºèªã€ã¾ãŸã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è¨­å®š</td>
            </tr>
            <tr>
                <td>è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰ãŒå‹•ä½œã—ãªã„</td>
                <td>msg.partsãŒæ¬ è½</td>
                <td>é€”ä¸­ã®ãƒãƒ¼ãƒ‰ã§msg.partsã‚’ä¿æŒã™ã‚‹è¨­å®šã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>é †åºãŒãƒãƒ©ãƒãƒ©</td>
                <td>éåŒæœŸå‡¦ç†ã«ã‚ˆã‚‹é †åºå¤‰æ›´</td>
                <td>msg.parts.indexã‚’ä½¿ç”¨ã€ã¾ãŸã¯Sortãƒãƒ¼ãƒ‰ã§ä¸¦ã¹æ›¿ãˆ</td>
            </tr>
            <tr>
                <td>ReduceçµæœãŒæœŸå¾…ã¨é•ã†</td>
                <td>JSONataå¼ã®ã‚¨ãƒ©ãƒ¼</td>
                <td>å¼ã‚’å˜ç´”åŒ–ã—ã¦å‹•ä½œç¢ºèªã€$A/$I/$Nã®ä½¿ã„æ–¹ã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§é€”ä¸­å‡ºåŠ›</td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ°ç€ãŒé…ã„</td>
                <td>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå€¤ã‚’èª¿æ•´ã€ã¾ãŸã¯countæŒ‡å®šã«å¤‰æ›´</td>
            </tr>
            <tr>
                <td>ç•°ãªã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ãŒæ··åœ¨</td>
                <td>msg.parts.idãŒç•°ãªã‚‹</td>
                <td>Splitãƒãƒ¼ãƒ‰ã®è¨­å®šã‚’ç¢ºèªã€ã¾ãŸã¯æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨</td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: è¤‡æ•°ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆ</h3>
        <div class="code-block">æ¸©åº¦ã‚»ãƒ³ã‚µãƒ¼ + æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ + æ°—åœ§ã‚»ãƒ³ã‚µãƒ¼
â†“
Joinãƒãƒ¼ãƒ‰ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ï¼‰
â†“
{
  "temperature": 25.5,
  "humidity": 60,
  "pressure": 1013
}
â†“
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ or ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º</div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: APIä¸¦åˆ—å‘¼ã³å‡ºã—ã®çµæœçµ±åˆ</h3>
        <div class="code-block">ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±API â†’ 
æ³¨æ–‡å±¥æ­´API    â†’  Joinï¼ˆãƒãƒ¼ã‚¸ï¼‰â†’ çµ±åˆãƒ¬ã‚¹ãƒãƒ³ã‚¹
åœ¨åº«æƒ…å ±API    â†’

å‡ºåŠ›: {
  "user": {...},
  "orders": [...],
  "inventory": {...}
}</div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: ãƒãƒƒãƒå‡¦ç†ã®é›†è¨ˆ</h3>
        <div class="code-block">1æ™‚é–“åˆ†ã®ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ï¼ˆ100ä»¶ï¼‰
â†“
Splitï¼ˆè¡Œã”ã¨ã«åˆ†å‰²ï¼‰
â†“
ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ã¿ï¼‰
â†“
Joinï¼ˆReduce: $A + 1, åˆæœŸå€¤: 0ï¼‰
â†“
ã‚¨ãƒ©ãƒ¼ä»¶æ•°: 15</div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: IoTãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿é›†ç´„</h3>
        <div class="code-block">å·¥å ´ã®10å°ã®ãƒ‡ãƒã‚¤ã‚¹
â†“
å„ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ç”Ÿç”£æ•°ã‚’å—ä¿¡ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 5ç§’ï¼‰
â†“
Joinï¼ˆé…åˆ—å½¢å¼ï¼‰
â†“
[120, 115, 130, 125, 110, 128, 122, 118, 132, 126]
â†“
åˆè¨ˆãƒ»å¹³å‡è¨ˆç®— â†’ ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ</div>
        
        <h2>ğŸ“— 8. Reduceãƒ¢ãƒ¼ãƒ‰è©³ç´°</h2>
        
        <h3>JSONataç‰¹æ®Šå¤‰æ•°</h3>
        <table>
            <tr>
                <th>å¤‰æ•°</th>
                <th>èª¬æ˜</th>
                <th>ä½¿ç”¨ä¾‹</th>
            </tr>
            <tr>
                <td><strong>$A</strong></td>
                <td>ç´¯ç©å€¤ï¼ˆã‚¢ã‚­ãƒ¥ãƒ ãƒ¬ãƒ¼ã‚¿ï¼‰</td>
                <td>$A + payloadï¼ˆåˆè¨ˆï¼‰</td>
            </tr>
            <tr>
                <td><strong>$I</strong></td>
                <td>ç¾åœ¨ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ0ã‹ã‚‰ï¼‰</td>
                <td>ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</td>
            </tr>
            <tr>
                <td><strong>$N</strong></td>
                <td>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·æ•°</td>
                <td>$A / $Nï¼ˆå¹³å‡ï¼‰</td>
            </tr>
            <tr>
                <td><strong>payload</strong></td>
                <td>ç¾åœ¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®payload</td>
                <td>å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å€¤ã‚’å‚ç…§</td>
            </tr>
        </table>
        
        <h3>Reduceå¼ã®ä¾‹</h3>
        <div class="code-block">// åˆè¨ˆ
$A + payload

// æœ€å¤§å€¤
payload > $A ? payload : $A

// é…åˆ—ã«è¿½åŠ 
$append($A, [payload])

// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…åˆ—ã«å¤‰æ›
$append($A, [{"value": payload, "index": $I}])

// æ¡ä»¶ä»˜ãåŠ ç®—
payload > 10 ? $A + payload : $A</div>
        
        <h2>ğŸ”— 9. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/messages#joining-messages" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®çµåˆ</a></li>
            <li><a href="https://nodered.org/docs/user-guide/nodes#join" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Joinãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://docs.jsonata.org/" target="_blank">JSONataãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
            <li><a href="https://cookbook.nodered.org/" target="_blank">Node-RED Cookbook</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Joinãƒãƒ¼ãƒ‰ã¯ãƒ‡ãƒ¼ã‚¿çµ±åˆãƒ»é›†è¨ˆã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</small><br>
            <small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã¨.js-code[data-copy="true"]ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            var codeBlocks = document.querySelectorAll('.flow-json, .js-code[data-copy="true"]');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                var button = document.createElement('button');
                button.className = 'copy-button';
                button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ï¼ˆãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’é™¤å¤–ï¼‰
                    var code = block.textContent.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    
                    // æ”¹è¡Œã‚’é©åˆ‡ã«å‡¦ç†ï¼ˆNode-REDã«ãƒšãƒ¼ã‚¹ãƒˆæ™‚ã«è¦‹ã‚„ã™ãã™ã‚‹ï¼‰
                    if (block.classList.contains('js-code')) {
                        // JavaScriptã‚³ãƒ¼ãƒ‰ã®å ´åˆã€è¡Œã”ã¨ã«æ”¹è¡Œã‚’ç¶­æŒ
                        code = block.innerText.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    }
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';" title="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ </a>
</body>
</html>
