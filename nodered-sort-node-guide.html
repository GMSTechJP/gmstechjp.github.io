<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node-RED Sortãƒãƒ¼ãƒ‰ ã‚¬ã‚¤ãƒ‰</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        
        h1 {
            color: #8f0000;
            border-bottom: 3px solid #8f0000;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #c00000;
            margin-top: 30px;
            border-left: 5px solid #c00000;
            padding-left: 15px;
        }
        
        h3 {
            color: #555;
            margin-top: 25px;
        }
        
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .node-example {
            background-color: #2d3133;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            color: white;
            font-family: 'Courier New', monospace;
        }
        
        .node {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 4px;
            margin: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .node-inject {
            background-color: #3fadb5;
            color: white;
        }
        
        .node-split {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-sort {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-join {
            background-color: #e2d96e;
            color: #333;
        }
        
        .node-debug {
            background-color: #87a48d;
            color: white;
        }
        
        .node-template {
            background-color: #d4b8a0;
            color: #333;
        }
        
        .node-function {
            background-color: #e8a658;
            color: white;
        }
        
        .node-change {
            background-color: #e7a070;
            color: white;
        }
        
        .arrow {
            color: #999;
            font-size: 20px;
            margin: 0 10px;
        }
        
        .important {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .tip {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            position: relative;
            white-space: pre-wrap;
        }
        
        .copy-button {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-family: 'Segoe UI', sans-serif;
            transition: background-color 0.2s;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .copy-button:hover {
            background-color: #0056b3;
        }
        
        .copy-button.copied {
            background-color: #28a745;
        }
        
        .copy-button svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }
        
        .exercise {
            background-color: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .exercise h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .difficulty {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background-color: #4caf50;
            color: white;
        }
        
        .difficulty-medium {
            background-color: #ff9800;
            color: white;
        }
        
        .difficulty-hard {
            background-color: #f44336;
            color: white;
        }
        
        ul, ol {
            padding-left: 25px;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #e2d96e;
            color: #333;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .flow-json {
            background-color: #263238;
            color: #aed581;
            padding: 15px;
            padding-top: 40px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            position: relative;
        }
        
        details {
            margin: 15px 0;
        }
        
        summary {
            cursor: pointer;
            padding: 10px;
            background-color: #6c757d;
            color: white;
            border-radius: 4px;
            font-weight: bold;
        }
        
        summary:hover {
            background-color: #5a6268;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .feature-card {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }
        
        .feature-card h4 {
            color: #b8a830;
            margin-top: 0;
        }
        
        .mode-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 5px;
        }
        
        .badge-array {
            background-color: #17a2b8;
            color: white;
        }
        
        .badge-sequence {
            background-color: #6f42c1;
            color: white;
        }
        
        .badge-asc {
            background-color: #28a745;
            color: white;
        }
        
        .badge-desc {
            background-color: #dc3545;
            color: white;
        }
        
        .data-flow {
            background-color: #f0f0f0;
            border: 2px dashed #999;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .data-flow .before {
            background-color: #ffcccc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .after {
            background-color: #ccffcc;
            padding: 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .data-flow .arrow-down {
            display: block;
            font-size: 24px;
            color: #666;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¢ Node-RED Sortãƒãƒ¼ãƒ‰ å®Œå…¨ã‚¬ã‚¤ãƒ‰</h1>
        
        <p>ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Node-REDã®<strong>Sortãƒãƒ¼ãƒ‰</strong>ã«ã¤ã„ã¦ã€åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚</p>
        
        <h2>ğŸ“š 1. Sortãƒãƒ¼ãƒ‰ã¨ã¯?</h2>
        
        <h3>ğŸ¤” ã€ŒSortã€ã£ã¦ä½•?</h3>
        <p>
            Sortãƒãƒ¼ãƒ‰ã¯ã€<strong>é…åˆ—ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ä¸¦ã¹æ›¿ãˆã‚‹</strong>ãƒãƒ¼ãƒ‰ã§ã™ã€‚
            æ—¥å¸¸ç”Ÿæ´»ã§ä¾‹ãˆã‚‹ã¨ã€<strong>å›³æ›¸é¤¨ã®å¸æ›¸ãŒæœ¬ã‚’è‘—è€…åé †ã‚„ã‚¿ã‚¤ãƒˆãƒ«é †ã«æ£šã«ä¸¦ã¹æ›¿ãˆã‚‹</strong>ã‚ˆã†ãªä½œæ¥­ã§ã™ã€‚
        </p>
        
        <div class="important">
            <p><strong>ğŸ“š å›³æ›¸é¤¨ã®æœ¬ã®æ•´ç†ã«ä¾‹ãˆã‚‹ã¨:</strong></p>
            <ul>
                <li>ğŸ“– <strong>ãƒãƒ©ãƒãƒ©ã«ç©ã¾ã‚ŒãŸæœ¬</strong> = ã‚½ãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„é…åˆ—</li>
                <li>ğŸ”¤ <strong>ã‚¿ã‚¤ãƒˆãƒ«ã®ABCé †ã§ä¸¦ã¹ã‚‹</strong> = æ˜‡é †ï¼ˆascendingï¼‰ã‚½ãƒ¼ãƒˆ</li>
                <li>ğŸ”¢ <strong>å‡ºç‰ˆå¹´ã®æ–°ã—ã„é †ã§ä¸¦ã¹ã‚‹</strong> = é™é †ï¼ˆdescendingï¼‰ã‚½ãƒ¼ãƒˆ</li>
                <li>ğŸ“‘ <strong>è‘—è€…åã§ä¸¦ã¹ã€åŒã˜è‘—è€…ã¯ç™ºå£²æ—¥é †</strong> = è¤‡åˆã‚­ãƒ¼ã§ã®ã‚½ãƒ¼ãƒˆ</li>
            </ul>
        </div>
        
        <h3>ğŸ“¦ åŸºæœ¬çš„ãªå‹•ä½œ</h3>
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-sort">Sort</span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p>
            Sortãƒãƒ¼ãƒ‰ã¯ã€é…åˆ—ã¾ãŸã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’å—ã‘å–ã‚Šã€æŒ‡å®šã—ãŸæ¡ä»¶ã§<strong>ä¸¦ã¹æ›¿ãˆã¦å‡ºåŠ›</strong>ã—ã¾ã™ã€‚
            æ–‡å­—åˆ—é †ã€æ•°å€¤é †ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£é †ãªã©ã€æ§˜ã€…ãªæ–¹æ³•ã§ã‚½ãƒ¼ãƒˆã§ãã¾ã™ã€‚
        </p>
        
        <div class="data-flow">
            <div class="before">
                <strong>å…¥åŠ›ï¼ˆæœªã‚½ãƒ¼ãƒˆï¼‰</strong><br>
                ["orange", "banana", "apple", "kiwi"]
            </div>
            <span class="arrow-down">â†“ Sortï¼ˆæ˜‡é †ï¼‰ â†“</span>
            <div class="after">
                <strong>å‡ºåŠ›ï¼ˆã‚½ãƒ¼ãƒˆæ¸ˆã¿ï¼‰</strong><br>
                ["apple", "banana", "kiwi", "orange"]
            </div>
        </div>
        
        <h2>âš™ï¸ 2. Sortãƒãƒ¼ãƒ‰ã®2ã¤ã®ãƒ¢ãƒ¼ãƒ‰</h2>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="mode-badge badge-array">é…åˆ—</span> é…åˆ—ã‚½ãƒ¼ãƒˆ</h4>
                <p>msg.payloadã®é…åˆ—ã‚’ä¸¦ã¹æ›¿ãˆ</p>
                <div class="code-block">é…åˆ—ã®è¦ç´ ã‚’
ç›´æ¥ã‚½ãƒ¼ãƒˆ</div>
            </div>
            
            <div class="feature-card">
                <h4><span class="mode-badge badge-sequence">ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</span> ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</h4>
                <p>Splitã§åˆ†å‰²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸¦ã¹æ›¿ãˆ</p>
                <div class="code-block">msg.partsã‚’ä½¿ç”¨ã—ã¦
ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é †åºã‚’å¤‰æ›´</div>
            </div>
        </div>
        
        <h3>ğŸ“‹ è¨­å®šé …ç›®ä¸€è¦§</h3>
        
        <table>
            <tr>
                <th>è¨­å®šé …ç›®</th>
                <th>èª¬æ˜</th>
                <th>é¸æŠè‚¢</th>
            </tr>
            <tr>
                <td><strong>ã‚½ãƒ¼ãƒˆå¯¾è±¡</strong></td>
                <td>é…åˆ—ã¾ãŸã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’é¸æŠ</td>
                <td>msg.payload / ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</td>
            </tr>
            <tr>
                <td><strong>ã‚½ãƒ¼ãƒˆé †</strong></td>
                <td>æ˜‡é †ã¾ãŸã¯é™é †ã‚’é¸æŠ</td>
                <td>æ˜‡é † / é™é †</td>
            </tr>
            <tr>
                <td><strong>æ•°å€¤ã¨ã—ã¦</strong></td>
                <td>æ•°å€¤ã¨ã—ã¦ã‚½ãƒ¼ãƒˆã™ã‚‹ã‹ã©ã†ã‹</td>
                <td>ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹</td>
            </tr>
            <tr>
                <td><strong>ã‚­ãƒ¼</strong></td>
                <td>ã‚½ãƒ¼ãƒˆã®åŸºæº–ã¨ãªã‚‹å€¤ã‚’æŒ‡å®š</td>
                <td>è¦ç´ ã®å€¤ / JSONataå¼</td>
            </tr>
        </table>
        
        <h3>ğŸ¯ æ–‡å­—åˆ—ã‚½ãƒ¼ãƒˆ vs æ•°å€¤ã‚½ãƒ¼ãƒˆ</h3>
        
        <p>åŒã˜ãƒ‡ãƒ¼ã‚¿ã§ã‚‚ã€Œæ–‡å­—åˆ—ã¨ã—ã¦ã€ã¨ã€Œæ•°å€¤ã¨ã—ã¦ã€ã§ã‚½ãƒ¼ãƒˆçµæœãŒç•°ãªã‚Šã¾ã™ã€‚</p>
        
        <div class="data-flow">
            <div class="before">
                <strong>å…¥åŠ›</strong><br>
                ["1024", "86", "256", "100", "9"]
            </div>
            <span class="arrow-down">â†“ ã‚½ãƒ¼ãƒˆ â†“</span>
            <div class="after">
                <strong>æ–‡å­—åˆ—é †</strong><br>
                ["100", "1024", "256", "86", "9"]<br><br>
                <strong>æ•°å€¤é †</strong><br>
                ["9", "86", "100", "256", "1024"]
            </div>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ æ–‡å­—åˆ—é †ã¨æ•°å€¤é †ã®é•ã„:</strong></p>
            <ul>
                <li><strong>æ–‡å­—åˆ—é †</strong>: å…ˆé ­æ–‡å­—ã‹ã‚‰è¾æ›¸é †ã§æ¯”è¼ƒï¼ˆ"1024" ã¯ "256" ã‚ˆã‚Šå‰ï¼‰</li>
                <li><strong>æ•°å€¤é †</strong>: æ•°å€¤ã®å¤§å°ã§æ¯”è¼ƒï¼ˆ9 < 86 < 100 < 256 < 1024ï¼‰</li>
            </ul>
        </div>
        
        <h2>ğŸ¯ 3. å®Ÿç”¨çš„ãªä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³</h2>
        
        <div class="important">
            <p><strong>ğŸ“¥ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–¹æ³•:</strong></p>
            <ol>
                <li>ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼JSONã‚’ã‚³ãƒ”ãƒ¼</li>
                <li>Node-REDã‚¨ãƒ‡ã‚£ã‚¿ã§ <strong>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ èª­ã¿è¾¼ã¿</strong> ã‚’é¸æŠ</li>
                <li>JSONã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ã€Œèª­ã¿è¾¼ã¿ã€ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            </ol>
            <p>ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ã«ã¯ã€ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿä¾‹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>
        
        <details>
            <summary>ğŸ“‹ ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>
            <p style="margin: 10px 0; color: #666;"><small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small></p>
            <div class="flow-json">[
    {
        "id": "9b4586fe59798b63",
        "type": "tab",
        "label": "sort",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6451c8bb.b52278",
        "type": "sort",
        "z": "9b4586fe59798b63",
        "name": "",
        "order": "ascending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 570,
        "y": 200,
        "wires": [["cb34307c.ac1dd"]]
    },
    {
        "id": "638546c.38f1fb8",
        "type": "inject",
        "z": "9b4586fe59798b63",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 200,
        "wires": [["db5d90ac.bbb3f"]]
    },
    {
        "id": "3ec02cae.012ce4",
        "type": "comment",
        "z": "9b4586fe59798b63",
        "name": "Sort array payload as string in ascending order",
        "info": "",
        "x": 340,
        "y": 140,
        "wires": []
    },
    {
        "id": "db5d90ac.bbb3f",
        "type": "template",
        "z": "9b4586fe59798b63",
        "name": "data",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "[\"orange\", \"banana\", \"apple\", \"pear\", \"kiwi\"]",
        "output": "json",
        "x": 430,
        "y": 200,
        "wires": [["6451c8bb.b52278"]]
    },
    {
        "id": "cb34307c.ac1dd",
        "type": "debug",
        "z": "9b4586fe59798b63",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 730,
        "y": 200,
        "wires": []
    },
    {
        "id": "735ec14e.4ed55",
        "type": "sort",
        "z": "9b4586fe59798b63",
        "name": "",
        "order": "descending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 570,
        "y": 360,
        "wires": [["e8dc4ae5.f08598"]]
    },
    {
        "id": "c8ce4e74.9db68",
        "type": "inject",
        "z": "9b4586fe59798b63",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 360,
        "wires": [["ea0384a6.1346b8"]]
    },
    {
        "id": "70333397.d78f6c",
        "type": "comment",
        "z": "9b4586fe59798b63",
        "name": "Sort array payload as string in descending order",
        "info": "",
        "x": 340,
        "y": 300,
        "wires": []
    },
    {
        "id": "ea0384a6.1346b8",
        "type": "template",
        "z": "9b4586fe59798b63",
        "name": "data",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "[\"orange\", \"banana\", \"apple\", \"pear\", \"kiwi\"]",
        "output": "json",
        "x": 430,
        "y": 360,
        "wires": [["735ec14e.4ed55"]]
    },
    {
        "id": "e8dc4ae5.f08598",
        "type": "debug",
        "z": "9b4586fe59798b63",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 730,
        "y": 360,
        "wires": []
    },
    {
        "id": "d4b49c22.32685",
        "type": "sort",
        "z": "9b4586fe59798b63",
        "name": "",
        "order": "ascending",
        "as_num": true,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 570,
        "y": 520,
        "wires": [["45738f07.16416"]]
    },
    {
        "id": "87ce9955.924868",
        "type": "inject",
        "z": "9b4586fe59798b63",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 520,
        "wires": [["30b81283.f0772e"]]
    },
    {
        "id": "f6e624df.703a88",
        "type": "comment",
        "z": "9b4586fe59798b63",
        "name": "Sort array payload as number",
        "info": "",
        "x": 280,
        "y": 460,
        "wires": []
    },
    {
        "id": "30b81283.f0772e",
        "type": "template",
        "z": "9b4586fe59798b63",
        "name": "data",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "[\"1024\", \"86\", \"256\", \"100\", \"9\"]",
        "output": "json",
        "x": 430,
        "y": 520,
        "wires": [["d4b49c22.32685"]]
    },
    {
        "id": "45738f07.16416",
        "type": "debug",
        "z": "9b4586fe59798b63",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 730,
        "y": 520,
        "wires": []
    },
    {
        "id": "b91c19b1.b66b18",
        "type": "sort",
        "z": "9b4586fe59798b63",
        "name": "",
        "order": "ascending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "price",
        "msgKeyType": "jsonata",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 570,
        "y": 680,
        "wires": [["32dd80a1.226e4"]]
    },
    {
        "id": "adb0daa2.d85a48",
        "type": "inject",
        "z": "9b4586fe59798b63",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 680,
        "wires": [["b3ee1b9e.dbf388"]]
    },
    {
        "id": "d1190f8b.9a74b",
        "type": "comment",
        "z": "9b4586fe59798b63",
        "name": "Sort array of objects using JSONata (price)",
        "info": "",
        "x": 340,
        "y": 620,
        "wires": []
    },
    {
        "id": "b3ee1b9e.dbf388",
        "type": "template",
        "z": "9b4586fe59798b63",
        "name": "data",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "[{\"name\": \"orange\", \"price\": 80}, {\"name\": \"banana\", \"price\": 250}, {\"name\": \"apple\", \"price\": 100}]",
        "output": "json",
        "x": 430,
        "y": 680,
        "wires": [["b91c19b1.b66b18"]]
    },
    {
        "id": "32dd80a1.226e4",
        "type": "debug",
        "z": "9b4586fe59798b63",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 730,
        "y": 680,
        "wires": []
    }
]</div>
        </details>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³1: é…åˆ—ã®æ˜‡é †ã‚½ãƒ¼ãƒˆï¼ˆæ–‡å­—åˆ—ï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> æ–‡å­—åˆ—é…åˆ—ã‚’ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ä¸¦ã¹æ›¿ãˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-sort">Sort<br><small>(æ˜‡é †)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ å‹•ä½œã®æµã‚Œ:</strong></p>
            <ol>
                <li>["orange", "banana", "apple", "kiwi"] ã‚’å…¥åŠ›</li>
                <li>Sortãƒãƒ¼ãƒ‰ãŒæ–‡å­—åˆ—ã¨ã—ã¦æ˜‡é †ã‚½ãƒ¼ãƒˆ</li>
                <li>["apple", "banana", "kiwi", "orange"] ã‚’å‡ºåŠ›</li>
            </ol>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload
ã‚½ãƒ¼ãƒˆé †: æ˜‡é †
æ•°å€¤ã¨ã—ã¦: OFF

å…¥åŠ›: ["orange", "banana", "apple", "kiwi"]
å‡ºåŠ›: ["apple", "banana", "kiwi", "orange"]</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³2: é…åˆ—ã®é™é †ã‚½ãƒ¼ãƒˆ</h3>
        <p><strong>ç”¨é€”:</strong> é…åˆ—ã‚’é€†é †ã«ä¸¦ã¹æ›¿ãˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-sort">Sort<br><small>(é™é †)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload
ã‚½ãƒ¼ãƒˆé †: é™é †
æ•°å€¤ã¨ã—ã¦: OFF

å…¥åŠ›: ["orange", "banana", "apple", "kiwi"]
å‡ºåŠ›: ["pear", "orange", "kiwi", "banana", "apple"]</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³3: æ•°å€¤ã¨ã—ã¦ã‚½ãƒ¼ãƒˆ</h3>
        <p><strong>ç”¨é€”:</strong> æ•°å€¤ã‚’å«ã‚€é…åˆ—ã‚’æ•°å€¤é †ã«ä¸¦ã¹æ›¿ãˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-sort">Sort<br><small>(æ•°å€¤)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ æ•°å€¤ã‚½ãƒ¼ãƒˆã®ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li>ã€Œæ•°å€¤ã¨ã—ã¦ã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ã€æ–‡å­—åˆ—ã§ã‚‚æ•°å€¤ã¨ã—ã¦æ¯”è¼ƒ</li>
                <li>"9" ã¯ "100" ã‚ˆã‚Šå°ã•ã„ã¨åˆ¤å®šã•ã‚Œã‚‹ï¼ˆæ–‡å­—åˆ—é †ã ã¨é€†ï¼‰</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload
ã‚½ãƒ¼ãƒˆé †: æ˜‡é †
æ•°å€¤ã¨ã—ã¦: ON

å…¥åŠ›: ["1024", "86", "256", "100", "9"]
å‡ºåŠ›: ["9", "86", "100", "256", "1024"]</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³4: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…åˆ—ã®ã‚½ãƒ¼ãƒˆï¼ˆJSONataå¼ï¼‰</h3>
        <p><strong>ç”¨é€”:</strong> ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å®šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ä¸¦ã¹æ›¿ãˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template<br><small>(å•†å“é…åˆ—)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-sort">Sort<br><small>(price)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ JSONataå¼ã§ã®ã‚½ãƒ¼ãƒˆ:</strong></p>
            <ul>
                <li>ã‚­ãƒ¼ã« <code>price</code> ã‚’æŒ‡å®šã™ã‚‹ã¨ã€å„è¦ç´ ã®priceãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚½ãƒ¼ãƒˆ</li>
                <li>é…åˆ—è¦ç´ ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã«ä½¿ç”¨</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload
ã‚­ãƒ¼: price (JSONataå¼)
ã‚½ãƒ¼ãƒˆé †: æ˜‡é †

å…¥åŠ›: [
  {"name": "orange", "price": 80},
  {"name": "banana", "price": 250},
  {"name": "apple", "price": 100}
]
å‡ºåŠ›: [
  {"name": "orange", "price": 80},
  {"name": "apple", "price": 100},
  {"name": "banana", "price": 250}
]</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³5: è¤‡åˆã‚­ãƒ¼ã§ã®ã‚½ãƒ¼ãƒˆ</h3>
        <p><strong>ç”¨é€”:</strong> è¤‡æ•°ã®æ¡ä»¶ã§ä¸¦ã¹æ›¿ãˆï¼ˆç¬¬1ã‚­ãƒ¼ã€ç¬¬2ã‚­ãƒ¼ï¼‰</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-sort">Sort<br><small>(price+name)</small></span>
            <span class="arrow">â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload
ã‚­ãƒ¼: $substring("0000" & $string(price), -4) & name
ã‚½ãƒ¼ãƒˆé †: æ˜‡é †

ã“ã®å¼ã®æ„å‘³:
1. priceã‚’4æ¡ã®ã‚¼ãƒ­åŸ‹ã‚æ–‡å­—åˆ—ã«å¤‰æ›ï¼ˆ100 â†’ "0100"ï¼‰
2. nameã‚’é€£çµï¼ˆ"0100apple"ï¼‰
3. ã“ã®é€£çµæ–‡å­—åˆ—ã§ã‚½ãƒ¼ãƒˆ

çµæœ: ä¾¡æ ¼é †ã€åŒã˜ä¾¡æ ¼ãªã‚‰åå‰é †</div>
        
        <h3>ãƒ‘ã‚¿ãƒ¼ãƒ³6: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ã‚½ãƒ¼ãƒˆ</h3>
        <p><strong>ç”¨é€”:</strong> Splitã§åˆ†å‰²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä¸¦ã¹æ›¿ãˆ</p>
        
        <div class="node-example">
            <span class="node node-inject">Inject</span>
            <span class="arrow">â†’</span>
            <span class="node node-template">Template</span>
            <span class="arrow">â†’</span>
            <span class="node node-split">Split</span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-sort">Sort<br><small>(ã‚·ãƒ¼ã‚±ãƒ³ã‚¹)</small></span>
            <span class="arrow">â†’â†’â†’</span>
            <span class="node node-debug">Debug</span>
        </div>
        
        <div class="tip">
            <p><strong>ğŸ“Œ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ãƒã‚¤ãƒ³ãƒˆ:</strong></p>
            <ul>
                <li>Splitãƒãƒ¼ãƒ‰ã§åˆ†å‰²ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯msg.partsãŒä»˜ä¸ã•ã‚Œã‚‹</li>
                <li>Sortãƒãƒ¼ãƒ‰ã¯msg.partsã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é †åºã‚’å¤‰æ›´</li>
                <li>å‡ºåŠ›ã‚‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼ˆè¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰ã¨ã—ã¦å‡ºåŠ›</li>
            </ul>
        </div>
        
        <p><strong>è¨­å®šä¾‹:</strong></p>
        <div class="code-block">ã‚½ãƒ¼ãƒˆå¯¾è±¡: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹
ã‚­ãƒ¼: msg.payload
ã‚½ãƒ¼ãƒˆé †: æ˜‡é †

å…¥åŠ›ã‚·ãƒ¼ã‚±ãƒ³ã‚¹: "orange" â†’ "banana" â†’ "apple" â†’ "kiwi"
å‡ºåŠ›ã‚·ãƒ¼ã‚±ãƒ³ã‚¹: "apple" â†’ "banana" â†’ "kiwi" â†’ "orange"</div>
        
        <h2>ğŸ‹ï¸ 4. å®Ÿè·µæ¼”ç¿’</h2>
        
        <div class="exercise">
            <h3>æ¼”ç¿’1: æœç‰©åã®ã‚½ãƒ¼ãƒˆ<span class="difficulty difficulty-easy">åˆç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>æœç‰©åã®é…åˆ—ã‚’é™é †ï¼ˆZâ†’Aï¼‰ã«ä¸¦ã¹æ›¿ãˆã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Sortã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: ["grape", "apple", "cherry", "banana"]</li>
                <li>å‡ºåŠ›: ["grape", "cherry", "banana", "apple"]</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Injectãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ Debugã«ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸé…åˆ—ãŒè¡¨ç¤º</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Injectãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>payload: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰</li>
                </ul>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: JSON</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: ["grape", "apple", "cherry", "banana"]</li>
                    <li>å‡ºåŠ›: JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</li>
                </ul>
                <p><strong>Sortãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload</li>
                    <li>ã‚½ãƒ¼ãƒˆé †: é™é †</li>
                    <li>æ•°å€¤ã¨ã—ã¦: OFFï¼ˆãƒã‚§ãƒƒã‚¯ãªã—ï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex1_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex1_template"]]
    },
    {
        "id": "ex1_template",
        "type": "template",
        "name": "æœç‰©é…åˆ—",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[\"grape\", \"apple\", \"cherry\", \"banana\"]",
        "output": "json",
        "x": 260,
        "y": 100,
        "wires": [["ex1_sort"]]
    },
    {
        "id": "ex1_sort",
        "type": "sort",
        "name": "é™é †ã‚½ãƒ¼ãƒˆ",
        "order": "descending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 420,
        "y": 100,
        "wires": [["ex1_debug"]]
    },
    {
        "id": "ex1_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 570,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’2: ã‚»ãƒ³ã‚µãƒ¼å€¤ã®æ•°å€¤ã‚½ãƒ¼ãƒˆ<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰å–å¾—ã—ãŸæ•°å€¤ãƒ‡ãƒ¼ã‚¿ã‚’æ˜‡é †ã«ä¸¦ã¹æ›¿ãˆã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Sortã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: [42, 7, 128, 15, 99]</li>
                <li>å‡ºåŠ›: [7, 15, 42, 99, 128]</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>æ•°å€¤ã¨ã—ã¦æ­£ã—ãæ˜‡é †ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: JSON</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: [42, 7, 128, 15, 99]</li>
                    <li>å‡ºåŠ›: JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ</li>
                </ul>
                <p><strong>Sortãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload</li>
                    <li>ã‚½ãƒ¼ãƒˆé †: æ˜‡é †</li>
                    <li>æ•°å€¤ã¨ã—ã¦: ONï¼ˆãƒã‚§ãƒƒã‚¯ï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex2_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex2_template"]]
    },
    {
        "id": "ex2_template",
        "type": "template",
        "name": "ã‚»ãƒ³ã‚µãƒ¼å€¤",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[42, 7, 128, 15, 99]",
        "output": "json",
        "x": 270,
        "y": 100,
        "wires": [["ex2_sort"]]
    },
    {
        "id": "ex2_sort",
        "type": "sort",
        "name": "æ•°å€¤æ˜‡é †",
        "order": "ascending",
        "as_num": true,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 420,
        "y": 100,
        "wires": [["ex2_debug"]]
    },
    {
        "id": "ex2_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 570,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’3: å•†å“ä¾¡æ ¼ã§ã‚½ãƒ¼ãƒˆ<span class="difficulty difficulty-medium">ä¸­ç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>å•†å“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã‚’ä¾¡æ ¼ã®å®‰ã„é †ã«ä¸¦ã¹æ›¿ãˆã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Sortã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: å•†å“åã¨ä¾¡æ ¼ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—</li>
                <li>å‡ºåŠ›: ä¾¡æ ¼ã®æ˜‡é †ã§ã‚½ãƒ¼ãƒˆã•ã‚ŒãŸé…åˆ—</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>æœ€ã‚‚å®‰ã„å•†å“ãŒå…ˆé ­ã«æ¥ã‚‹</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: JSON</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹: [{"name": "Pen", "price": 150}, {"name": "Eraser", "price": 50}, {"name": "Notebook", "price": 300}]</li>
                </ul>
                <p><strong>Sortãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚½ãƒ¼ãƒˆå¯¾è±¡: msg.payload</li>
                    <li>ã‚­ãƒ¼: priceï¼ˆJSONataå¼ã‚’é¸æŠï¼‰</li>
                    <li>ã‚½ãƒ¼ãƒˆé †: æ˜‡é †</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex3_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [["ex3_template"]]
    },
    {
        "id": "ex3_template",
        "type": "template",
        "name": "å•†å“ãƒ‡ãƒ¼ã‚¿",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "plain",
        "template": "[{\"name\": \"Pen\", \"price\": 150}, {\"name\": \"Eraser\", \"price\": 50}, {\"name\": \"Notebook\", \"price\": 300}]",
        "output": "json",
        "x": 270,
        "y": 100,
        "wires": [["ex3_sort"]]
    },
    {
        "id": "ex3_sort",
        "type": "sort",
        "name": "ä¾¡æ ¼é †ã‚½ãƒ¼ãƒˆ",
        "order": "ascending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "price",
        "msgKeyType": "jsonata",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 440,
        "y": 100,
        "wires": [["ex3_debug"]]
    },
    {
        "id": "ex3_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 590,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <div class="exercise">
            <h3>æ¼”ç¿’4: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ã‚½ãƒ¼ãƒˆ<span class="difficulty difficulty-hard">ä¸Šç´š</span></h3>
            
            <p><strong>ğŸ“ èª²é¡Œ:</strong></p>
            <p>Splitã§åˆ†å‰²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ã‚½ãƒ¼ãƒˆã—ã€Joinã§å†çµåˆã—ã¦ãã ã•ã„ã€‚</p>
            
            <p><strong>ğŸ¯ è¦æ±‚ä»•æ§˜:</strong></p>
            <ul>
                <li>Injectã€Templateã€Splitã€Sortã€Joinã€Debugãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨</li>
                <li>å…¥åŠ›: æ”¹è¡ŒåŒºåˆ‡ã‚Šã®éƒ½å¸‚åãƒªã‚¹ãƒˆ</li>
                <li>å‡ºåŠ›: ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ä¸¦ã¹æ›¿ãˆã‚‰ã‚ŒãŸé…åˆ—</li>
            </ul>
            
            <p><strong>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:</strong></p>
            <ul>
                <li>Splitã§åˆ†å‰² â†’ Sortã§ä¸¦ã¹æ›¿ãˆ â†’ Joinã§é…åˆ—ã«å†çµåˆ</li>
            </ul>
            
            <details>
                <summary>ğŸ’¡ ãƒ’ãƒ³ãƒˆ</summary>
                <p><strong>Templateãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>å½¢å¼: ãƒ†ã‚­ã‚¹ãƒˆ</li>
                    <li>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: Tokyo, Osaka, Kyoto, Nagoyaã‚’æ”¹è¡Œã§åŒºåˆ‡ã£ã¦å…¥åŠ›</li>
                    <li>å‡ºåŠ›: æ–‡å­—åˆ—</li>
                </ul>
                <p><strong>Splitãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>åˆ†å‰²: æ”¹è¡Œï¼ˆ\nï¼‰</li>
                </ul>
                <p><strong>Sortãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ã‚½ãƒ¼ãƒˆå¯¾è±¡: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹</li>
                    <li>ã‚­ãƒ¼: msg.payload</li>
                    <li>ã‚½ãƒ¼ãƒˆé †: æ˜‡é †</li>
                </ul>
                <p><strong>Joinãƒãƒ¼ãƒ‰ã®è¨­å®š:</strong></p>
                <ul>
                    <li>ãƒ¢ãƒ¼ãƒ‰: è‡ªå‹•ï¼ˆã¾ãŸã¯é…åˆ—å½¢å¼ï¼‰</li>
                </ul>
            </details>
            
            <details>
                <summary>âœ… è§£ç­”ä¾‹ãƒ•ãƒ­ãƒ¼</summary>
                <div class="flow-json">[
    {
        "id": "ex4_inject",
        "type": "inject",
        "name": "å®Ÿè¡Œ",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 100,
        "wires": [["ex4_template"]]
    },
    {
        "id": "ex4_template",
        "type": "template",
        "name": "éƒ½å¸‚ãƒªã‚¹ãƒˆ",
        "field": "payload",
        "fieldType": "msg",
        "format": "text",
        "syntax": "plain",
        "template": "Tokyo\nOsaka\nKyoto\nNagoya",
        "output": "str",
        "x": 220,
        "y": 100,
        "wires": [["ex4_split"]]
    },
    {
        "id": "ex4_split",
        "type": "split",
        "name": "åˆ†å‰²",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 350,
        "y": 100,
        "wires": [["ex4_sort"]]
    },
    {
        "id": "ex4_sort",
        "type": "sort",
        "name": "ã‚½ãƒ¼ãƒˆ",
        "order": "ascending",
        "as_num": false,
        "target": "",
        "targetType": "seq",
        "msgKey": "",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 470,
        "y": 100,
        "wires": [["ex4_join"]]
    },
    {
        "id": "ex4_join",
        "type": "join",
        "name": "çµåˆ",
        "mode": "auto",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 590,
        "y": 100,
        "wires": [["ex4_debug"]]
    },
    {
        "id": "ex4_debug",
        "type": "debug",
        "name": "çµæœ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 710,
        "y": 100,
        "wires": []
    }
]</div>
            </details>
        </div>
        
        <h2>ğŸ“ 5. ã¾ã¨ã‚</h2>
        
        <div class="important">
            <h3>Sortãƒãƒ¼ãƒ‰ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            <ul>
                <li>âœ… <strong>2ã¤ã®ãƒ¢ãƒ¼ãƒ‰</strong>: é…åˆ—ã‚½ãƒ¼ãƒˆã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚½ãƒ¼ãƒˆ</li>
                <li>âœ… <strong>ã‚½ãƒ¼ãƒˆé †</strong>: æ˜‡é †ï¼ˆascendingï¼‰ã¨é™é †ï¼ˆdescendingï¼‰</li>
                <li>âœ… <strong>æ•°å€¤ãƒ¢ãƒ¼ãƒ‰</strong>: æ•°å€¤ã¨ã—ã¦æ¯”è¼ƒã™ã‚‹ã‹æ–‡å­—åˆ—ã¨ã—ã¦æ¯”è¼ƒã™ã‚‹ã‹é¸æŠå¯èƒ½</li>
                <li>âœ… <strong>JSONataå¼</strong>: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé…åˆ—ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚½ãƒ¼ãƒˆå¯èƒ½</li>
                <li>âœ… <strong>Split/Joinã¨ã®é€£æº</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®ã‚½ãƒ¼ãƒˆã¯Split/Joinã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨</li>
            </ul>
        </div>
        
        <div class="warning">
            <h3>âš ï¸ ã‚ˆãã‚ã‚‹é–“é•ã„</h3>
            <ul>
                <li><strong>æ–‡å­—åˆ—æ•°å€¤ã®æ··åŒ</strong>: "9" ãŒ "100" ã‚ˆã‚Šå¤§ãã„ã¨åˆ¤å®šã•ã‚Œã‚‹ï¼ˆæ–‡å­—åˆ—é †ï¼‰</li>
                <li><strong>JSONataå¼ã®æŒ‡å®šãƒŸã‚¹</strong>: é…åˆ—è¦ç´ ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚’æ­£ç¢ºã«æŒ‡å®šã™ã‚‹</li>
                <li><strong>ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã®é¸æŠå¿˜ã‚Œ</strong>: Splitã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã€ã‚’é¸æŠ</li>
                <li><strong>msg.partsã®æ¬ è½</strong>: ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚½ãƒ¼ãƒˆã«ã¯msg.partsãŒå¿…è¦</li>
            </ul>
        </div>
        
        <div class="tip">
            <h3>ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
            <p>Sortãƒãƒ¼ãƒ‰ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã‚‚å­¦ã‚“ã§ã¿ã¾ã—ã‚‡ã†:</p>
            <ul>
                <li><strong>Splitãƒãƒ¼ãƒ‰</strong>: é…åˆ—ã‚„ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ†å‰²</li>
                <li><strong>Joinãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµåˆ</li>
                <li><strong>Batchãƒãƒ¼ãƒ‰</strong>: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–</li>
            </ul>
        </div>
        
        <h2>ğŸ”§ 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h2>
        
        <h3>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h3>
        
        <table>
            <tr>
                <th>å•é¡Œ</th>
                <th>åŸå› </th>
                <th>è§£æ±ºæ–¹æ³•</th>
            </tr>
            <tr>
                <td>ã‚½ãƒ¼ãƒˆã•ã‚Œãªã„</td>
                <td>é…åˆ—ã§ãªã„å€¤ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã‚‹</td>
                <td>å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒé…åˆ—ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>æ•°å€¤é †ã«ãªã‚‰ãªã„</td>
                <td>ã€Œæ•°å€¤ã¨ã—ã¦ã€ãŒOFF</td>
                <td>ã€Œæ•°å€¤ã¨ã—ã¦ã€ã‚’ONã«è¨­å®š</td>
            </tr>
            <tr>
                <td>ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚½ãƒ¼ãƒˆãŒå‹•ã‹ãªã„</td>
                <td>msg.partsãŒãªã„</td>
                <td>Splitãƒãƒ¼ãƒ‰ã‚’çµŒç”±ã•ã›ã‚‹</td>
            </tr>
            <tr>
                <td>JSONataå¼ã§ã‚¨ãƒ©ãƒ¼</td>
                <td>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã®ã‚¹ãƒšãƒ«ãƒŸã‚¹</td>
                <td>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚’ç¢ºèª</td>
            </tr>
            <tr>
                <td>çµæœãŒé…åˆ—ã§ãªããƒãƒ©ãƒãƒ©</td>
                <td>ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§ä½¿ç”¨</td>
                <td>Joinãƒãƒ¼ãƒ‰ã§å†çµåˆã™ã‚‹</td>
            </tr>
            <tr>
                <td>é †åºãŒå®‰å®šã—ãªã„</td>
                <td>åŒã˜å€¤ã®è¦ç´ ã®é †åº</td>
                <td>è¤‡åˆã‚­ãƒ¼ã§ç¬¬2ã‚½ãƒ¼ãƒˆæ¡ä»¶ã‚’è¿½åŠ </td>
            </tr>
        </table>
        
        <h2>ğŸ’¡ 7. å®Ÿå‹™ã§ã®æ´»ç”¨ä¾‹</h2>
        
        <h3>ã‚±ãƒ¼ã‚¹1: IoTã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h3>
        <div class="code-block">è¤‡æ•°ã‚»ãƒ³ã‚µãƒ¼ã‹ã‚‰æ¸©åº¦ãƒ‡ãƒ¼ã‚¿å—ä¿¡
â†“
Sortãƒãƒ¼ãƒ‰ï¼ˆæ•°å€¤é™é †ï¼‰
â†“
æœ€ã‚‚é«˜æ¸©ã®ã‚»ãƒ³ã‚µãƒ¼ãŒå…ˆé ­
â†“
ã‚¢ãƒ©ãƒ¼ãƒˆåˆ¤å®šãƒ»é€šçŸ¥</div>
        
        <h3>ã‚±ãƒ¼ã‚¹2: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ•´ç†</h3>
        <div class="code-block">REST APIã‹ã‚‰å•†å“ä¸€è¦§å–å¾—
â†“
Sortãƒãƒ¼ãƒ‰ï¼ˆä¾¡æ ¼æ˜‡é †ã€JSONata: priceï¼‰
â†“
å®‰ã„é †ã«ä¸¦ã³æ›¿ãˆ
â†“
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«è¿”å´</div>
        
        <h3>ã‚±ãƒ¼ã‚¹3: ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®æ™‚ç³»åˆ—æ•´ç†</h3>
        <div class="code-block">è¤‡æ•°ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ­ã‚°åé›†
â†“
Sortãƒãƒ¼ãƒ‰ï¼ˆtimestampæ˜‡é †ï¼‰
â†“
æ™‚ç³»åˆ—é †ã«æ•´åˆ—
â†“
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜</div>
        
        <h3>ã‚±ãƒ¼ã‚¹4: åœ¨åº«ç®¡ç†ã®å„ªå…ˆé †ä½ä»˜ã‘</h3>
        <div class="code-block">å€‰åº«ã®åœ¨åº«ãƒ‡ãƒ¼ã‚¿
â†“
Sortãƒãƒ¼ãƒ‰ï¼ˆæ•°é‡æ˜‡é †ï¼‰
â†“
åœ¨åº«ãŒå°‘ãªã„é †ã«ã‚½ãƒ¼ãƒˆ
â†“
ç™ºæ³¨ã‚¢ãƒ©ãƒ¼ãƒˆç”Ÿæˆ</div>
        
        <h2>ğŸ”— 8. è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹</h2>
        
        <ul>
            <li><a href="https://nodered.org/docs/user-guide/messages" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ“ä½œ</a></li>
            <li><a href="https://nodered.org/docs/user-guide/nodes#sort" target="_blank">Node-REDå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Sortãƒãƒ¼ãƒ‰</a></li>
            <li><a href="https://docs.jsonata.org/" target="_blank">JSONataãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a></li>
            <li><a href="https://cookbook.nodered.org/" target="_blank">Node-RED Cookbook</a></li>
        </ul>
        
        <hr>
        
        <p style="text-align: center; color: #999; margin-top: 40px;">
            <small>ã“ã®ã‚¬ã‚¤ãƒ‰ãŒå½¹ã«ç«‹ã¡ã¾ã—ãŸã‚‰ã€å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç·´ç¿’ã—ã¦ã¿ã¦ãã ã•ã„!<br>
            Sortãƒãƒ¼ãƒ‰ã¯ãƒ‡ãƒ¼ã‚¿æ•´ç†ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ä½œæˆã®å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚</small><br>
            <small>å‚ç…§å…ƒï¼šNodeREDã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼å†…ã‚µãƒ³ãƒ—ãƒ«ãƒ•ãƒ­ãƒ¼</small>
        </p>
    </div>
    
    <script>
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
        document.addEventListener('DOMContentLoaded', function() {
            // .flow-jsonã«ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
            var codeBlocks = document.querySelectorAll('.flow-json');
            
            codeBlocks.forEach(function(block) {
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ä½œæˆ
                var button = document.createElement('button');
                button.className = 'copy-button';
                button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                
                // ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
                button.addEventListener('click', function() {
                    // ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—ï¼ˆãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’é™¤å¤–ï¼‰
                    var code = block.textContent.replace(/ã‚³ãƒ”ãƒ¼(ã—ã¾ã—ãŸ!)?$/, '').trim();
                    
                    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                    navigator.clipboard.writeText(code).then(function() {
                        // æˆåŠŸæ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                        button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
                        button.classList.add('copied');
                        
                        // 2ç§’å¾Œã«å…ƒã«æˆ»ã™
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                            button.classList.remove('copied');
                        }, 2000);
                    }).catch(function(err) {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
                        button.textContent = 'ã‚¨ãƒ©ãƒ¼';
                        setTimeout(function() {
                            button.innerHTML = '<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>ã‚³ãƒ”ãƒ¼';
                        }, 2000);
                    });
                });
                
                // ãƒœã‚¿ãƒ³ã‚’ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«è¿½åŠ 
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
    <!-- ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ -->
    <a href="index.html" style="position: fixed; bottom: 20px; right: 20px; width: 56px; height: 56px; background: linear-gradient(135deg, #42b883 0%, #35495e 100%); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 24px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.3)';" title="ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸">ğŸ </a>
</body>
</html>
